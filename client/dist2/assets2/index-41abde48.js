var rM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rte=rM((kte,d1)=>{function iM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yc={},oM={get exports(){return yc},set exports(t){yc=t}},Xp={},S={},aM={get exports(){return S},set exports(t){S=t}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=Symbol.for("react.element"),uM=Symbol.for("react.portal"),lM=Symbol.for("react.fragment"),cM=Symbol.for("react.strict_mode"),hM=Symbol.for("react.profiler"),fM=Symbol.for("react.provider"),dM=Symbol.for("react.context"),pM=Symbol.for("react.forward_ref"),mM=Symbol.for("react.suspense"),gM=Symbol.for("react.memo"),yM=Symbol.for("react.lazy"),ZS=Symbol.iterator;function vM(t){return t===null||typeof t!="object"?null:(t=ZS&&t[ZS]||t["@@iterator"],typeof t=="function"?t:null)}var jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bx=Object.assign,qx={};function Uu(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||jx}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zx(){}zx.prototype=Uu.prototype;function p1(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||jx}var m1=p1.prototype=new zx;m1.constructor=p1;Bx(m1,Uu.prototype);m1.isPureReactComponent=!0;var e_=Array.isArray,Wx=Object.prototype.hasOwnProperty,g1={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Hx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Wx.call(e,r)&&!Qx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yh,type:t,key:s,ref:o,props:i,_owner:g1.current}}function wM(t,e){return{$$typeof:yh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y1(t){return typeof t=="object"&&t!==null&&t.$$typeof===yh}function bM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t_=/\/+/g;function ny(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bM(""+t.key):e.toString(36)}function $f(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yh:case uM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ny(o,0):r,e_(i)?(n="",t!=null&&(n=t.replace(t_,"$&/")+"/"),$f(i,e,n,"",function(l){return l})):i!=null&&(y1(i)&&(i=wM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(t_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",e_(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+ny(s,a);o+=$f(s,e,n,u,i)}else if(u=vM(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+ny(s,a++),o+=$f(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tf(t,e,n){if(t==null)return t;var r=[],i=0;return $f(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Uf={transition:null},SM={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Uf,ReactCurrentOwner:g1};de.Children={map:tf,forEach:function(t,e,n){tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tf(t,function(){e++}),e},toArray:function(t){return tf(t,function(e){return e})||[]},only:function(t){if(!y1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Uu;de.Fragment=lM;de.Profiler=hM;de.PureComponent=p1;de.StrictMode=cM;de.Suspense=mM;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SM;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=g1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Wx.call(e,u)&&!Qx.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:yh,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:dM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fM,_context:t},t.Consumer=t};de.createElement=Hx;de.createFactory=function(t){var e=Hx.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:pM,render:t}};de.isValidElement=y1;de.lazy=function(t){return{$$typeof:yM,_payload:{_status:-1,_result:t},_init:EM}};de.memo=function(t,e){return{$$typeof:gM,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Uf.transition;Uf.transition={};try{t()}finally{Uf.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return pn.current.useCallback(t,e)};de.useContext=function(t){return pn.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};de.useEffect=function(t,e){return pn.current.useEffect(t,e)};de.useId=function(){return pn.current.useId()};de.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return pn.current.useMemo(t,e)};de.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};de.useRef=function(t){return pn.current.useRef(t)};de.useState=function(t){return pn.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return pn.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(aM);const ke=sM(S),Nd=iM({__proto__:null,default:ke},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M=S,IM=Symbol.for("react.element"),TM=Symbol.for("react.fragment"),kM=Object.prototype.hasOwnProperty,CM=_M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xM={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kM.call(e,r)&&!xM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IM,type:t,key:s,ref:o,props:i,_owner:CM.current}}Xp.Fragment=TM;Xp.jsx=Gx;Xp.jsxs=Gx;(function(t){t.exports=Xp})(oM);const vh=yc.Fragment,v=yc.jsx,I=yc.jsxs;var Nv={},Ad={},OM={get exports(){return Ad},set exports(t){Ad=t}},qn={},Av={},NM={get exports(){return Av},set exports(t){Av=t}},Kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,Y){var B=P.length;P.push(Y);e:for(;0<B;){var ae=B-1>>>1,q=P[ae];if(0<i(q,Y))P[ae]=Y,P[B]=q,B=ae;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var Y=P[0],B=P.pop();if(B!==Y){P[0]=B;e:for(var ae=0,q=P.length,_e=q>>>1;ae<_e;){var Ie=2*(ae+1)-1,Ce=P[Ie],me=Ie+1,Q=P[me];if(0>i(Ce,B))me<q&&0>i(Q,Ce)?(P[ae]=Q,P[me]=B,ae=me):(P[ae]=Ce,P[Ie]=B,ae=Ie);else if(me<q&&0>i(Q,B))P[ae]=Q,P[me]=B,ae=me;else break e}}return Y}function i(P,Y){var B=P.sortIndex-Y.sortIndex;return B!==0?B:P.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,d=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var Y=n(l);Y!==null;){if(Y.callback===null)r(l);else if(Y.startTime<=P)r(l),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(l)}}function E(P){if(m=!1,w(P),!p)if(n(u)!==null)p=!0,re(_);else{var Y=n(l);Y!==null&&X(E,Y.startTime-P)}}function _(P,Y){p=!1,m&&(m=!1,g(x),x=-1),d=!0;var B=f;try{for(w(Y),h=n(u);h!==null&&(!(h.expirationTime>Y)||P&&!oe());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var q=ae(h.expirationTime<=Y);Y=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(u)&&r(u),w(Y)}else r(u);h=n(u)}if(h!==null)var _e=!0;else{var Ie=n(l);Ie!==null&&X(E,Ie.startTime-Y),_e=!1}return _e}finally{h=null,f=B,d=!1}}var T=!1,k=null,x=-1,M=5,C=-1;function oe(){return!(t.unstable_now()-C<M)}function pe(){if(k!==null){var P=t.unstable_now();C=P;var Y=!0;try{Y=k(!0,P)}finally{Y?ce():(T=!1,k=null)}}else T=!1}var ce;if(typeof y=="function")ce=function(){y(pe)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,he=G.port2;G.port1.onmessage=pe,ce=function(){he.postMessage(null)}}else ce=function(){b(pe,0)};function re(P){k=P,T||(T=!0,ce())}function X(P,Y){x=b(function(){P(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,re(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var B=f;f=Y;try{return P()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,Y){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=f;f=P;try{return Y()}finally{f=B}},t.unstable_scheduleCallback=function(P,Y,B){var ae=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ae+B:ae):B=ae,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,P={id:c++,callback:Y,priorityLevel:P,startTime:B,expirationTime:q,sortIndex:-1},B>ae?(P.sortIndex=B,e(l,P),n(u)===null&&P===n(l)&&(m?(g(x),x=-1):m=!0,X(E,B-ae))):(P.sortIndex=q,e(u,P),p||d||(p=!0,re(_))),P},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(P){var Y=f;return function(){var B=f;f=Y;try{return P.apply(this,arguments)}finally{f=B}}}})(Kx);(function(t){t.exports=Kx})(NM);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=S,Un=Av;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jx=new Set,vc={};function ia(t,e){hu(t,e),hu(t+"Capture",e)}function hu(t,e){for(vc[t]=e,t=0;t<e.length;t++)Jx.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rv=Object.prototype.hasOwnProperty,AM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n_={},r_={};function RM(t){return Rv.call(r_,t)?!0:Rv.call(n_,t)?!1:AM.test(t)?r_[t]=!0:(n_[t]=!0,!1)}function PM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DM(t,e,n,r){if(e===null||typeof e>"u"||PM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function w1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v1,w1);Ht[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v1,w1);Ht[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v1,w1);Ht[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function b1(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DM(e,n,i,r)&&(n=null),r||i===null?RM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=Yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nf=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),S1=Symbol.for("react.forward_ref"),Dv=Symbol.for("react.suspense"),Lv=Symbol.for("react.suspense_list"),_1=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),eO=Symbol.for("react.offscreen"),i_=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,ry;function Pl(t){if(ry===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ry=e&&e[1]||""}return`
`+ry+t}var iy=!1;function sy(t,e){if(!t||iy)return"";iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{iy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pl(t):""}function LM(t){switch(t.tag){case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return t=sy(t.type,!1),t;case 11:return t=sy(t.type.render,!1),t;case 1:return t=sy(t.type,!0),t;default:return""}}function Fv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Aa:return"Portal";case Pv:return"Profiler";case E1:return"StrictMode";case Dv:return"Suspense";case Lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zx:return(t.displayName||"Context")+".Consumer";case Xx:return(t._context.displayName||"Context")+".Provider";case S1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _1:return e=t.displayName||null,e!==null?e:Fv(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Fv(t(e))}catch{}}return null}function FM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fv(e);case 8:return e===E1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MM(t){var e=tO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rf(t){t._valueTracker||(t._valueTracker=MM(t))}function nO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mv(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function s_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rO(t,e){e=e.checked,e!=null&&b1(t,"checked",e,!1)}function $v(t,e){rO(t,e);var n=Ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uv(t,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uv(t,e,n){(e!=="number"||Rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function Ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Dl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ss(n)}}function iO(t,e){var n=Ss(e.value),r=Ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sf,oO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sf=sf||document.createElement("div"),sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$M=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){$M.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function aO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function uO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UM=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bv(t,e){if(e){if(UM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function qv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zv=null;function I1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wv=null,Ga=null,Ka=null;function l_(t){if(t=Eh(t)){if(typeof Wv!="function")throw Error(U(280));var e=t.stateNode;e&&(e=rm(e),Wv(t.stateNode,t.type,e))}}function lO(t){Ga?Ka?Ka.push(t):Ka=[t]:Ga=t}function cO(){if(Ga){var t=Ga,e=Ka;if(Ka=Ga=null,l_(t),e)for(t=0;t<e.length;t++)l_(e[t])}}function hO(t,e){return t(e)}function fO(){}var oy=!1;function dO(t,e,n){if(oy)return t(e,n);oy=!0;try{return hO(t,e,n)}finally{oy=!1,(Ga!==null||Ka!==null)&&(fO(),cO())}}function bc(t,e){var n=t.stateNode;if(n===null)return null;var r=rm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Qv=!1;if(bi)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){Qv=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{Qv=!1}function VM(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Gl=!1,Pd=null,Dd=!1,Hv=null,jM={onError:function(t){Gl=!0,Pd=t}};function BM(t,e,n,r,i,s,o,a,u){Gl=!1,Pd=null,VM.apply(jM,arguments)}function qM(t,e,n,r,i,s,o,a,u){if(BM.apply(this,arguments),Gl){if(Gl){var l=Pd;Gl=!1,Pd=null}else throw Error(U(198));Dd||(Dd=!0,Hv=l)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c_(t){if(sa(t)!==t)throw Error(U(188))}function zM(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return c_(i),t;if(s===r)return c_(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function mO(t){return t=zM(t),t!==null?gO(t):null}function gO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gO(t);if(e!==null)return e;t=t.sibling}return null}var yO=Un.unstable_scheduleCallback,h_=Un.unstable_cancelCallback,WM=Un.unstable_shouldYield,QM=Un.unstable_requestPaint,ht=Un.unstable_now,HM=Un.unstable_getCurrentPriorityLevel,T1=Un.unstable_ImmediatePriority,vO=Un.unstable_UserBlockingPriority,Ld=Un.unstable_NormalPriority,GM=Un.unstable_LowPriority,wO=Un.unstable_IdlePriority,Zp=null,Br=null;function KM(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(Zp,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:XM,YM=Math.log,JM=Math.LN2;function XM(t){return t>>>=0,t===0?32:31-(YM(t)/JM|0)|0}var of=64,af=4194304;function Ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ll(a):(s&=o,s!==0&&(r=Ll(s)))}else o=n&~i,o!==0?r=Ll(o):s!==0&&(r=Ll(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),i=1<<n,r|=t[n],e&=~i;return r}function ZM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=ZM(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Gv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bO(){var t=of;return of<<=1,!(of&4194240)&&(of=64),t}function ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function t3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function k1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function EO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SO,C1,_O,IO,TO,Kv=!1,uf=[],us=null,ls=null,cs=null,Ec=new Map,Sc=new Map,Ji=[],n3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(t,e){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(e.pointerId)}}function ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Eh(e),e!==null&&C1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r3(t,e,n,r,i){switch(e){case"focusin":return us=ll(us,t,e,n,r,i),!0;case"dragenter":return ls=ll(ls,t,e,n,r,i),!0;case"mouseover":return cs=ll(cs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ec.set(s,ll(Ec.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sc.set(s,ll(Sc.get(s)||null,t,e,n,r,i)),!0}return!1}function kO(t){var e=go(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=pO(n),e!==null){t.blockedOn=e,TO(t.priority,function(){_O(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zv=r,n.target.dispatchEvent(r),zv=null}else return e=Eh(n),e!==null&&C1(e),t.blockedOn=n,!1;e.shift()}return!0}function d_(t,e,n){Vf(t)&&n.delete(e)}function i3(){Kv=!1,us!==null&&Vf(us)&&(us=null),ls!==null&&Vf(ls)&&(ls=null),cs!==null&&Vf(cs)&&(cs=null),Ec.forEach(d_),Sc.forEach(d_)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Kv||(Kv=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,i3)))}function _c(t){function e(i){return cl(i,t)}if(0<uf.length){cl(uf[0],t);for(var n=1;n<uf.length;n++){var r=uf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(us!==null&&cl(us,t),ls!==null&&cl(ls,t),cs!==null&&cl(cs,t),Ec.forEach(e),Sc.forEach(e),n=0;n<Ji.length;n++)r=Ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ji.length&&(n=Ji[0],n.blockedOn===null);)kO(n),n.blockedOn===null&&Ji.shift()}var Ya=Oi.ReactCurrentBatchConfig,Md=!0;function s3(t,e,n,r){var i=Pe,s=Ya.transition;Ya.transition=null;try{Pe=1,x1(t,e,n,r)}finally{Pe=i,Ya.transition=s}}function o3(t,e,n,r){var i=Pe,s=Ya.transition;Ya.transition=null;try{Pe=4,x1(t,e,n,r)}finally{Pe=i,Ya.transition=s}}function x1(t,e,n,r){if(Md){var i=Yv(t,e,n,r);if(i===null)yy(t,e,r,$d,n),f_(t,r);else if(r3(i,t,e,n,r))r.stopPropagation();else if(f_(t,r),e&4&&-1<n3.indexOf(t)){for(;i!==null;){var s=Eh(i);if(s!==null&&SO(s),s=Yv(t,e,n,r),s===null&&yy(t,e,r,$d,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yy(t,e,r,null,n)}}var $d=null;function Yv(t,e,n,r){if($d=null,t=I1(r),t=go(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function CO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HM()){case T1:return 1;case vO:return 4;case Ld:case GM:return 16;case wO:return 536870912;default:return 16}default:return 16}}var ns=null,O1=null,jf=null;function xO(){if(jf)return jf;var t,e=O1,n=e.length,r,i="value"in ns?ns.value:ns.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jf=i.slice(t,1<r?1-r:void 0)}function Bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lf(){return!0}function p_(){return!1}function zn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lf:p_,this.isPropagationStopped=p_,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lf)},persist:function(){},isPersistent:lf}),e}var Vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N1=zn(Vu),bh=tt({},Vu,{view:0,detail:0}),a3=zn(bh),uy,ly,hl,em=tt({},bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(uy=t.screenX-hl.screenX,ly=t.screenY-hl.screenY):ly=uy=0,hl=t),uy)},movementY:function(t){return"movementY"in t?t.movementY:ly}}),m_=zn(em),u3=tt({},em,{dataTransfer:0}),l3=zn(u3),c3=tt({},bh,{relatedTarget:0}),cy=zn(c3),h3=tt({},Vu,{animationName:0,elapsedTime:0,pseudoElement:0}),f3=zn(h3),d3=tt({},Vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p3=zn(d3),m3=tt({},Vu,{data:0}),g_=zn(m3),g3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v3[t])?!!e[t]:!1}function A1(){return w3}var b3=tt({},bh,{key:function(t){if(t.key){var e=g3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A1,charCode:function(t){return t.type==="keypress"?Bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E3=zn(b3),S3=tt({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y_=zn(S3),_3=tt({},bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A1}),I3=zn(_3),T3=tt({},Vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),k3=zn(T3),C3=tt({},em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x3=zn(C3),O3=[9,13,27,32],R1=bi&&"CompositionEvent"in window,Kl=null;bi&&"documentMode"in document&&(Kl=document.documentMode);var N3=bi&&"TextEvent"in window&&!Kl,OO=bi&&(!R1||Kl&&8<Kl&&11>=Kl),v_=String.fromCharCode(32),w_=!1;function NO(t,e){switch(t){case"keyup":return O3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function A3(t,e){switch(t){case"compositionend":return AO(e);case"keypress":return e.which!==32?null:(w_=!0,v_);case"textInput":return t=e.data,t===v_&&w_?null:t;default:return null}}function R3(t,e){if(Pa)return t==="compositionend"||!R1&&NO(t,e)?(t=xO(),jf=O1=ns=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OO&&e.locale!=="ko"?null:e.data;default:return null}}var P3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P3[t.type]:e==="textarea"}function RO(t,e,n,r){lO(r),e=Ud(e,"onChange"),0<e.length&&(n=new N1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,Ic=null;function D3(t){qO(t,0)}function tm(t){var e=Fa(t);if(nO(e))return t}function L3(t,e){if(t==="change")return e}var PO=!1;if(bi){var hy;if(bi){var fy="oninput"in document;if(!fy){var E_=document.createElement("div");E_.setAttribute("oninput","return;"),fy=typeof E_.oninput=="function"}hy=fy}else hy=!1;PO=hy&&(!document.documentMode||9<document.documentMode)}function S_(){Yl&&(Yl.detachEvent("onpropertychange",DO),Ic=Yl=null)}function DO(t){if(t.propertyName==="value"&&tm(Ic)){var e=[];RO(e,Ic,t,I1(t)),dO(D3,e)}}function F3(t,e,n){t==="focusin"?(S_(),Yl=e,Ic=n,Yl.attachEvent("onpropertychange",DO)):t==="focusout"&&S_()}function M3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tm(Ic)}function $3(t,e){if(t==="click")return tm(e)}function U3(t,e){if(t==="input"||t==="change")return tm(e)}function V3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:V3;function Tc(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rv.call(e,i)||!br(t[i],e[i]))return!1}return!0}function __(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=__(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=__(n)}}function LO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FO(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rd(t.document)}return e}function P1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function j3(t){var e=FO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LO(n.ownerDocument.documentElement,n)){if(r!==null&&P1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=I_(n,s);var o=I_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B3=bi&&"documentMode"in document&&11>=document.documentMode,Da=null,Jv=null,Jl=null,Xv=!1;function T_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xv||Da==null||Da!==Rd(r)||(r=Da,"selectionStart"in r&&P1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jl&&Tc(Jl,r)||(Jl=r,r=Ud(Jv,"onSelect"),0<r.length&&(e=new N1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Da)))}function cf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},dy={},MO={};bi&&(MO=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function nm(t){if(dy[t])return dy[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MO)return dy[t]=e[n];return t}var $O=nm("animationend"),UO=nm("animationiteration"),VO=nm("animationstart"),jO=nm("transitionend"),BO=new Map,k_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){BO.set(t,e),ia(e,[t])}for(var py=0;py<k_.length;py++){var my=k_[py],q3=my.toLowerCase(),z3=my[0].toUpperCase()+my.slice(1);Bs(q3,"on"+z3)}Bs($O,"onAnimationEnd");Bs(UO,"onAnimationIteration");Bs(VO,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(jO,"onTransitionEnd");hu("onMouseEnter",["mouseout","mouseover"]);hu("onMouseLeave",["mouseout","mouseover"]);hu("onPointerEnter",["pointerout","pointerover"]);hu("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function C_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qM(r,e,void 0,t),t.currentTarget=null}function qO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;C_(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;C_(i,a,l),s=u}}}if(Dd)throw t=Hv,Dd=!1,Hv=null,t}function je(t,e){var n=e[r0];n===void 0&&(n=e[r0]=new Set);var r=t+"__bubble";n.has(r)||(zO(e,t,2,!1),n.add(r))}function gy(t,e,n){var r=0;e&&(r|=4),zO(n,t,r,e)}var hf="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[hf]){t[hf]=!0,Jx.forEach(function(n){n!=="selectionchange"&&(W3.has(n)||gy(n,!1,t),gy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hf]||(e[hf]=!0,gy("selectionchange",!1,e))}}function zO(t,e,n,r){switch(CO(e)){case 1:var i=s3;break;case 4:i=o3;break;default:i=x1}n=i.bind(null,e,n,t),i=void 0,!Qv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dO(function(){var l=s,c=I1(n),h=[];e:{var f=BO.get(t);if(f!==void 0){var d=N1,p=t;switch(t){case"keypress":if(Bf(n)===0)break e;case"keydown":case"keyup":d=E3;break;case"focusin":p="focus",d=cy;break;case"focusout":p="blur",d=cy;break;case"beforeblur":case"afterblur":d=cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=m_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=l3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=I3;break;case $O:case UO:case VO:d=f3;break;case jO:d=k3;break;case"scroll":d=a3;break;case"wheel":d=x3;break;case"copy":case"cut":case"paste":d=p3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=y_}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=l,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=bc(y,g),E!=null&&m.push(Cc(y,E,w)))),b)break;y=y.return}0<m.length&&(f=new d(f,p,null,n,c),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==zv&&(p=n.relatedTarget||n.fromElement)&&(go(p)||p[Ei]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=l,p=p?go(p):null,p!==null&&(b=sa(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=l),d!==p)){if(m=m_,E="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=y_,E="onPointerLeave",g="onPointerEnter",y="pointer"),b=d==null?f:Fa(d),w=p==null?f:Fa(p),f=new m(E,y+"leave",d,n,c),f.target=b,f.relatedTarget=w,E=null,go(c)===l&&(m=new m(g,y+"enter",p,n,c),m.target=w,m.relatedTarget=b,E=m),b=E,d&&p)t:{for(m=d,g=p,y=0,w=m;w;w=wa(w))y++;for(w=0,E=g;E;E=wa(E))w++;for(;0<y-w;)m=wa(m),y--;for(;0<w-y;)g=wa(g),w--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=wa(m),g=wa(g)}m=null}else m=null;d!==null&&x_(h,f,d,m,!1),p!==null&&b!==null&&x_(h,b,p,m,!0)}}e:{if(f=l?Fa(l):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var _=L3;else if(b_(f))if(PO)_=U3;else{_=M3;var T=F3}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=$3);if(_&&(_=_(t,l))){RO(h,_,n,c);break e}T&&T(t,f,l),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Uv(f,"number",f.value)}switch(T=l?Fa(l):window,t){case"focusin":(b_(T)||T.contentEditable==="true")&&(Da=T,Jv=l,Jl=null);break;case"focusout":Jl=Jv=Da=null;break;case"mousedown":Xv=!0;break;case"contextmenu":case"mouseup":case"dragend":Xv=!1,T_(h,n,c);break;case"selectionchange":if(B3)break;case"keydown":case"keyup":T_(h,n,c)}var k;if(R1)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pa?NO(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(OO&&n.locale!=="ko"&&(Pa||x!=="onCompositionStart"?x==="onCompositionEnd"&&Pa&&(k=xO()):(ns=c,O1="value"in ns?ns.value:ns.textContent,Pa=!0)),T=Ud(l,x),0<T.length&&(x=new g_(x,t,null,n,c),h.push({event:x,listeners:T}),k?x.data=k:(k=AO(n),k!==null&&(x.data=k)))),(k=N3?A3(t,n):R3(t,n))&&(l=Ud(l,"onBeforeInput"),0<l.length&&(c=new g_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=k))}qO(h,e)})}function Cc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bc(t,n),s!=null&&r.unshift(Cc(t,s,i)),s=bc(t,e),s!=null&&r.push(Cc(t,s,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=bc(n,s),u!=null&&o.unshift(Cc(n,u,a))):i||(u=bc(n,s),u!=null&&o.push(Cc(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Q3=/\r\n?/g,H3=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(Q3,`
`).replace(H3,"")}function ff(t,e,n){if(e=O_(e),O_(t)!==e&&n)throw Error(U(425))}function Vd(){}var Zv=null,e0=null;function t0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var n0=typeof setTimeout=="function"?setTimeout:void 0,G3=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,K3=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(Y3)}:n0;function Y3(t){setTimeout(function(){throw t})}function vy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_c(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ju=Math.random().toString(36).slice(2),Or="__reactFiber$"+ju,xc="__reactProps$"+ju,Ei="__reactContainer$"+ju,r0="__reactEvents$"+ju,J3="__reactListeners$"+ju,X3="__reactHandles$"+ju;function go(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ei]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A_(t);t!==null;){if(n=t[Or])return n;t=A_(t)}return e}t=n,n=t.parentNode}return null}function Eh(t){return t=t[Or]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function rm(t){return t[xc]||null}var i0=[],Ma=-1;function qs(t){return{current:t}}function qe(t){0>Ma||(t.current=i0[Ma],i0[Ma]=null,Ma--)}function Ve(t,e){Ma++,i0[Ma]=t.current,t.current=e}var _s={},rn=qs(_s),Tn=qs(!1),Do=_s;function fu(t,e){var n=t.type.contextTypes;if(!n)return _s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function jd(){qe(Tn),qe(rn)}function R_(t,e,n){if(rn.current!==_s)throw Error(U(168));Ve(rn,e),Ve(Tn,n)}function WO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,FM(t)||"Unknown",i));return tt({},n,r)}function Bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_s,Do=rn.current,Ve(rn,t),Ve(Tn,Tn.current),!0}function P_(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=WO(t,e,Do),r.__reactInternalMemoizedMergedChildContext=t,qe(Tn),qe(rn),Ve(rn,t)):qe(Tn),Ve(Tn,n)}var ui=null,im=!1,wy=!1;function QO(t){ui===null?ui=[t]:ui.push(t)}function Z3(t){im=!0,QO(t)}function zs(){if(!wy&&ui!==null){wy=!0;var t=0,e=Pe;try{var n=ui;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,im=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),yO(T1,zs),i}finally{Pe=e,wy=!1}}return null}var $a=[],Ua=0,qd=null,zd=0,Kn=[],Yn=0,Lo=null,li=1,ci="";function ro(t,e){$a[Ua++]=zd,$a[Ua++]=qd,qd=t,zd=e}function HO(t,e,n){Kn[Yn++]=li,Kn[Yn++]=ci,Kn[Yn++]=Lo,Lo=t;var r=li;t=ci;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var s=32-yr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,li=1<<32-yr(e)+i|n<<i|r,ci=s+t}else li=1<<s|n<<i|r,ci=t}function D1(t){t.return!==null&&(ro(t,1),HO(t,1,0))}function L1(t){for(;t===qd;)qd=$a[--Ua],$a[Ua]=null,zd=$a[--Ua],$a[Ua]=null;for(;t===Lo;)Lo=Kn[--Yn],Kn[Yn]=null,ci=Kn[--Yn],Kn[Yn]=null,li=Kn[--Yn],Kn[Yn]=null}var $n=null,Ln=null,He=!1,pr=null;function GO(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Ln=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lo!==null?{id:li,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Ln=null,!0):!1;default:return!1}}function s0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function o0(t){if(He){var e=Ln;if(e){var n=e;if(!D_(t,e)){if(s0(t))throw Error(U(418));e=hs(n.nextSibling);var r=$n;e&&D_(t,e)?GO(r,n):(t.flags=t.flags&-4097|2,He=!1,$n=t)}}else{if(s0(t))throw Error(U(418));t.flags=t.flags&-4097|2,He=!1,$n=t}}}function L_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function df(t){if(t!==$n)return!1;if(!He)return L_(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!t0(t.type,t.memoizedProps)),e&&(e=Ln)){if(s0(t))throw KO(),Error(U(418));for(;e;)GO(t,e),e=hs(e.nextSibling)}if(L_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=$n?hs(t.stateNode.nextSibling):null;return!0}function KO(){for(var t=Ln;t;)t=hs(t.nextSibling)}function du(){Ln=$n=null,He=!1}function F1(t){pr===null?pr=[t]:pr.push(t)}var e$=Oi.ReactCurrentBatchConfig;function fr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Wd=qs(null),Qd=null,Va=null,M1=null;function $1(){M1=Va=Qd=null}function U1(t){var e=Wd.current;qe(Wd),t._currentValue=e}function a0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ja(t,e){Qd=t,M1=Va=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(M1!==t)if(t={context:t,memoizedValue:e,next:null},Va===null){if(Qd===null)throw Error(U(308));Va=t,Qd.dependencies={lanes:0,firstContext:t}}else Va=Va.next=t;return e}var yo=null;function V1(t){yo===null?yo=[t]:yo.push(t)}function YO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,V1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function j1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,V1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function qf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k1(t,n)}}function F_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var i=t.updateQueue;Qi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,d=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=tt({},h,f);break e;case 2:Qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=d,u=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=h}}function M_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var XO=new Yx.Component().refs;function u0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sm={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=ps(t),s=gi(r,i);s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(vr(e,t,i,r),qf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=ps(t),s=gi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(vr(e,t,i,r),qf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=ps(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=fs(t,i,r),e!==null&&(vr(e,t,r,n),qf(e,t,r))}};function $_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tc(n,r)||!Tc(i,s):!0}function ZO(t,e,n){var r=!1,i=_s,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=kn(e)?Do:rn.current,r=e.contextTypes,s=(r=r!=null)?fu(t,i):_s),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function U_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sm.enqueueReplaceState(e,e.state,null)}function l0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=XO,j1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=kn(e)?Do:rn.current,i.context=fu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(u0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sm.enqueueReplaceState(i,i.state,null),Hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===XO&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function pf(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V_(t){var e=t._init;return e(t._payload)}function eN(t){function e(g,y){if(t){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=ms(g,y),g.index=0,g.sibling=null,g}function s(g,y,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,E){return y===null||y.tag!==6?(y=ky(w,g.mode,E),y.return=g,y):(y=i(y,w),y.return=g,y)}function u(g,y,w,E){var _=w.type;return _===Ra?c(g,y,w.props.children,E,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wi&&V_(_)===y.type)?(E=i(y,w.props),E.ref=fl(g,y,w),E.return=g,E):(E=Kf(w.type,w.key,w.props,null,g.mode,E),E.ref=fl(g,y,w),E.return=g,E)}function l(g,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Cy(w,g.mode,E),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function c(g,y,w,E,_){return y===null||y.tag!==7?(y=Co(w,g.mode,E,_),y.return=g,y):(y=i(y,w),y.return=g,y)}function h(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ky(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nf:return w=Kf(y.type,y.key,y.props,null,g.mode,w),w.ref=fl(g,null,y),w.return=g,w;case Aa:return y=Cy(y,g.mode,w),y.return=g,y;case Wi:var E=y._init;return h(g,E(y._payload),w)}if(Dl(y)||al(y))return y=Co(y,g.mode,w,null),y.return=g,y;pf(g,y)}return null}function f(g,y,w,E){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nf:return w.key===_?u(g,y,w,E):null;case Aa:return w.key===_?l(g,y,w,E):null;case Wi:return _=w._init,f(g,y,_(w._payload),E)}if(Dl(w)||al(w))return _!==null?null:c(g,y,w,E,null);pf(g,w)}return null}function d(g,y,w,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(y,g,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:return g=g.get(E.key===null?w:E.key)||null,u(y,g,E,_);case Aa:return g=g.get(E.key===null?w:E.key)||null,l(y,g,E,_);case Wi:var T=E._init;return d(g,y,w,T(E._payload),_)}if(Dl(E)||al(E))return g=g.get(w)||null,c(y,g,E,_,null);pf(y,E)}return null}function p(g,y,w,E){for(var _=null,T=null,k=y,x=y=0,M=null;k!==null&&x<w.length;x++){k.index>x?(M=k,k=null):M=k.sibling;var C=f(g,k,w[x],E);if(C===null){k===null&&(k=M);break}t&&k&&C.alternate===null&&e(g,k),y=s(C,y,x),T===null?_=C:T.sibling=C,T=C,k=M}if(x===w.length)return n(g,k),He&&ro(g,x),_;if(k===null){for(;x<w.length;x++)k=h(g,w[x],E),k!==null&&(y=s(k,y,x),T===null?_=k:T.sibling=k,T=k);return He&&ro(g,x),_}for(k=r(g,k);x<w.length;x++)M=d(k,g,x,w[x],E),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?x:M.key),y=s(M,y,x),T===null?_=M:T.sibling=M,T=M);return t&&k.forEach(function(oe){return e(g,oe)}),He&&ro(g,x),_}function m(g,y,w,E){var _=al(w);if(typeof _!="function")throw Error(U(150));if(w=_.call(w),w==null)throw Error(U(151));for(var T=_=null,k=y,x=y=0,M=null,C=w.next();k!==null&&!C.done;x++,C=w.next()){k.index>x?(M=k,k=null):M=k.sibling;var oe=f(g,k,C.value,E);if(oe===null){k===null&&(k=M);break}t&&k&&oe.alternate===null&&e(g,k),y=s(oe,y,x),T===null?_=oe:T.sibling=oe,T=oe,k=M}if(C.done)return n(g,k),He&&ro(g,x),_;if(k===null){for(;!C.done;x++,C=w.next())C=h(g,C.value,E),C!==null&&(y=s(C,y,x),T===null?_=C:T.sibling=C,T=C);return He&&ro(g,x),_}for(k=r(g,k);!C.done;x++,C=w.next())C=d(k,g,x,C.value,E),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?x:C.key),y=s(C,y,x),T===null?_=C:T.sibling=C,T=C);return t&&k.forEach(function(pe){return e(g,pe)}),He&&ro(g,x),_}function b(g,y,w,E){if(typeof w=="object"&&w!==null&&w.type===Ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case nf:e:{for(var _=w.key,T=y;T!==null;){if(T.key===_){if(_=w.type,_===Ra){if(T.tag===7){n(g,T.sibling),y=i(T,w.props.children),y.return=g,g=y;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wi&&V_(_)===T.type){n(g,T.sibling),y=i(T,w.props),y.ref=fl(g,T,w),y.return=g,g=y;break e}n(g,T);break}else e(g,T);T=T.sibling}w.type===Ra?(y=Co(w.props.children,g.mode,E,w.key),y.return=g,g=y):(E=Kf(w.type,w.key,w.props,null,g.mode,E),E.ref=fl(g,y,w),E.return=g,g=E)}return o(g);case Aa:e:{for(T=w.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Cy(w,g.mode,E),y.return=g,g=y}return o(g);case Wi:return T=w._init,b(g,y,T(w._payload),E)}if(Dl(w))return p(g,y,w,E);if(al(w))return m(g,y,w,E);pf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,w),y.return=g,g=y):(n(g,y),y=ky(w,g.mode,E),y.return=g,g=y),o(g)):n(g,y)}return b}var pu=eN(!0),tN=eN(!1),Sh={},qr=qs(Sh),Oc=qs(Sh),Nc=qs(Sh);function vo(t){if(t===Sh)throw Error(U(174));return t}function B1(t,e){switch(Ve(Nc,e),Ve(Oc,t),Ve(qr,Sh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jv(e,t)}qe(qr),Ve(qr,e)}function mu(){qe(qr),qe(Oc),qe(Nc)}function nN(t){vo(Nc.current);var e=vo(qr.current),n=jv(e,t.type);e!==n&&(Ve(Oc,t),Ve(qr,n))}function q1(t){Oc.current===t&&(qe(qr),qe(Oc))}var Xe=qs(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function z1(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var zf=Oi.ReactCurrentDispatcher,Ey=Oi.ReactCurrentBatchConfig,Fo=0,et=null,vt=null,Ct=null,Kd=!1,Xl=!1,Ac=0,t$=0;function Jt(){throw Error(U(321))}function W1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function Q1(t,e,n,r,i,s){if(Fo=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?s$:o$,t=n(r,i),Xl){s=0;do{if(Xl=!1,Ac=0,25<=s)throw Error(U(301));s+=1,Ct=vt=null,e.updateQueue=null,zf.current=a$,t=n(r,i)}while(Xl)}if(zf.current=Yd,e=vt!==null&&vt.next!==null,Fo=0,Ct=vt=et=null,Kd=!1,e)throw Error(U(300));return t}function H1(){var t=Ac!==0;return Ac=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?et.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function rr(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Ct===null?et.memoizedState:Ct.next;if(e!==null)Ct=e,vt=t;else{if(t===null)throw Error(U(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ct===null?et.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Rc(t,e){return typeof e=="function"?e(t):e}function Sy(t){var e=rr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Fo&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,et.lanes|=c,Mo|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,br(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Mo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _y(t){var e=rr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);br(s,e.memoizedState)||(bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rN(){}function iN(t,e){var n=et,r=rr(),i=e(),s=!br(r.memoizedState,i);if(s&&(r.memoizedState=i,bn=!0),r=r.queue,G1(aN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,Pc(9,oN.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(U(349));Fo&30||sN(n,e,i)}return i}function sN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oN(t,e,n,r){e.value=n,e.getSnapshot=r,uN(e)&&lN(t)}function aN(t,e,n){return n(function(){uN(e)&&lN(t)})}function uN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function lN(t){var e=Si(t,1);e!==null&&vr(e,t,1,-1)}function j_(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:t},e.queue=t,t=t.dispatch=i$.bind(null,et,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cN(){return rr().memoizedState}function Wf(t,e,n,r){var i=Cr();et.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function om(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&W1(r,o.deps)){i.memoizedState=Pc(e,n,s,r);return}}et.flags|=t,i.memoizedState=Pc(1|e,n,s,r)}function B_(t,e){return Wf(8390656,8,t,e)}function G1(t,e){return om(2048,8,t,e)}function hN(t,e){return om(4,2,t,e)}function fN(t,e){return om(4,4,t,e)}function dN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pN(t,e,n){return n=n!=null?n.concat([t]):null,om(4,4,dN.bind(null,e,t),n)}function K1(){}function mN(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gN(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yN(t,e,n){return Fo&21?(br(n,e)||(n=bO(),et.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function n$(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{Pe=n,Ey.transition=r}}function vN(){return rr().memoizedState}function r$(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wN(t))bN(e,n);else if(n=YO(t,e,n,r),n!==null){var i=hn();vr(n,t,r,i),EN(n,e,r)}}function i$(t,e,n){var r=ps(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wN(t))bN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,br(a,o)){var u=e.interleaved;u===null?(i.next=i,V1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=YO(t,e,i,r),n!==null&&(i=hn(),vr(n,t,r,i),EN(n,e,r))}}function wN(t){var e=t.alternate;return t===et||e!==null&&e===et}function bN(t,e){Xl=Kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k1(t,n)}}var Yd={readContext:nr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},s$={readContext:nr,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:B_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wf(4194308,4,dN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wf(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r$.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:j_,useDebugValue:K1,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=j_(!1),e=t[0];return t=n$.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Cr();if(He){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ot===null)throw Error(U(349));Fo&30||sN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,B_(aN.bind(null,r,s,t),[t]),r.flags|=2048,Pc(9,oN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Ot.identifierPrefix;if(He){var n=ci,r=li;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o$={readContext:nr,useCallback:mN,useContext:nr,useEffect:G1,useImperativeHandle:pN,useInsertionEffect:hN,useLayoutEffect:fN,useMemo:gN,useReducer:Sy,useRef:cN,useState:function(){return Sy(Rc)},useDebugValue:K1,useDeferredValue:function(t){var e=rr();return yN(e,vt.memoizedState,t)},useTransition:function(){var t=Sy(Rc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:rN,useSyncExternalStore:iN,useId:vN,unstable_isNewReconciler:!1},a$={readContext:nr,useCallback:mN,useContext:nr,useEffect:G1,useImperativeHandle:pN,useInsertionEffect:hN,useLayoutEffect:fN,useMemo:gN,useReducer:_y,useRef:cN,useState:function(){return _y(Rc)},useDebugValue:K1,useDeferredValue:function(t){var e=rr();return vt===null?e.memoizedState=t:yN(e,vt.memoizedState,t)},useTransition:function(){var t=_y(Rc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:rN,useSyncExternalStore:iN,useId:vN,unstable_isNewReconciler:!1};function gu(t,e){try{var n="",r=e;do n+=LM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Iy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function c0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function SN(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,b0=r),c0(t,e)},n}function _N(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){c0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){c0(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=S$.bind(null,t,e,n),e.then(t,t))}function z_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,fs(n,e,1))),n.lanes|=1),t)}var l$=Oi.ReactCurrentOwner,bn=!1;function an(t,e,n,r){e.child=t===null?tN(e,null,n,r):pu(e,t.child,n,r)}function Q_(t,e,n,r,i){n=n.render;var s=e.ref;return Ja(e,i),r=Q1(t,e,n,r,s,i),n=H1(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(He&&n&&D1(e),e.flags|=1,an(t,e,r,i),e.child)}function H_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,IN(t,e,s,r,i)):(t=Kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tc,n(o,r)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=ms(s,r),t.ref=e.ref,t.return=e,e.child=t}function IN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tc(s,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,_i(t,e,i)}return h0(t,e,n,r,i)}function TN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ba,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Ba,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Ba,Pn),Pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(Ba,Pn),Pn|=r;return an(t,e,i,n),e.child}function kN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function h0(t,e,n,r,i){var s=kn(n)?Do:rn.current;return s=fu(e,s),Ja(e,i),n=Q1(t,e,n,r,s,i),r=H1(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(He&&r&&D1(e),e.flags|=1,an(t,e,n,i),e.child)}function G_(t,e,n,r,i){if(kn(n)){var s=!0;Bd(e)}else s=!1;if(Ja(e,i),e.stateNode===null)Qf(t,e),ZO(e,n,r),l0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=nr(l):(l=kn(n)?Do:rn.current,l=fu(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&U_(e,o,r,l),Qi=!1;var f=e.memoizedState;o.state=f,Hd(e,r,o,i),u=e.memoizedState,a!==r||f!==u||Tn.current||Qi?(typeof c=="function"&&(u0(e,n,c,r),u=e.memoizedState),(a=Qi||$_(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JO(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:fr(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=nr(u):(u=kn(n)?Do:rn.current,u=fu(e,u));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&U_(e,o,r,u),Qi=!1,f=e.memoizedState,o.state=f,Hd(e,r,o,i);var p=e.memoizedState;a!==h||f!==p||Tn.current||Qi?(typeof d=="function"&&(u0(e,n,d,r),p=e.memoizedState),(l=Qi||$_(e,n,l,r,f,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return f0(t,e,n,r,s,i)}function f0(t,e,n,r,i,s){kN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P_(e,n,!1),_i(t,e,s);r=e.stateNode,l$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pu(e,t.child,null,s),e.child=pu(e,null,a,s)):an(t,e,a,s),e.memoizedState=r.state,i&&P_(e,n,!0),e.child}function CN(t){var e=t.stateNode;e.pendingContext?R_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R_(t,e.context,!1),B1(t,e.containerInfo)}function K_(t,e,n,r,i){return du(),F1(i),e.flags|=256,an(t,e,n,r),e.child}var d0={dehydrated:null,treeContext:null,retryLane:0};function p0(t){return{baseLanes:t,cachePool:null,transitions:null}}function xN(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Xe,i&1),t===null)return o0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lm(o,r,0,null),t=Co(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=p0(n),e.memoizedState=d0,t):Y1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ms(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ms(a,s):(s=Co(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?p0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=d0,r}return s=t.child,t=s.sibling,r=ms(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Y1(t,e){return e=lm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mf(t,e,n,r){return r!==null&&F1(r),pu(e,t.child,null,n),t=Y1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Iy(Error(U(422))),mf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lm({mode:"visible",children:r.children},i,0,null),s=Co(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pu(e,t.child,null,o),e.child.memoizedState=p0(o),e.memoizedState=d0,s);if(!(e.mode&1))return mf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Iy(s,r,void 0),mf(t,e,o,r)}if(a=(o&t.childLanes)!==0,bn||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Si(t,i),vr(r,t,i,-1))}return nb(),r=Iy(Error(U(421))),mf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ln=hs(i.nextSibling),$n=e,He=!0,pr=null,t!==null&&(Kn[Yn++]=li,Kn[Yn++]=ci,Kn[Yn++]=Lo,li=t.id,ci=t.overflow,Lo=e),e=Y1(e,r.children),e.flags|=4096,e)}function Y_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),a0(t.return,e,n)}function Ty(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ON(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,n,e);else if(t.tag===19)Y_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ty(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ty(e,!0,n,null,s);break;case"together":Ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h$(t,e,n){switch(e.tag){case 3:CN(e),du();break;case 5:nN(e);break;case 1:kn(e.type)&&Bd(e);break;case 4:B1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Wd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?xN(t,e,n):(Ve(Xe,Xe.current&1),t=_i(t,e,n),t!==null?t.sibling:null);Ve(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ON(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,TN(t,e,n)}return _i(t,e,n)}var NN,m0,AN,RN;NN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};m0=function(){};AN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(qr.current);var s=null;switch(n){case"input":i=Mv(t,i),r=Mv(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=Vv(t,i),r=Vv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}Bv(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(vc.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(vc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&je("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};RN=function(t,e,n,r){n!==r&&(e.flags|=4)};function dl(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function f$(t,e,n){var r=e.pendingProps;switch(L1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return kn(e.type)&&jd(),Xt(e),null;case 3:return r=e.stateNode,mu(),qe(Tn),qe(rn),z1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(df(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(_0(pr),pr=null))),m0(t,e),Xt(e),null;case 5:q1(e);var i=vo(Nc.current);if(n=e.type,t!==null&&e.stateNode!=null)AN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Xt(e),null}if(t=vo(qr.current),df(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Or]=e,r[xc]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Fl.length;i++)je(Fl[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":s_(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":a_(r,s),je("invalid",r)}Bv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),i=["children",""+a]):vc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":rf(r),o_(r,s,!0);break;case"textarea":rf(r),u_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[xc]=r,NN(t,e,!1,!1),e.stateNode=t;e:{switch(o=qv(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fl.length;i++)je(Fl[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":s_(t,r),i=Mv(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),je("invalid",t);break;case"textarea":a_(t,r),i=Vv(t,r),je("invalid",t);break;default:i=r}Bv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?uO(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&oO(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wc(t,u):typeof u=="number"&&wc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&je("scroll",t):u!=null&&b1(t,s,u,o))}switch(n){case"input":rf(t),o_(t,r,!1);break;case"textarea":rf(t),u_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ha(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)RN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=vo(Nc.current),vo(qr.current),df(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(s=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:ff(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ff(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return Xt(e),null;case 13:if(qe(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Ln!==null&&e.mode&1&&!(e.flags&128))KO(),du(),e.flags|=98560,s=!1;else if(s=df(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Or]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),s=!1}else pr!==null&&(_0(pr),pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?bt===0&&(bt=3):nb())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return mu(),m0(t,e),t===null&&kc(e.stateNode.containerInfo),Xt(e),null;case 10:return U1(e.type._context),Xt(e),null;case 17:return kn(e.type)&&jd(),Xt(e),null;case 19:if(qe(Xe),s=e.memoizedState,s===null)return Xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dl(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,dl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>yu&&(e.flags|=128,r=!0,dl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return Xt(e),null}else 2*ht()-s.renderingStartTime>yu&&n!==1073741824&&(e.flags|=128,r=!0,dl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,n=Xe.current,Ve(Xe,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return tb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function d$(t,e){switch(L1(e),e.tag){case 1:return kn(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mu(),qe(Tn),qe(rn),z1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q1(e),null;case 13:if(qe(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Xe),null;case 4:return mu(),null;case 10:return U1(e.type._context),null;case 22:case 23:return tb(),null;case 24:return null;default:return null}}var gf=!1,en=!1,p$=typeof WeakSet=="function"?WeakSet:Set,K=null;function ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function g0(t,e,n){try{n()}catch(r){it(t,e,r)}}var J_=!1;function m$(t,e){if(Zv=Md,t=FO(),P1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(e0={focusedElem:t,selectionRange:n},Md=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,b=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:fr(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){it(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return p=J_,J_=!1,p}function Zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&g0(e,n,s)}i=i.next}while(i!==r)}}function am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function y0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PN(t){var e=t.alternate;e!==null&&(t.alternate=null,PN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[xc],delete e[r0],delete e[J3],delete e[X3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DN(t){return t.tag===5||t.tag===3||t.tag===4}function X_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(v0(t,e,n),t=t.sibling;t!==null;)v0(t,e,n),t=t.sibling}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}var Vt=null,dr=!1;function Fi(t,e,n){for(n=n.child;n!==null;)LN(t,e,n),n=n.sibling}function LN(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(Zp,n)}catch{}switch(n.tag){case 5:en||ja(n,e);case 6:var r=Vt,i=dr;Vt=null,Fi(t,e,n),Vt=r,dr=i,Vt!==null&&(dr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(dr?(t=Vt,n=n.stateNode,t.nodeType===8?vy(t.parentNode,n):t.nodeType===1&&vy(t,n),_c(t)):vy(Vt,n.stateNode));break;case 4:r=Vt,i=dr,Vt=n.stateNode.containerInfo,dr=!0,Fi(t,e,n),Vt=r,dr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&g0(n,e,o),i=i.next}while(i!==r)}Fi(t,e,n);break;case 1:if(!en&&(ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Fi(t,e,n),en=r):Fi(t,e,n);break;default:Fi(t,e,n)}}function Z_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p$),e.forEach(function(r){var i=I$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,dr=!1;break e;case 3:Vt=a.stateNode.containerInfo,dr=!0;break e;case 4:Vt=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Vt===null)throw Error(U(160));LN(s,o,i),Vt=null,dr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){it(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FN(e,t),e=e.sibling}function FN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Tr(t),r&4){try{Zl(3,t,t.return),am(3,t)}catch(m){it(t,t.return,m)}try{Zl(5,t,t.return)}catch(m){it(t,t.return,m)}}break;case 1:ur(e,t),Tr(t),r&512&&n!==null&&ja(n,n.return);break;case 5:if(ur(e,t),Tr(t),r&512&&n!==null&&ja(n,n.return),t.flags&32){var i=t.stateNode;try{wc(i,"")}catch(m){it(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rO(i,s),qv(a,o);var l=qv(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?uO(i,h):c==="dangerouslySetInnerHTML"?oO(i,h):c==="children"?wc(i,h):b1(i,c,h,l)}switch(a){case"input":$v(i,s);break;case"textarea":iO(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Ha(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ha(i,!!s.multiple,s.defaultValue,!0):Ha(i,!!s.multiple,s.multiple?[]:"",!1))}i[xc]=s}catch(m){it(t,t.return,m)}}break;case 6:if(ur(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){it(t,t.return,m)}}break;case 3:if(ur(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(m){it(t,t.return,m)}break;case 4:ur(e,t),Tr(t);break;case 13:ur(e,t),Tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Z1=ht())),r&4&&Z_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(en=(l=en)||c,ur(e,t),en=l):ur(e,t),Tr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(h=K=c;K!==null;){switch(f=K,d=f.child,f.tag){case 0:case 11:case 14:case 15:Zl(4,f,f.return);break;case 1:ja(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){it(r,n,m)}}break;case 5:ja(f,f.return);break;case 22:if(f.memoizedState!==null){tI(h);continue}}d!==null?(d.return=f,K=d):tI(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=aO("display",o))}catch(m){it(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){it(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(e,t),Tr(t),r&4&&Z_(t);break;case 21:break;default:ur(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DN(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wc(i,""),r.flags&=-33);var s=X_(t);w0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=X_(t);v0(t,a,o);break;default:throw Error(U(161))}}catch(u){it(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g$(t,e,n){K=t,MN(t)}function MN(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||en;a=gf;var l=en;if(gf=o,(en=u)&&!l)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?nI(i):u!==null?(u.return=o,K=u):nI(i);for(;s!==null;)K=s,MN(s),s=s.sibling;K=i,gf=a,en=l}eI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):eI(t)}}function eI(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&M_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&_c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}en||e.flags&512&&y0(e)}catch(f){it(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function tI(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function nI(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{am(4,e)}catch(u){it(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){it(e,i,u)}}var s=e.return;try{y0(e)}catch(u){it(e,s,u)}break;case 5:var o=e.return;try{y0(e)}catch(u){it(e,o,u)}}}catch(u){it(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var y$=Math.ceil,Jd=Oi.ReactCurrentDispatcher,J1=Oi.ReactCurrentOwner,tr=Oi.ReactCurrentBatchConfig,Ee=0,Ot=null,yt=null,zt=0,Pn=0,Ba=qs(0),bt=0,Dc=null,Mo=0,um=0,X1=0,ec=null,wn=null,Z1=0,yu=1/0,oi=null,Xd=!1,b0=null,ds=null,yf=!1,rs=null,Zd=0,tc=0,E0=null,Hf=-1,Gf=0;function hn(){return Ee&6?ht():Hf!==-1?Hf:Hf=ht()}function ps(t){return t.mode&1?Ee&2&&zt!==0?zt&-zt:e$.transition!==null?(Gf===0&&(Gf=bO()),Gf):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:CO(t.type)),t):1}function vr(t,e,n,r){if(50<tc)throw tc=0,E0=null,Error(U(185));wh(t,n,r),(!(Ee&2)||t!==Ot)&&(t===Ot&&(!(Ee&2)&&(um|=n),bt===4&&Xi(t,zt)),Cn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(yu=ht()+500,im&&zs()))}function Cn(t,e){var n=t.callbackNode;e3(t,e);var r=Fd(t,t===Ot?zt:0);if(r===0)n!==null&&h_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h_(n),e===1)t.tag===0?Z3(rI.bind(null,t)):QO(rI.bind(null,t)),K3(function(){!(Ee&6)&&zs()}),n=null;else{switch(EO(r)){case 1:n=T1;break;case 4:n=vO;break;case 16:n=Ld;break;case 536870912:n=wO;break;default:n=Ld}n=WN(n,$N.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $N(t,e){if(Hf=-1,Gf=0,Ee&6)throw Error(U(327));var n=t.callbackNode;if(Xa()&&t.callbackNode!==n)return null;var r=Fd(t,t===Ot?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ep(t,r);else{e=r;var i=Ee;Ee|=2;var s=VN();(Ot!==t||zt!==e)&&(oi=null,yu=ht()+500,ko(t,e));do try{b$();break}catch(a){UN(t,a)}while(1);$1(),Jd.current=s,Ee=i,yt!==null?e=0:(Ot=null,zt=0,e=bt)}if(e!==0){if(e===2&&(i=Gv(t),i!==0&&(r=i,e=S0(t,i))),e===1)throw n=Dc,ko(t,0),Xi(t,r),Cn(t,ht()),n;if(e===6)Xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!v$(i)&&(e=ep(t,r),e===2&&(s=Gv(t),s!==0&&(r=s,e=S0(t,s))),e===1))throw n=Dc,ko(t,0),Xi(t,r),Cn(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:io(t,wn,oi);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=Z1+500-ht(),10<e)){if(Fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=n0(io.bind(null,t,wn,oi),e);break}io(t,wn,oi);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-yr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y$(r/1960))-r,10<r){t.timeoutHandle=n0(io.bind(null,t,wn,oi),r);break}io(t,wn,oi);break;case 5:io(t,wn,oi);break;default:throw Error(U(329))}}}return Cn(t,ht()),t.callbackNode===n?$N.bind(null,t):null}function S0(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=ep(t,e),t!==2&&(e=wn,wn=n,e!==null&&_0(e)),t}function _0(t){wn===null?wn=t:wn.push.apply(wn,t)}function v$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!br(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~X1,e&=~um,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function rI(t){if(Ee&6)throw Error(U(327));Xa();var e=Fd(t,0);if(!(e&1))return Cn(t,ht()),null;var n=ep(t,e);if(t.tag!==0&&n===2){var r=Gv(t);r!==0&&(e=r,n=S0(t,r))}if(n===1)throw n=Dc,ko(t,0),Xi(t,e),Cn(t,ht()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,wn,oi),Cn(t,ht()),null}function eb(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(yu=ht()+500,im&&zs())}}function $o(t){rs!==null&&rs.tag===0&&!(Ee&6)&&Xa();var e=Ee;Ee|=1;var n=tr.transition,r=Pe;try{if(tr.transition=null,Pe=1,t)return t()}finally{Pe=r,tr.transition=n,Ee=e,!(Ee&6)&&zs()}}function tb(){Pn=Ba.current,qe(Ba)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,G3(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(L1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:mu(),qe(Tn),qe(rn),z1();break;case 5:q1(r);break;case 4:mu();break;case 13:qe(Xe);break;case 19:qe(Xe);break;case 10:U1(r.type._context);break;case 22:case 23:tb()}n=n.return}if(Ot=t,yt=t=ms(t.current,null),zt=Pn=e,bt=0,Dc=null,X1=um=Mo=0,wn=ec=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yo=null}return t}function UN(t,e){do{var n=yt;try{if($1(),zf.current=Yd,Kd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kd=!1}if(Fo=0,Ct=vt=et=null,Xl=!1,Ac=0,J1.current=null,n===null||n.return===null){bt=1,Dc=e,yt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=zt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=z_(o);if(d!==null){d.flags&=-257,W_(d,o,a,s,e),d.mode&1&&q_(s,l,e),e=d,u=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(u),e.updateQueue=m}else p.add(u);break e}else{if(!(e&1)){q_(s,l,e),nb();break e}u=Error(U(426))}}else if(He&&a.mode&1){var b=z_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),W_(b,o,a,s,e),F1(gu(u,a));break e}}s=u=gu(u,a),bt!==4&&(bt=2),ec===null?ec=[s]:ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=SN(s,u,e);F_(s,g);break e;case 1:a=u;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ds===null||!ds.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=_N(s,a,e);F_(s,E);break e}}s=s.return}while(s!==null)}BN(n)}catch(_){e=_,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function VN(){var t=Jd.current;return Jd.current=Yd,t===null?Yd:t}function nb(){(bt===0||bt===3||bt===2)&&(bt=4),Ot===null||!(Mo&268435455)&&!(um&268435455)||Xi(Ot,zt)}function ep(t,e){var n=Ee;Ee|=2;var r=VN();(Ot!==t||zt!==e)&&(oi=null,ko(t,e));do try{w$();break}catch(i){UN(t,i)}while(1);if($1(),Ee=n,Jd.current=r,yt!==null)throw Error(U(261));return Ot=null,zt=0,bt}function w$(){for(;yt!==null;)jN(yt)}function b$(){for(;yt!==null&&!WM();)jN(yt)}function jN(t){var e=zN(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?BN(t):yt=e,J1.current=null}function BN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=d$(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,yt=null;return}}else if(n=f$(n,e,Pn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);bt===0&&(bt=5)}function io(t,e,n){var r=Pe,i=tr.transition;try{tr.transition=null,Pe=1,E$(t,e,n,r)}finally{tr.transition=i,Pe=r}return null}function E$(t,e,n,r){do Xa();while(rs!==null);if(Ee&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(t3(t,s),t===Ot&&(yt=Ot=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yf||(yf=!0,WN(Ld,function(){return Xa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tr.transition,tr.transition=null;var o=Pe;Pe=1;var a=Ee;Ee|=4,J1.current=null,m$(t,n),FN(n,t),j3(e0),Md=!!Zv,e0=Zv=null,t.current=n,g$(n),QM(),Ee=a,Pe=o,tr.transition=s}else t.current=n;if(yf&&(yf=!1,rs=t,Zd=i),s=t.pendingLanes,s===0&&(ds=null),KM(n.stateNode),Cn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xd)throw Xd=!1,t=b0,b0=null,t;return Zd&1&&t.tag!==0&&Xa(),s=t.pendingLanes,s&1?t===E0?tc++:(tc=0,E0=t):tc=0,zs(),null}function Xa(){if(rs!==null){var t=EO(Zd),e=tr.transition,n=Pe;try{if(tr.transition=null,Pe=16>t?16:t,rs===null)var r=!1;else{if(t=rs,rs=null,Zd=0,Ee&6)throw Error(U(331));var i=Ee;for(Ee|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(K=l;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:Zl(8,c,s)}var h=c.child;if(h!==null)h.return=c,K=h;else for(;K!==null;){c=K;var f=c.sibling,d=c.return;if(PN(c),c===l){K=null;break}if(f!==null){f.return=d,K=f;break}K=d}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,K=g;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,K=w;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:am(9,a)}}catch(_){it(a,a.return,_)}if(a===o){K=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,K=E;break e}K=a.return}}if(Ee=i,zs(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(Zp,t)}catch{}r=!0}return r}finally{Pe=n,tr.transition=e}}return!1}function iI(t,e,n){e=gu(n,e),e=SN(t,e,1),t=fs(t,e,1),e=hn(),t!==null&&(wh(t,1,e),Cn(t,e))}function it(t,e,n){if(t.tag===3)iI(t,t,n);else for(;e!==null;){if(e.tag===3){iI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=gu(n,t),t=_N(e,t,1),e=fs(e,t,1),t=hn(),e!==null&&(wh(e,1,t),Cn(e,t));break}}e=e.return}}function S$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(zt&n)===n&&(bt===4||bt===3&&(zt&130023424)===zt&&500>ht()-Z1?ko(t,0):X1|=n),Cn(t,e)}function qN(t,e){e===0&&(t.mode&1?(e=af,af<<=1,!(af&130023424)&&(af=4194304)):e=1);var n=hn();t=Si(t,e),t!==null&&(wh(t,e,n),Cn(t,n))}function _$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qN(t,n)}function I$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),qN(t,n)}var zN;zN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,h$(t,e,n);bn=!!(t.flags&131072)}else bn=!1,He&&e.flags&1048576&&HO(e,zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qf(t,e),t=e.pendingProps;var i=fu(e,rn.current);Ja(e,n),i=Q1(null,e,r,t,i,n);var s=H1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(s=!0,Bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j1(e),i.updater=sm,e.stateNode=i,i._reactInternals=e,l0(e,r,t,n),e=f0(null,e,r,!0,s,n)):(e.tag=0,He&&s&&D1(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=k$(r),t=fr(r,t),i){case 0:e=h0(null,e,r,t,n);break e;case 1:e=G_(null,e,r,t,n);break e;case 11:e=Q_(null,e,r,t,n);break e;case 14:e=H_(null,e,r,fr(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),h0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),G_(t,e,r,i,n);case 3:e:{if(CN(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,JO(t,e),Hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gu(Error(U(423)),e),e=K_(t,e,r,n,i);break e}else if(r!==i){i=gu(Error(U(424)),e),e=K_(t,e,r,n,i);break e}else for(Ln=hs(e.stateNode.containerInfo.firstChild),$n=e,He=!0,pr=null,n=tN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(du(),r===i){e=_i(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return nN(e),t===null&&o0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,t0(r,i)?o=null:s!==null&&t0(r,s)&&(e.flags|=32),kN(t,e),an(t,e,o,n),e.child;case 6:return t===null&&o0(e),null;case 13:return xN(t,e,n);case 4:return B1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pu(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Q_(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(Wd,r._currentValue),r._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===i.children&&!Tn.current){e=_i(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=gi(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),a0(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),a0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ja(e,n),i=nr(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),H_(t,e,r,i,n);case 15:return IN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Qf(t,e),e.tag=1,kn(r)?(t=!0,Bd(e)):t=!1,Ja(e,n),ZO(e,r,i),l0(e,r,i,n),f0(null,e,r,!0,t,n);case 19:return ON(t,e,n);case 22:return TN(t,e,n)}throw Error(U(156,e.tag))};function WN(t,e){return yO(t,e)}function T$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new T$(t,e,n,r)}function rb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function k$(t){if(typeof t=="function")return rb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S1)return 11;if(t===_1)return 14}return 2}function ms(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Co(n.children,i,s,e);case E1:o=8,i|=8;break;case Pv:return t=Zn(12,n,e,i|2),t.elementType=Pv,t.lanes=s,t;case Dv:return t=Zn(13,n,e,i),t.elementType=Dv,t.lanes=s,t;case Lv:return t=Zn(19,n,e,i),t.elementType=Lv,t.lanes=s,t;case eO:return lm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xx:o=10;break e;case Zx:o=9;break e;case S1:o=11;break e;case _1:o=14;break e;case Wi:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Co(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function lm(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=eO,t.lanes=n,t.stateNode={isHidden:!1},t}function ky(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function Cy(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ay(0),this.expirationTimes=ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ay(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ib(t,e,n,r,i,s,o,a,u){return t=new C$(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j1(s),t}function x$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QN(t){if(!t)return _s;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(kn(n))return WO(t,n,e)}return e}function HN(t,e,n,r,i,s,o,a,u){return t=ib(n,r,!0,t,i,s,o,a,u),t.context=QN(null),n=t.current,r=hn(),i=ps(n),s=gi(r,i),s.callback=e??null,fs(n,s,i),t.current.lanes=i,wh(t,i,r),Cn(t,r),t}function cm(t,e,n,r){var i=e.current,s=hn(),o=ps(i);return n=QN(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fs(i,e,o),t!==null&&(vr(t,i,o,s),qf(t,i,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sb(t,e){sI(t,e),(t=t.alternate)&&sI(t,e)}function O$(){return null}var GN=typeof reportError=="function"?reportError:function(t){console.error(t)};function ob(t){this._internalRoot=t}hm.prototype.render=ob.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));cm(t,e,null,null)};hm.prototype.unmount=ob.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){cm(null,t,null,null)}),e[Ei]=null}};function hm(t){this._internalRoot=t}hm.prototype.unstable_scheduleHydration=function(t){if(t){var e=IO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ji.length&&e!==0&&e<Ji[n].priority;n++);Ji.splice(n,0,t),n===0&&kO(t)}};function ab(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oI(){}function N$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=tp(o);s.call(l)}}var o=HN(e,r,t,0,null,!1,!1,"",oI);return t._reactRootContainer=o,t[Ei]=o.current,kc(t.nodeType===8?t.parentNode:t),$o(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=tp(u);a.call(l)}}var u=ib(t,0,!1,null,null,!1,!1,"",oI);return t._reactRootContainer=u,t[Ei]=u.current,kc(t.nodeType===8?t.parentNode:t),$o(function(){cm(e,u,n,r)}),u}function dm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=tp(o);a.call(u)}}cm(e,o,t,i)}else o=N$(n,e,t,i,r);return tp(o)}SO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ll(e.pendingLanes);n!==0&&(k1(e,n|1),Cn(e,ht()),!(Ee&6)&&(yu=ht()+500,zs()))}break;case 13:$o(function(){var r=Si(t,1);if(r!==null){var i=hn();vr(r,t,1,i)}}),sb(t,1)}};C1=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=hn();vr(e,t,134217728,n)}sb(t,134217728)}};_O=function(t){if(t.tag===13){var e=ps(t),n=Si(t,e);if(n!==null){var r=hn();vr(n,t,e,r)}sb(t,e)}};IO=function(){return Pe};TO=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Wv=function(t,e,n){switch(e){case"input":if($v(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rm(r);if(!i)throw Error(U(90));nO(r),$v(r,i)}}}break;case"textarea":iO(t,n);break;case"select":e=n.value,e!=null&&Ha(t,!!n.multiple,e,!1)}};hO=eb;fO=$o;var A$={usingClientEntryPoint:!1,Events:[Eh,Fa,rm,lO,cO,eb]},pl={findFiberByHostInstance:go,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},R$={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mO(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||O$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{Zp=vf.inject(R$),Br=vf}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A$;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ab(e))throw Error(U(200));return x$(t,e,null,n)};qn.createRoot=function(t,e){if(!ab(t))throw Error(U(299));var n=!1,r="",i=GN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ib(t,1,!1,null,null,n,!1,r,i),t[Ei]=e.current,kc(t.nodeType===8?t.parentNode:t),new ob(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=mO(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return $o(t)};qn.hydrate=function(t,e,n){if(!fm(e))throw Error(U(200));return dm(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!ab(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HN(e,null,t,1,n??null,i,!1,s,o),t[Ei]=e.current,kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hm(e)};qn.render=function(t,e,n){if(!fm(e))throw Error(U(200));return dm(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!fm(t))throw Error(U(40));return t._reactRootContainer?($o(function(){dm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};qn.unstable_batchedUpdates=eb;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fm(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return dm(t,e,n,!1,r)};qn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=qn})(OM);var aI=Ad;Nv.createRoot=aI.createRoot,Nv.hydrateRoot=aI.hydrateRoot;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const uI="popstate";function P$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return I0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:np(i)}return F$(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D$(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L$(){return Math.random().toString(36).substr(2,8)}function lI(t,e){return{usr:t.state,key:t.key,idx:e}}function I0(t,e,n,r){return n===void 0&&(n=null),Lc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bu(e):e,{state:n,key:e&&e.key||r||L$()})}function np(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function F$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=is.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Lc({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){let b=is.Pop,g=c();if(g!=null){let y=g-l;a=b,l=g,u&&u({action:a,location:m.location,delta:y})}else D$(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function f(b,g){a=is.Push;let y=I0(m.location,b,g);n&&n(y,b),l=c()+1;let w=lI(y,l),E=m.createHref(y);try{o.pushState(w,"",E)}catch{i.location.assign(E)}s&&u&&u({action:a,location:m.location,delta:1})}function d(b,g){a=is.Replace;let y=I0(m.location,b,g);n&&n(y,b),l=c();let w=lI(y,l),E=m.createHref(y);o.replaceState(w,"",E),s&&u&&u({action:a,location:m.location,delta:0})}function p(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:np(b);return Et(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return a},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(uI,h),u=b,()=>{i.removeEventListener(uI,h),u=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:d,go(b){return o.go(b)}};return m}var cI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cI||(cI={}));function M$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Bu(e):e,i=JN(r.pathname||"/",n);if(i==null)return null;let s=KN(t);$$(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=H$(s[a],Y$(i));return o}function KN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Et(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=gs([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),KN(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:W$(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of YN(s.path))i(s,o,u)}),e}function YN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YN(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function $$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Q$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U$=/^:\w+$/,V$=3,j$=2,B$=1,q$=10,z$=-2,hI=t=>t==="*";function W$(t,e){let n=t.split("/"),r=n.length;return n.some(hI)&&(r+=z$),e&&(r+=j$),n.filter(i=>!hI(i)).reduce((i,s)=>i+(U$.test(s)?V$:s===""?B$:q$),r)}function Q$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function H$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=G$({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:gs([i,c.pathname]),pathnameBase:e4(gs([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=gs([i,c.pathnameBase]))}return s}function G$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=K$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=J$(a[h]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:t}}function K$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ub(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Y$(t){try{return decodeURI(t)}catch(e){return ub(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function J$(t,e){try{return decodeURIComponent(t)}catch(n){return ub(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function JN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ub(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bu(t):t;return{pathname:n?n.startsWith("/")?n:Z$(n,e):e,search:t4(r),hash:n4(i)}}function Z$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bu(t):(i=Lc({},t),Et(!i.pathname||!i.pathname.includes("?"),xy("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),xy("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),xy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=X$(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),e4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class r4{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function i4(t){return t instanceof r4}const s4=["post","put","patch","delete"];[...s4];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}function o4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const a4=typeof Object.is=="function"?Object.is:o4,{useState:u4,useEffect:l4,useLayoutEffect:c4,useDebugValue:h4}=Nd;function f4(t,e,n){const r=e(),[{inst:i},s]=u4({inst:{value:r,getSnapshot:e}});return c4(()=>{i.value=r,i.getSnapshot=e,Oy(i)&&s({inst:i})},[t,r,e]),l4(()=>(Oy(i)&&s({inst:i}),t(()=>{Oy(i)&&s({inst:i})})),[t]),h4(r),r}function Oy(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!a4(n,r)}catch{return!0}}function d4(t,e,n){return e()}const p4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m4=!p4,g4=m4?d4:f4;"useSyncExternalStore"in Nd&&(t=>t.useSyncExternalStore)(Nd);const eA=S.createContext(null),tA=S.createContext(null),pm=S.createContext(null),mm=S.createContext(null),oa=S.createContext({outlet:null,matches:[]}),nA=S.createContext(null);function y4(t,e){let{relative:n}=e===void 0?{}:e;_h()||Et(!1);let{basename:r,navigator:i}=S.useContext(pm),{hash:s,pathname:o,search:a}=rA(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:gs([r,o])),i.createHref({pathname:u,search:a,hash:s})}function _h(){return S.useContext(mm)!=null}function qu(){return _h()||Et(!1),S.useContext(mm).location}function Ws(){_h()||Et(!1);let{basename:t,navigator:e}=S.useContext(pm),{matches:n}=S.useContext(oa),{pathname:r}=qu(),i=JSON.stringify(XN(n).map(a=>a.pathnameBase)),s=S.useRef(!1);return S.useEffect(()=>{s.current=!0}),S.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let l=ZN(a,JSON.parse(i),r,u.relative==="path");t!=="/"&&(l.pathname=l.pathname==="/"?t:gs([t,l.pathname])),(u.replace?e.replace:e.push)(l,u.state,u)},[t,e,i,r])}const v4=S.createContext(null);function w4(t){let e=S.useContext(oa).outlet;return e&&S.createElement(v4.Provider,{value:t},e)}function rA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(oa),{pathname:i}=qu(),s=JSON.stringify(XN(r).map(o=>o.pathnameBase));return S.useMemo(()=>ZN(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function b4(t,e){_h()||Et(!1);let{navigator:n}=S.useContext(pm),r=S.useContext(tA),{matches:i}=S.useContext(oa),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=qu(),l;if(e){var c;let m=typeof e=="string"?Bu(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||Et(!1),l=m}else l=u;let h=l.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=M$(t,{pathname:f}),p=I4(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:gs([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:gs([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&p?S.createElement(mm.Provider,{value:{location:T0({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:is.Pop}},p):p}function E4(){let t=x4(),e=i4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unhandled Thrown Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",S.createElement("code",{style:s},"errorElement")," props on",S.createElement("code",{style:s},"<Route>")))}class S4 extends S.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(oa.Provider,{value:this.props.routeContext},S.createElement(nA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _4(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(eA);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(oa.Provider,{value:e},r)}function I4(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Et(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=n?o.route.errorElement||S.createElement(E4,null):null,c=e.concat(r.slice(0,a+1)),h=()=>S.createElement(_4,{match:o,routeContext:{outlet:s,matches:c}},u?l:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?S.createElement(S4,{location:n.location,component:l,error:u,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var fI;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(fI||(fI={}));var rp;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(rp||(rp={}));function T4(t){let e=S.useContext(tA);return e||Et(!1),e}function k4(t){let e=S.useContext(oa);return e||Et(!1),e}function C4(t){let e=k4(),n=e.matches[e.matches.length-1];return n.route.id||Et(!1),n.route.id}function x4(){var t;let e=S.useContext(nA),n=T4(rp.UseRouteError),r=C4(rp.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function iA(t){return w4(t.context)}function Hi(t){Et(!1)}function O4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=is.Pop,navigator:s,static:o=!1}=t;_h()&&Et(!1);let a=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Bu(r));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,p=S.useMemo(()=>{let m=JN(l,a);return m==null?null:{pathname:m,search:c,hash:h,state:f,key:d}},[a,l,c,h,f,d]);return p==null?null:S.createElement(pm.Provider,{value:u},S.createElement(mm.Provider,{children:n,value:{location:p,navigationType:i}}))}function N4(t){let{children:e,location:n}=t,r=S.useContext(eA),i=r&&!e?r.router.routes:k0(e);return b4(i,n)}var dI;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(dI||(dI={}));new Promise(()=>{});function k0(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;if(r.type===S.Fragment){n.push.apply(n,k0(r.props.children,e));return}r.type!==Hi&&Et(!1),!r.props.index||!r.props.children||Et(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=k0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function A4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function R4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P4(t,e){return t.button===0&&(!e||e==="_self")&&!R4(t)}const D4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function L4(t){let{basename:e,children:n,window:r}=t,i=S.useRef();i.current==null&&(i.current=P$({window:r,v5Compat:!0}));let s=i.current,[o,a]=S.useState({action:s.action,location:s.location});return S.useLayoutEffect(()=>s.listen(a),[s]),S.createElement(O4,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const jt=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c}=e,h=A4(e,D4),f=y4(l,{relative:i}),d=F4(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i});function p(m){r&&r(m),m.defaultPrevented||d(m)}return S.createElement("a",C0({},h,{href:f,onClick:s?r:p,ref:n,target:u}))});var pI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(pI||(pI={}));var mI;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mI||(mI={}));function F4(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Ws(),u=qu(),l=rA(t,{relative:o});return S.useCallback(c=>{if(P4(c,n)){c.preventDefault();let h=r!==void 0?r:np(u)===np(l);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[u,a,l,r,i,n,t,s,o])}const pt=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function sA(){throw new Error("setTimeout has not been defined")}function oA(){throw new Error("clearTimeout has not been defined")}var Bi=sA,qi=oA;typeof pt.setTimeout=="function"&&(Bi=setTimeout);typeof pt.clearTimeout=="function"&&(qi=clearTimeout);function aA(t){if(Bi===setTimeout)return setTimeout(t,0);if((Bi===sA||!Bi)&&setTimeout)return Bi=setTimeout,setTimeout(t,0);try{return Bi(t,0)}catch{try{return Bi.call(null,t,0)}catch{return Bi.call(this,t,0)}}}function M4(t){if(qi===clearTimeout)return clearTimeout(t);if((qi===oA||!qi)&&clearTimeout)return qi=clearTimeout,clearTimeout(t);try{return qi(t)}catch{try{return qi.call(null,t)}catch{return qi.call(this,t)}}}var hi=[],Za=!1,wo,Yf=-1;function $4(){!Za||!wo||(Za=!1,wo.length?hi=wo.concat(hi):Yf=-1,hi.length&&uA())}function uA(){if(!Za){var t=aA($4);Za=!0;for(var e=hi.length;e;){for(wo=hi,hi=[];++Yf<e;)wo&&wo[Yf].run();Yf=-1,e=hi.length}wo=null,Za=!1,M4(t)}}function U4(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];hi.push(new lA(t,e)),hi.length===1&&!Za&&aA(uA)}function lA(t,e){this.fun=t,this.array=e}lA.prototype.run=function(){this.fun.apply(null,this.array)};var V4="browser",j4="browser",B4=!0,q4={},z4=[],W4="",Q4={},H4={},G4={};function aa(){}var K4=aa,Y4=aa,J4=aa,X4=aa,Z4=aa,eU=aa,tU=aa;function nU(t){throw new Error("process.binding is not supported")}function rU(){return"/"}function iU(t){throw new Error("process.chdir is not supported")}function sU(){return 0}var ka=pt.performance||{},oU=ka.now||ka.mozNow||ka.msNow||ka.oNow||ka.webkitNow||function(){return new Date().getTime()};function aU(t){var e=oU.call(ka)*.001,n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n=n-t[0],r=r-t[1],r<0&&(n--,r+=1e9)),[n,r]}var uU=new Date;function lU(){var t=new Date,e=t-uU;return e/1e3}var Is={nextTick:U4,title:V4,browser:B4,env:q4,argv:z4,version:W4,versions:Q4,on:K4,addListener:Y4,once:J4,off:X4,removeListener:Z4,removeAllListeners:eU,emit:tU,binding:nU,cwd:rU,chdir:iU,umask:sU,hrtime:aU,platform:j4,release:H4,config:G4,uptime:lU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,d=l&63;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw Error();const f=s<<2|a>>4;if(r.push(f),l!==64){const d=a<<4&240|l>>2;if(r.push(d),h!==64){const p=l<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hU=function(t){const e=cA(t);return hA.encodeByteArray(e,!0)},ip=function(t){return hU(t).replace(/\./g,"")},fA=function(t){try{return hA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!fU(n)||(t[n]=sp(t[n],e[n]));return t}function fU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof pt<"u")return pt;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=()=>dU().__FIREBASE_DEFAULTS__,mU=()=>{if(typeof Is>"u"||typeof Is.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fA(t[1]);return e&&JSON.parse(e)},lb=()=>{try{return pU()||mU()||gU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yU=()=>{var t;return(t=lb())===null||t===void 0?void 0:t.config},vU=t=>{var e;return(e=lb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ip(JSON.stringify(n)),ip(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function cb(){var t;const e=(t=lb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(pt.process)==="[object process]"}catch{return!1}}function SU(){return typeof self=="object"&&self.self===self}function dA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pA(){const t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _U(){return!cb()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fc(){try{return typeof indexedDB=="object"}catch{return!1}}function IU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="FirebaseError";class fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TU,Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fn(i,a,r)}}function kU(t,e){return t.replace(CU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(yI(s)&&yI(o)){if(!x0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mA(t,e){const n=new OU(t,e);return n.subscribe.bind(n)}class OU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ny),i.error===void 0&&(i.error=Ny),i.complete===void 0&&(i.complete=Ny);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AU=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PU(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RU(t){return t===so?void 0:t}function PU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=[];var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const gA={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},LU=we.INFO,FU={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},MU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let gm=class{constructor(e){this.name=e,this._logLevel=LU,this._logHandler=MU,this._userLogHandler=null,fb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};function $U(t){fb.forEach(e=>{e.setLogLevel(t)})}function UU(t,e){for(const n of fb){let r=null;e&&e.level&&(r=gA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:we[s].toLowerCase(),message:a,args:o,type:i.name})}}}const VU=(t,e)=>e.some(n=>t instanceof n);let vI,wI;function jU(){return vI||(vI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BU(){return wI||(wI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yA=new WeakMap,O0=new WeakMap,vA=new WeakMap,Ay=new WeakMap,db=new WeakMap;function qU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yA.set(n,t)}).catch(()=>{}),db.set(e,t),e}function zU(t){if(O0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});O0.set(t,e)}let N0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return O0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WU(t){N0=t(N0)}function QU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ry(this),e,...n);return vA.set(r,e.sort?e.sort():[e]),ys(r)}:BU().includes(t)?function(...e){return t.apply(Ry(this),e),ys(yA.get(this))}:function(...e){return ys(t.apply(Ry(this),e))}}function HU(t){return typeof t=="function"?QU(t):(t instanceof IDBTransaction&&zU(t),VU(t,jU())?new Proxy(t,N0):t)}function ys(t){if(t instanceof IDBRequest)return qU(t);if(Ay.has(t))return Ay.get(t);const e=HU(t);return e!==t&&(Ay.set(t,e),db.set(e,t)),e}const Ry=t=>db.get(t);function GU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ys(o.result),u.oldVersion,u.newVersion,ys(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const KU=["get","getKey","getAll","getAllKeys","count"],YU=["put","add","delete","clear"],Py=new Map;function bI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KU.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Py.set(e,s),s}WU(t=>({...t,get:(e,n,r)=>bI(e,n)||t.get(e,n,r),has:(e,n)=>!!bI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const A0="@firebase/app",EI="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new gm("@firebase/app"),ZU="@firebase/app-compat",e5="@firebase/analytics-compat",t5="@firebase/analytics",n5="@firebase/app-check-compat",r5="@firebase/app-check",i5="@firebase/auth",s5="@firebase/auth-compat",o5="@firebase/database",a5="@firebase/database-compat",u5="@firebase/functions",l5="@firebase/functions-compat",c5="@firebase/installations",h5="@firebase/installations-compat",f5="@firebase/messaging",d5="@firebase/messaging-compat",p5="@firebase/performance",m5="@firebase/performance-compat",g5="@firebase/remote-config",y5="@firebase/remote-config-compat",v5="@firebase/storage",w5="@firebase/storage-compat",b5="@firebase/firestore",E5="@firebase/firestore-compat",S5="firebase",_5="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]",I5={[A0]:"fire-core",[ZU]:"fire-core-compat",[t5]:"fire-analytics",[e5]:"fire-analytics-compat",[r5]:"fire-app-check",[n5]:"fire-app-check-compat",[i5]:"fire-auth",[s5]:"fire-auth-compat",[o5]:"fire-rtdb",[a5]:"fire-rtdb-compat",[u5]:"fire-fn",[l5]:"fire-fn-compat",[c5]:"fire-iid",[h5]:"fire-iid-compat",[f5]:"fire-fcm",[d5]:"fire-fcm-compat",[p5]:"fire-perf",[m5]:"fire-perf-compat",[g5]:"fire-rc",[y5]:"fire-rc-compat",[v5]:"fire-gcs",[w5]:"fire-gcs-compat",[b5]:"fire-fst",[E5]:"fire-fst-compat","fire-js":"fire-js",[S5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Map,Mc=new Map;function op(t,e){try{t.container.addComponent(e)}catch(n){Uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wA(t,e){t.container.addOrOverwriteComponent(e)}function Cs(t){const e=t.name;if(Mc.has(e))return Uo.debug(`There were multiple attempts to register component ${e}.`),!1;Mc.set(e,t);for(const n of ks.values())op(n,t);return!0}function bA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function T5(t,e,n=Ts){bA(t,e).clearInstance(n)}function k5(){Mc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yi=new ua("app","Firebase",C5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x5=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=_5;function pb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ts,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=yU()),!n)throw yi.create("no-options");const s=ks.get(i);if(s){if(x0(n,s.options)&&x0(r,s.config))return s;throw yi.create("duplicate-app",{appName:i})}const o=new DU(i);for(const u of Mc.values())o.addComponent(u);const a=new x5(n,r,o);return ks.set(i,a),a}function O5(t=Ts){const e=ks.get(t);if(!e&&t===Ts)return pb();if(!e)throw yi.create("no-app",{appName:t});return e}function N5(){return Array.from(ks.values())}async function EA(t){const e=t.name;ks.has(e)&&(ks.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function zr(t,e,n){var r;let i=(r=I5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Uo.warn(a.join(" "));return}Cs(new Yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function SA(t,e){if(t!==null&&typeof t!="function")throw yi.create("invalid-log-argument");UU(t,e)}function _A(t){$U(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="firebase-heartbeat-database",R5=1,$c="firebase-heartbeat-store";let Dy=null;function IA(){return Dy||(Dy=GU(A5,R5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($c)}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Dy}async function P5(t){try{return(await IA()).transaction($c).objectStore($c).get(TA(t))}catch(e){if(e instanceof fn)Uo.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Uo.warn(n.message)}}}async function SI(t,e){try{const r=(await IA()).transaction($c,"readwrite");return await r.objectStore($c).put(e,TA(t)),r.done}catch(n){if(n instanceof fn)Uo.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Uo.warn(r.message)}}}function TA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=1024,L5=30*24*60*60*1e3;class F5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_I();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=L5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_I(),{heartbeatsToSend:n,unsentEntries:r}=M5(this._heartbeatsCache.heartbeats),i=ip(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _I(){return new Date().toISOString().substring(0,10)}function M5(t,e=D5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),II(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),II(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fc()?IU().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await P5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function II(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){Cs(new Yr("platform-logger",e=>new JU(e),"PRIVATE")),Cs(new Yr("heartbeat",e=>new F5(e),"PRIVATE")),zr(A0,EI,t),zr(A0,EI,"esm2017"),zr("fire-js","")}U5("");const V5=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fn,SDK_VERSION:la,_DEFAULT_ENTRY_NAME:Ts,_addComponent:op,_addOrOverwriteComponent:wA,_apps:ks,_clearComponents:k5,_components:Mc,_getProvider:bA,_registerComponent:Cs,_removeServiceInstance:T5,deleteApp:EA,getApp:O5,getApps:N5,initializeApp:pb,onLog:SA,registerVersion:zr,setLogLevel:_A},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this._delegate=e,this.firebase=n,op(e,new Yr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),EA(this._delegate)))}_getService(e,n=Ts){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ts){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){op(this._delegate,e)}_addOrOverwriteComponent(e){wA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},TI=new ua("app-compat","Firebase",B5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:zr,setLogLevel:_A,onLog:SA,apps:null,SDK_VERSION:la,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:V5}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||Ts,!gI(e,l))throw TI.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,c={}){const h=pb(l,c);if(gI(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const c=l.name,h=c.replace("-compat","");if(Cs(l)&&l.type==="PUBLIC"){const f=(d=i())=>{if(typeof d[h]!="function")throw TI.create("invalid-app-argument",{appName:c});return d[h]()};l.serviceProps!==void 0&&sp(f,l.serviceProps),n[h]=f,t.prototype[h]=function(...d){return this._getService.bind(this,c).apply(this,l.multipleInstances?d:[])}}return l.type==="PUBLIC"?n[h]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){const t=q5(j5);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:kA,extendNamespace:e,createSubscribe:mA,ErrorFactory:ua,deepExtend:sp});function e(n){sp(t,n)}return t}const z5=kA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new gm("@firebase/app-compat"),W5="@firebase/app-compat",Q5="0.2.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){zr(W5,Q5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(SU()&&self.firebase!==void 0){kI.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&kI.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Qs=z5;H5();var G5="firebase",K5="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs.registerVersion(G5,K5,"app-compat");var R0=function(t,e){return R0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},R0(t,e)};function or(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");R0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var N=function(){return N=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N.apply(this,arguments)};function ir(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Gi(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(h){o(h)}}function u(c){try{l(r.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Ki(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ap(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const ml={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ba={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function CA(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J5=Y5,X5=CA,xA=new ua("auth","Firebase",CA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new gm("@firebase/auth");function Jf(t,...e){CI.logLevel<=we.ERROR&&CI.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,...e){throw mb(t,...e)}function Wt(t,...e){return mb(t,...e)}function OA(t,e,n){const r=Object.assign(Object.assign({},X5()),{[e]:n});return new ua("auth","Firebase",r).create(e,{appName:t.name})}function Wu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gt(t,"argument-error"),OA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xA.create(t,...e)}function j(t,e,...n){if(!t)throw mb(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jf(e),new Error(e)}function Er(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;function Fn(t){Er(t instanceof Function,"Expected a class definition");let e=xI.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xI.set(t,e),e)}function Z5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gb(){return OI()==="http:"||OI()==="https:"}function OI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gb()||dA()||"connection"in navigator)?navigator.onLine:!0}function t6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=EU()||hb()}get(){return e6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new Ih(3e4,6e4);function It(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pt(t,e,n,r,i={}){return AA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=zu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),NA.fetch()(RA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function AA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n6),e);try{const i=new i6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $l(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $l(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw $l(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw $l(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw OA(t,c,l);Gt(t,c)}}catch(i){if(i instanceof fn)throw i;Gt(t,"network-request-failed")}}async function Ni(t,e,n,r,i={}){const s=await Pt(t,e,n,r,i);return"mfaPendingCredential"in s&&Gt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function RA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yb(t.config,i):`${t.config.apiScheme}://${i}`}class i6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wt(this.auth,"network-request-failed")),r6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e){return Pt(t,"POST","/v1/accounts:delete",e)}async function o6(t,e){return Pt(t,"POST","/v1/accounts:update",e)}async function a6(t,e){return Pt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u6(t,e=!1){const n=ie(t),r=await n.getIdToken(e),i=ym(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nc(Ly(i.auth_time)),issuedAtTime:nc(Ly(i.iat)),expirationTime:nc(Ly(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ly(t){return Number(t)*1e3}function ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const i=fA(n);return i?JSON.parse(i):(Jf("Failed to decode base64 JWT payload"),null)}catch(i){return Jf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function l6(t){const e=ym(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fn&&c6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ii(t,a6(n,{idToken:r}));j(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?p6(s.providerUserInfo):[],a=d6(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new PA(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function f6(t){const e=ie(t);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p6(t){return t.map(e=>{var{providerId:n}=e,r=ir(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e){const n=await AA(t,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return j(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await m6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jc;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(j(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new PA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ii(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u6(this,e)}reload(){return f6(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ii(this,s6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:_,providerData:T,stsTokenManager:k}=n;j(w&&k,e,"internal-error");const x=jc.fromJSON(this.name,k);j(typeof w=="string",e,"internal-error"),Mi(h,e.name),Mi(f,e.name),j(typeof E=="boolean",e,"internal-error"),j(typeof _=="boolean",e,"internal-error"),Mi(d,e.name),Mi(p,e.name),Mi(m,e.name),Mi(b,e.name),Mi(g,e.name),Mi(y,e.name);const M=new xo({uid:w,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:m,stsTokenManager:x,createdAt:g,lastLoginAt:y});return T&&Array.isArray(T)&&(M.providerData=T.map(C=>Object.assign({},C))),b&&(M._redirectEventId=b),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new jc;i.updateFromServerResponse(n);const s=new xo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DA.type="NONE";const vu=DA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e,n){return`firebase:${t}:${e}:${n}`}class eu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eu(Fn(vu),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Fn(vu);const o=Oo(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const h=xo._fromJSON(e,c);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new eu(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new eu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($A(e))return"Blackberry";if(UA(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||FA(e))&&!e.includes("edge/"))return"Chrome";if(Th(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LA(t=nt()){return/firefox\//i.test(t)}function vb(t=nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FA(t=nt()){return/crios\//i.test(t)}function MA(t=nt()){return/iemobile/i.test(t)}function Th(t=nt()){return/android/i.test(t)}function $A(t=nt()){return/blackberry/i.test(t)}function UA(t=nt()){return/webos/i.test(t)}function Qu(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g6(t=nt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function y6(t=nt()){var e;return Qu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v6(){return pA()&&document.documentMode===10}function VA(t=nt()){return Qu(t)||Th(t)||UA(t)||$A(t)||/windows phone/i.test(t)||MA(t)}function w6(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e=[]){let n;switch(t){case"Browser":n=NI(nt());break;case"Worker":n=`${NI(nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AI(this),this.idTokenSubscription=new AI(this),this.beforeStateQueue=new b6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xA,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await eu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ie(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function At(t){return ie(t)}let AI=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function S6(t,e,n){const r=At(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=BA(e),{host:o,port:a}=_6(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||I6()}function BA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _6(t){const e=BA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:RI(o)}}}function RI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e){return Pt(t,"POST","/v1/accounts:resetPassword",It(t,e))}async function zA(t,e){return Pt(t,"POST","/v1/accounts:update",e)}async function T6(t,e){return Pt(t,"POST","/v1/accounts:update",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return Ni(t,"POST","/v1/accounts:signInWithPassword",It(t,e))}async function vm(t,e){return Pt(t,"POST","/v1/accounts:sendOobCode",It(t,e))}async function C6(t,e){return vm(t,e)}async function x6(t,e){return vm(t,e)}async function O6(t,e){return vm(t,e)}async function N6(t,e){return vm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e){return Ni(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}async function R6(t,e){return Ni(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Hu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return k6(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return A6(e,{email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return zA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return R6(e,{idToken:n,email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t,e){return Ni(t,"POST","/v1/accounts:signInWithIdp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="http://localhost";class Jr extends Hu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ir(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Jr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}buildRequest(){const e={requestUri:P6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e){return Pt(t,"POST","/v1/accounts:sendVerificationCode",It(t,e))}async function L6(t,e){return Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e))}async function F6(t,e){const n=await Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e));if(n.temporaryProof)throw $l(t,"account-exists-with-different-credential",n);return n}const M6={USER_NOT_FOUND:"user-not-found"};async function $6(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,n),M6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Hu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new No({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new No({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return L6(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return F6(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return $6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new No({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V6(t){const e=qa(Ml(t)).link,n=e?qa(Ml(e)).deep_link_id:null,r=qa(Ml(t)).deep_link_id;return(r?qa(Ml(r)).link:null)||r||n||e||t}class wm{constructor(e){var n,r,i,s,o,a;const u=qa(Ml(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,h=U6((i=u.mode)!==null&&i!==void 0?i:null);j(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=V6(e);try{return new wm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wm.parseLink(n);return j(r,"argument-error"),Bc._fromEmailAndCode(e,r.code,r.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tu extends Gu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return j("providerId"in n&&"signInMethod"in n,"argument-error"),Jr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return j(e.idToken||e.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new tu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Gu{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Gu{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="http://localhost";class wu extends Hu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new wu(r,s)}static _create(e,n){return new wu(e,n)}buildRequest(){return{requestUri:j6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="saml.";class up extends Ai{constructor(e){j(e.startsWith(B6),"argument-error"),super(e)}static credentialFromResult(e){return up.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return up.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=wu.fromJSON(e);return j(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return wu._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Gu{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(t,e){return Ni(t,"POST","/v1/accounts:signUp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xo._fromIdTokenResponse(e,r,i),o=PI(r);return new sr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PI(r);return new sr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t){var e;const n=At(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new sr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await WA(n,{returnSecureToken:!0}),i=await sr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends fn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lp(e,n,r,i)}}function QA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t,e){const n=ie(t);await bm(!0,n,e);const{providerUserInfo:r}=await o6(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=HA(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function wb(t,e,n=!1){const r=await Ii(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sr._forOperation(t,"link",r)}async function bm(t,e,n){await Vc(e);const r=HA(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";j(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ii(t,QA(r,i,e,t),n);j(s.idToken,r,"internal-error");const o=ym(s.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(t.uid===a,r,"user-mismatch"),sr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e,n=!1){const r="signIn",i=await QA(t,r,e),s=await sr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Em(t,e){return KA(At(t),e)}async function YA(t,e){const n=ie(t);return await bm(!1,n,e.providerId),wb(n,e)}async function JA(t,e){return GA(ie(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e){return Ni(t,"POST","/v1/accounts:signInWithCustomToken",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e){const n=At(t),r=await W6(n,{token:e,returnSecureToken:!0}),i=await sr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?bb._fromServerResponse(e,n):Gt(e,"internal-error")}}class bb extends Sm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new bb(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e,n){const r=ie(t),i={requestType:"PASSWORD_RESET",email:e};n&&_m(r,i,n),await x6(r,i)}async function G6(t,e,n){await qA(ie(t),{oobCode:e,newPassword:n})}async function K6(t,e){await T6(ie(t),{oobCode:e})}async function XA(t,e){const n=ie(t),r=await qA(n,{oobCode:e}),i=r.requestType;switch(j(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(r.mfaInfo,n,"internal-error");default:j(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Sm._fromServerResponse(At(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Y6(t,e){const{data:n}=await XA(ie(t),e);return n.email}async function J6(t,e,n){const r=At(t),i=await WA(r,{returnSecureToken:!0,email:e,password:n}),s=await sr._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function X6(t,e,n){return Em(ie(t),Hs.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e,n){const r=ie(t),i={requestType:"EMAIL_SIGNIN",email:e};j(n.handleCodeInApp,r,"argument-error"),n&&_m(r,i,n),await O6(r,i)}function eV(t,e){const n=wm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function tV(t,e,n){const r=ie(t),i=Hs.credentialWithLink(e,n||Uc());return j(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Em(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return Pt(t,"POST","/v1/accounts:createAuthUri",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e){const n=gb()?Uc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await nV(ie(t),r);return i||[]}async function iV(t,e){const n=ie(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_m(n.auth,i,e);const{email:s}=await C6(n.auth,i);s!==t.email&&await t.reload()}async function sV(t,e,n){const r=ie(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&_m(r.auth,s,n);const{email:o}=await N6(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e){return Pt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ie(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ii(r,oV(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function uV(t,e){return ZA(ie(t),e,null)}function lV(t,e){return ZA(ie(t),null,e)}async function ZA(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ii(t,zA(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=ym(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new nu(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new hV(s,i);case"github.com":return new fV(s,i);case"google.com":return new dV(s,i);case"twitter.com":return new pV(s,i,t.screenName||null);case"custom":case"anonymous":return new nu(s,null);default:return new nu(s,r,i)}}class nu{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class eR extends nu{constructor(e,n,r,i){super(e,n,r),this.username=i}}class hV extends nu{constructor(e,n){super(e,"facebook.com",n)}}class fV extends eR{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class dV extends nu{constructor(e,n){super(e,"google.com",n)}}class pV extends eR{constructor(e,n,r){super(e,"twitter.com",n,r)}}function mV(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:cV(n)}class bo{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new bo("enroll",e,n)}static _fromMfaPendingCredential(e){return new bo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return bo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return bo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=At(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Sm._fromServerResponse(r,a));j(i.mfaPendingCredential,r,"internal-error");const o=bo._fromMfaPendingCredential(i.mfaPendingCredential);return new Eb(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const c=await sr._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return j(n.user,r,"internal-error"),sr._forOperation(n.user,n.operationType,l);default:Gt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function gV(t,e){var n;const r=ie(t),i=e;return j(e.customData.operationType,r,"argument-error"),j((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Eb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t,e){return Pt(t,"POST","/v2/accounts/mfaEnrollment:start",It(t,e))}function vV(t,e){return Pt(t,"POST","/v2/accounts/mfaEnrollment:finalize",It(t,e))}function wV(t,e){return Pt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",It(t,e))}class Sb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Sm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Sb(e)}async getSession(){return bo._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ii(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken(),i=await Ii(this.user,wV(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(s){if((s==null?void 0:s.code)!=="auth/user-token-expired")throw s}}}const Fy=new WeakMap;function bV(t){const e=ie(t);return Fy.has(e)||Fy.set(e,Sb._fromUser(e)),Fy.get(e)}const cp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){const t=nt();return vb(t)||Qu(t)}const SV=1e3,_V=10;class nR extends tR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EV()&&w6(),this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);v6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_V):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nR.type="LOCAL";const _b=nR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends tR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rR.type="SESSION";const Vo=rR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await IV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=kh("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return window}function kV(t){wt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof wt().WorkerGlobalScope<"u"&&typeof wt().importScripts=="function"}async function CV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OV(){return Ib()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebaseLocalStorageDb",NV=1,hp="firebaseLocalStorage",sR="fbase_key";class Ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tm(t,e){return t.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function AV(){const t=indexedDB.deleteDatabase(iR);return new Ch(t).toPromise()}function P0(){const t=indexedDB.open(iR,NV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hp,{keyPath:sR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hp)?e(r):(r.close(),await AV(),e(await P0()))})})}async function DI(t,e,n){const r=Tm(t,!0).put({[sR]:e,value:n});return new Ch(r).toPromise()}async function RV(t,e){const n=Tm(t,!1).get(e),r=await new Ch(n).toPromise();return r===void 0?null:r.value}function LI(t,e){const n=Tm(t,!0).delete(e);return new Ch(n).toPromise()}const PV=800,DV=3;class oR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(OV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CV(),!this.activeServiceWorker)return;this.sender=new TV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P0();return await DI(e,cp,"1"),await LI(e,cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Tm(i,!1).getAll();return new Ch(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oR.type="LOCAL";const qc=oR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t,e){return Pt(t,"POST","/v2/accounts/mfaSignIn:start",It(t,e))}function FV(t,e){return Pt(t,"POST","/v2/accounts/mfaSignIn:finalize",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t){return(await Pt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function aR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$V().appendChild(r)})}function uR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=500,VV=6e4,wf=1e12;class jV{constructor(e){this.auth=e,this.counter=wf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new BV(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||wf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||wf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||wf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class BV{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;j(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=qV(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},VV)},UV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function qV(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=uR("rcb"),zV=new Ih(3e4,6e4),WV="https://www.google.com/recaptcha/api.js?";class QV{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=wt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return j(HV(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(wt().grecaptcha):new Promise((r,i)=>{const s=wt().setTimeout(()=>{i(Wt(e,"network-request-failed"))},zV.get());wt()[My]=()=>{wt().clearTimeout(s),delete wt()[My];const a=wt().grecaptcha;if(!a){i(Wt(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const h=u(l,c);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${WV}?${zu({onload:My,render:"explicit",hl:n})}`;aR(o).catch(()=>{clearTimeout(s),i(Wt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=wt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function HV(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class GV{async load(e){return new jV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="recaptcha",KV={theme:"light",type:"image"};let YV=class{constructor(e,n=Object.assign({},KV),r){this.parameters=n,this.type=lR,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=At(r),this.isInvisible=this.parameters.size==="invisible",j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;j(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GV:new QV,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=wt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){j(gb()&&!Ib(),this.auth,"internal-error"),await JV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await MV(this.auth);j(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function JV(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=No._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function XV(t,e,n){const r=At(t),i=await km(r,e,ie(n));return new Tb(i,s=>Em(r,s))}async function ZV(t,e,n){const r=ie(t);await bm(!1,r,"phone");const i=await km(r.auth,e,ie(n));return new Tb(i,s=>YA(r,s))}async function ej(t,e,n){const r=ie(t),i=await km(r.auth,e,ie(n));return new Tb(i,s=>JA(r,s))}async function km(t,e,n){var r;const i=await n.verify();try{j(typeof i=="string",t,"argument-error"),j(n.type===lR,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return j(o.type==="enroll",t,"internal-error"),(await yV(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{j(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return j(a,t,"missing-multi-factor-info"),(await LV(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await D6(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function tj(t,e){await wb(ie(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr=class{constructor(e){this.providerId=Wr.PROVIDER_ID,this.auth=At(e)}verifyPhoneNumber(e,n){return km(this.auth,e,ie(n))}static credential(e,n){return No._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Wr.credentialFromTaggedObject(n)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?No._fromTokenResponse(n,r):null}};Wr.PROVIDER_ID="phone";Wr.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,e){return e?Fn(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Hu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nj(t){return KA(t.auth,new kb(t),t.bypassAuthState)}function rj(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),GA(n,new kb(t),t.bypassAuthState)}async function ij(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),wb(n,new kb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nj;case"linkViaPopup":case"linkViaRedirect":return ij;case"reauthViaPopup":case"reauthViaRedirect":return rj;default:Gt(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new Ih(2e3,1e4);async function oj(t,e,n){const r=At(t);Wu(t,e,Ai);const i=ca(r,n);return new fi(r,"signInViaPopup",e,i).executeNotNull()}async function aj(t,e,n){const r=ie(t);Wu(r.auth,e,Ai);const i=ca(r.auth,n);return new fi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function uj(t,e,n){const r=ie(t);Wu(r.auth,e,Ai);const i=ca(r.auth,n);return new fi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class fi extends cR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fi.currentPopupAction&&fi.currentPopupAction.cancel(),fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=kh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,sj.get())};e()}}fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="pendingRedirect",rc=new Map;class cj extends cR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const r=await hj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hj(t,e){const n=fR(e),r=hR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Cb(t,e){return hR(t)._set(fR(e),"true")}function fj(){rc.clear()}function xb(t,e){rc.set(t._key(),e)}function hR(t){return Fn(t._redirectPersistence)}function fR(t){return Oo(lj,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t,e,n){return pj(t,e,n)}async function pj(t,e,n){const r=At(t);Wu(t,e,Ai),await r._initializationPromise;const i=ca(r,n);return await Cb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function mj(t,e,n){return gj(t,e,n)}async function gj(t,e,n){const r=ie(t);Wu(r.auth,e,Ai),await r.auth._initializationPromise;const i=ca(r.auth,n);await Cb(i,r.auth);const s=await dR(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function yj(t,e,n){return vj(t,e,n)}async function vj(t,e,n){const r=ie(t);Wu(r.auth,e,Ai),await r.auth._initializationPromise;const i=ca(r.auth,n);await bm(!1,r,e.providerId),await Cb(i,r.auth);const s=await dR(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function wj(t,e){return await At(t)._initializationPromise,Cm(t,e,!1)}async function Cm(t,e,n=!1){const r=At(t),i=ca(r,e),o=await new cj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function dR(t){const e=kh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=10*60*1e3;class pR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ej(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bj&&this.cachedEventUids.clear(),this.cachedEventUids.has(FI(e))}saveEventToCache(e){this.cachedEventUids.add(FI(e)),this.lastProcessedEventTime=Date.now()}}function FI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ej(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e={}){return Pt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_j=/^https?/;async function Ij(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gR(t);for(const n of e)try{if(Tj(n))return}catch{}Gt(t,"unauthorized-domain")}function Tj(t){const e=Uc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_j.test(n))return!1;if(Sj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new Ih(3e4,6e4);function MI(){const t=wt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cj(t){return new Promise((e,n)=>{var r,i,s;function o(){MI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MI(),n(Wt(t,"network-request-failed"))},timeout:kj.get()})}if(!((i=(r=wt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wt().gapi)===null||s===void 0)&&s.load)o();else{const a=uR("iframefcb");return wt()[a]=()=>{gapi.load?o():n(Wt(t,"network-request-failed"))},aR(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function xj(t){return Xf=Xf||Cj(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new Ih(5e3,15e3),Nj="__/auth/iframe",Aj="emulator/auth/iframe",Rj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dj(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yb(e,Aj):`https://${t.config.authDomain}/${Nj}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=Pj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zu(r).slice(1)}`}async function Lj(t){const e=await xj(t),n=wt().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:Dj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wt(t,"network-request-failed"),a=wt().setTimeout(()=>{s(o)},Oj.get());function u(){wt().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mj=500,$j=600,Uj="_blank",Vj="http://localhost";class $I{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jj(t,e,n,r=Mj,i=$j){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Fj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=nt().toLowerCase();n&&(a=FA(l)?Uj:n),LA(l)&&(e=e||Vj,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(y6(l)&&a!=="_self")return Bj(e||"",a),new $I(null);const h=window.open(e||"",a,c);j(h,t,"popup-blocked");try{h.focus()}catch{}return new $I(h)}function Bj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="__/auth/handler",zj="emulator/auth/handler";function D0(t,e,n,r,i,s){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof Ai){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof Gu){const u=e.getScopes().filter(l=>l!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${Wj(t)}?${zu(a).slice(1)}`}function Wj({config:t}){return t.emulator?yb(t,zj):`https://${t.authDomain}/${qj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="webStorageSupport";class Qj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vo,this._completeRedirectFn=Cm,this._overrideRedirectResult=xb}async _openPopup(e,n,r,i){var s;Er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=D0(e,n,r,Uc(),i);return jj(e,o,kh())}async _openRedirect(e,n,r,i){return await this._originValidation(e),kV(D0(e,n,r,Uc(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Lj(e),r=new pR(e);return n.register("authEvent",i=>(j(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($y,{type:$y},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$y];o!==void 0&&n(!!o),Gt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ij(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VA()||vb()||Qu()}}const Hj=Qj;class Gj{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Mr("unexpected MultiFactorSessionType")}}}class Ob extends Gj{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ob(e)}_finalizeEnroll(e,n,r){return vV(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return FV(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class yR{constructor(){}static assertion(e){return Ob._fromCredential(e)}}yR.FACTOR_ID="phone";var UI="@firebase/auth",VI="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Jj(t){Cs(new Yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{j(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),j(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jA(t)},c=new E6(a,u,l);return Z5(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cs(new Yr("auth-internal",e=>{const n=At(e.getProvider("auth").getImmediate());return(r=>new Kj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(UI,VI,Yj(t)),zr(UI,VI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=5*60;vU("authIdTokenMaxAge");Jj("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=2e3;async function e8(t,e,n){var r;const{BuildInfo:i}=jo();Er(e.sessionId,"AuthEvent did not contain a session ID");const s=await s8(e.sessionId),o={};return Qu()?o.ibi=i.packageName:Th()?o.apn=i.packageName:Gt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,D0(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function t8(t){const{BuildInfo:e}=jo(),n={};Qu()?n.iosBundleId=e.packageName:Th()?n.androidPackageName=e.packageName:Gt(t,"operation-not-supported-in-this-environment"),await gR(t,n)}function n8(t){const{cordova:e}=jo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,g6()?"_blank":"_system","location=yes"),n(i)})})}async function r8(t,e,n){const{cordova:r}=jo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Wt(t,"redirect-cancelled-by-user"))},Zj))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),Th()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function i8(t){var e,n,r,i,s,o,a,u,l,c;const h=jo();j(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((u=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((c=(l=h==null?void 0:h.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function s8(t){const e=o8(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function o8(t){if(Er(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=20;class u8 extends pR{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function l8(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:f8(),postBody:null,tenantId:t.tenantId,error:Wt(t,"no-auth-event")}}function c8(t,e){return L0()._set(F0(t),e)}async function jI(t){const e=await L0()._get(F0(t));return e&&await L0()._remove(F0(t)),e}function h8(t,e){var n,r;const i=p8(e);if(i.includes("/__/auth/callback")){const s=Zf(i),o=s.firebaseError?d8(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Wt(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function f8(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<a8;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function L0(){return Fn(_b)}function F0(t){return Oo("authEvent",t.config.apiKey,t.name)}function d8(t){try{return JSON.parse(t)}catch{return null}}function p8(t){const e=Zf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Zf(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Zf(i).link||i||r||n||t}function Zf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return qa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=500;class g8{constructor(){this._redirectPersistence=Vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cm,this._overrideRedirectResult=xb}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new u8(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Gt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){i8(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),fj(),await this._originValidation(e);const o=l8(e,r,i);await c8(e,o);const a=await e8(e,o,n),u=await n8(a);return r8(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t8(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=jo(),o=setTimeout(async()=>{await jI(e),n.onEvent(BI())},m8),a=async c=>{clearTimeout(o);const h=await jI(e);let f=null;h&&(c!=null&&c.url)&&(f=h8(h,c.url)),n.onEvent(f||BI())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;jo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(l)&&a({url:c}),typeof u=="function")try{u(c)}catch(h){console.error(h)}}}}const y8=g8;function BI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Wt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t,e){At(t)._logFramework(e)}var w8="@firebase/auth-compat",b8="0.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=1e3;function ic(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function S8(){return ic()==="http:"||ic()==="https:"}function vR(t=nt()){return!!((ic()==="file:"||ic()==="ionic:"||ic()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _8(){return hb()||cb()}function I8(){return pA()&&(document==null?void 0:document.documentMode)===11}function T8(t=nt()){return/Edge\/\d+/.test(t)}function k8(t=nt()){return I8()||T8(t)}function wR(){try{const t=self.localStorage,e=kh();if(t)return t.setItem(e,"1"),t.removeItem(e),k8()?Fc():!0}catch{return Nb()&&Fc()}return!1}function Nb(){return typeof pt<"u"&&"WorkerGlobalScope"in pt&&"importScripts"in pt}function Uy(){return(S8()||dA()||vR())&&!_8()&&wR()&&!Nb()}function bR(){return vR()&&typeof document<"u"}async function C8(){return bR()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},E8);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function x8(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},gl=j,ER="persistence";function O8(t,e){if(gl(Object.values(Dn).includes(e),t,"invalid-persistence-type"),hb()){gl(e!==Dn.SESSION,t,"unsupported-persistence-type");return}if(cb()){gl(e===Dn.NONE,t,"unsupported-persistence-type");return}if(Nb()){gl(e===Dn.NONE||e===Dn.LOCAL&&Fc(),t,"unsupported-persistence-type");return}gl(e===Dn.NONE||wR(),t,"unsupported-persistence-type")}async function M0(t){await t._initializationPromise;const e=SR(),n=Oo(ER,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function N8(t,e){const n=SR();if(!n)return[];const r=Oo(ER,t,e);switch(n.getItem(r)){case Dn.NONE:return[vu];case Dn.LOCAL:return[qc,Vo];case Dn.SESSION:return[Vo];default:return[]}}function SR(){var t;try{return((t=x8())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=j;class ss{constructor(){this.browserResolver=Fn(Hj),this.cordovaResolver=Fn(y8),this.underlyingResolver=null,this._redirectPersistence=Vo,this._completeRedirectFn=Cm,this._overrideRedirectResult=xb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return bR()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return A8(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await C8();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){return t.unwrap()}function R8(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){return IR(t)}function D8(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new L8(t,gV(t,e))}else if(r){const i=IR(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function IR(t){const{_tokenResponse:e}=t instanceof fn?t.customData:t;if(!e)return null;if(!(t instanceof fn)&&"temporaryProof"in e&&"phoneNumber"in e)return Wr.credentialFromResult(t);const n=e.providerId;if(!n||n===ml.PASSWORD)return null;let r;switch(n){case ml.GOOGLE:r=Ar;break;case ml.FACEBOOK:r=Nr;break;case ml.GITHUB:r=Rr;break;case ml.TWITTER:r=Pr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?wu._create(n,a):Jr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new tu(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof fn?r.credentialFromError(t):r.credentialFromResult(t)}function yn(t,e){return e.catch(n=>{throw n instanceof fn&&D8(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:P8(n),additionalUserInfo:mV(n),user:di.getOrCreate(i)}})}async function $0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>yn(t,n.confirm(r))}}class L8{constructor(e,n){this.resolver=n,this.auth=R8(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return yn(_R(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._delegate=e,this.multiFactor=bV(e)}static getOrCreate(e){return di.USER_MAP.has(e)||di.USER_MAP.set(e,new di(e)),di.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return yn(this.auth,YA(this._delegate,e))}async linkWithPhoneNumber(e,n){return $0(this.auth,ZV(this._delegate,e,n))}async linkWithPopup(e){return yn(this.auth,uj(this._delegate,e,ss))}async linkWithRedirect(e){return await M0(At(this.auth)),yj(this._delegate,e,ss)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return yn(this.auth,JA(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return $0(this.auth,ej(this._delegate,e,n))}reauthenticateWithPopup(e){return yn(this.auth,aj(this._delegate,e,ss))}async reauthenticateWithRedirect(e){return await M0(At(this.auth)),mj(this._delegate,e,ss)}sendEmailVerification(e){return iV(this._delegate,e)}async unlink(e){return await z6(this._delegate,e),this}updateEmail(e){return uV(this._delegate,e)}updatePassword(e){return lV(this._delegate,e)}updatePhoneNumber(e){return tj(this._delegate,e)}updateProfile(e){return aV(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return sV(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}di.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=j;class U0{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;yl(r,"invalid-api-key",{appName:e.name}),yl(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ss:void 0;this._delegate=n.initialize({options:{persistence:F8(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(J5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?di.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){S6(this._delegate,e,n)}applyActionCode(e){return K6(this._delegate,e)}checkActionCode(e){return XA(this._delegate,e)}confirmPasswordReset(e,n){return G6(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return yn(this._delegate,J6(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return rV(this._delegate,e)}isSignInWithEmailLink(e){return eV(this._delegate,e)}async getRedirectResult(){yl(Uy(),this._delegate,"operation-not-supported-in-this-environment");const e=await wj(this._delegate,ss);return e?yn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){v8(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=qI(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=qI(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Z6(this._delegate,e,n)}sendPasswordResetEmail(e,n){return H6(this._delegate,e,n||void 0)}async setPersistence(e){O8(this._delegate,e);let n;switch(e){case Dn.SESSION:n=Vo;break;case Dn.LOCAL:n=await Fn(qc)._isAvailable()?qc:_b;break;case Dn.NONE:n=vu;break;default:return Gt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return yn(this._delegate,q6(this._delegate))}signInWithCredential(e){return yn(this._delegate,Em(this._delegate,e))}signInWithCustomToken(e){return yn(this._delegate,Q6(this._delegate,e))}signInWithEmailAndPassword(e,n){return yn(this._delegate,X6(this._delegate,e,n))}signInWithEmailLink(e,n){return yn(this._delegate,tV(this._delegate,e,n))}signInWithPhoneNumber(e,n){return $0(this._delegate,XV(this._delegate,e,n))}async signInWithPopup(e){return yl(Uy(),this._delegate,"operation-not-supported-in-this-environment"),yn(this._delegate,oj(this._delegate,e,ss))}async signInWithRedirect(e){return yl(Uy(),this._delegate,"operation-not-supported-in-this-environment"),await M0(this._delegate),dj(this._delegate,e,ss)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Y6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}U0.Persistence=Dn;function qI(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&di.getOrCreate(o)),error:e,complete:n}}function F8(t,e){const n=N8(t,e);if(typeof self<"u"&&!n.includes(qc)&&n.push(qc),typeof window<"u")for(const r of[_b,Vo])n.includes(r)||n.push(r);return n.includes(vu)||n.push(vu),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.providerId="phone",this._delegate=new Wr(_R(Qs.auth()))}static credential(e,n){return Wr.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Ab.PHONE_SIGN_IN_METHOD=Wr.PHONE_SIGN_IN_METHOD;Ab.PROVIDER_ID=Wr.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=j;class $8{constructor(e,n,r=Qs.app()){var i;M8((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new YV(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="auth-compat";function V8(t){t.INTERNAL.registerComponent(new Yr(U8,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new U0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ba.EMAIL_SIGNIN,PASSWORD_RESET:ba.PASSWORD_RESET,RECOVER_EMAIL:ba.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ba.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ba.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ba.VERIFY_EMAIL}},EmailAuthProvider:Hs,FacebookAuthProvider:Nr,GithubAuthProvider:Rr,GoogleAuthProvider:Ar,OAuthProvider:tu,SAMLAuthProvider:up,PhoneAuthProvider:Ab,PhoneMultiFactorGenerator:yR,RecaptchaVerifier:$8,TwitterAuthProvider:Pr,Auth:U0,AuthCredential:Hu,Error:fn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(w8,b8)}V8(Qs);var j8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof pt<"u"?pt:typeof self<"u"?self:{},ee,Rb=Rb||{},se=j8||self;function fp(){}function xm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function B8(t){return Object.prototype.hasOwnProperty.call(t,Vy)&&t[Vy]||(t[Vy]=++q8)}var Vy="closure_uid_"+(1e9*Math.random()>>>0),q8=0;function z8(t,e,n){return t.call.apply(t.bind,arguments)}function W8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=z8:tn=W8,tn.apply(null,arguments)}function bf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Yt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gs(){this.s=this.s,this.o=this.o}var Q8=0;Gs.prototype.s=!1;Gs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Q8!=0)&&B8(this)};Gs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var H8=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",fp,e),se.removeEventListener("test",fp,e)}catch{}return t}();function dp(t){return/^[\s\xa0]*$/.test(t)}var WI=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function jy(t,e){return t<e?-1:t>e?1:0}function Om(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return Om().indexOf(t)!=-1}function Db(t){return Db[" "](t),t}Db[" "]=fp;function G8(t){var e=J8;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var K8=Dr("Opera"),bu=Dr("Trident")||Dr("MSIE"),kR=Dr("Edge"),V0=kR||bu,CR=Dr("Gecko")&&!(Om().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),Y8=Om().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function xR(){var t=se.document;return t?t.documentMode:void 0}var pp;e:{var By="",qy=function(){var t=Om();if(CR)return/rv:([^\);]+)(\)|;)/.exec(t);if(kR)return/Edge\/([\d\.]+)/.exec(t);if(bu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Y8)return/WebKit\/(\S+)/.exec(t);if(K8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qy&&(By=qy?qy[1]:""),bu){var zy=xR();if(zy!=null&&zy>parseFloat(By)){pp=String(zy);break e}}pp=By}var J8={};function X8(){return G8(function(){let t=0;const e=WI(String(pp)).split("."),n=WI("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=jy(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||jy(i[2].length==0,s[2].length==0)||jy(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var j0;if(se.document&&bu){var QI=xR();j0=QI||parseInt(pp,10)||void 0}else j0=void 0;var Z8=j0;function zc(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CR){e:{try{Db(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:eB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zc.X.h.call(this)}}Yt(zc,nn);var eB={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oh="closure_listenable_"+(1e6*Math.random()|0),tB=0;function nB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++tB,this.ba=this.ea=!1}function Nm(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Lb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OR(t){const e={};for(const n in t)e[n]=t[n];return e}const HI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<HI.length;s++)n=HI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Am(t){this.src=t,this.g={},this.h=0}Am.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=q0(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new nB(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function B0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=TR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Nm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function q0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Fb="closure_lm_"+(1e6*Math.random()|0),Wy={};function AR(t,e,n,r,i){if(r&&r.once)return PR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AR(t,e[s],n,r,i);return null}return n=Ub(n),t&&t[Oh]?t.N(e,n,xh(r)?!!r.capture:!!r,i):RR(t,e,n,!1,r,i)}function RR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xh(i)?!!i.capture:!!i,a=$b(t);if(a||(t[Fb]=a=new Am(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=rB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)H8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(LR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rB(){function t(n){return e.call(t.src,t.listener,n)}const e=iB;return t}function PR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PR(t,e[s],n,r,i);return null}return n=Ub(n),t&&t[Oh]?t.O(e,n,xh(r)?!!r.capture:!!r,i):RR(t,e,n,!0,r,i)}function DR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)DR(t,e[s],n,r,i);else r=xh(r)?!!r.capture:!!r,n=Ub(n),t&&t[Oh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=q0(s,n,r,i),-1<n&&(Nm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$b(t))&&(e=t.g[e.toString()],t=-1,e&&(t=q0(e,n,r,i)),(n=-1<t?e[t]:null)&&Mb(n))}function Mb(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Oh])B0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(LR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$b(e))?(B0(n,t),n.h==0&&(n.src=null,e[Fb]=null)):Nm(t)}}}function LR(t){return t in Wy?Wy[t]:Wy[t]="on"+t}function iB(t,e){if(t.ba)t=!0;else{e=new zc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Mb(t),t=n.call(r,e)}return t}function $b(t){return t=t[Fb],t instanceof Am?t:null}var Qy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ub(t){return typeof t=="function"?t:(t[Qy]||(t[Qy]=function(e){return t.handleEvent(e)}),t[Qy])}function Rt(){Gs.call(this),this.i=new Am(this),this.P=this,this.I=null}Yt(Rt,Gs);Rt.prototype[Oh]=!0;Rt.prototype.removeEventListener=function(t,e,n,r){DR(this,t,e,n,r)};function Qt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;e=new nn(r,t),NR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ef(o,r,!0,e)&&i}if(o=e.g=t,i=Ef(o,r,!0,e)&&i,i=Ef(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ef(o,r,!1,e)&&i}Rt.prototype.M=function(){if(Rt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nm(n[r]);delete t.g[e],t.h--}}this.I=null};Rt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ef(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&B0(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vb=se.JSON.stringify;function sB(){var t=$R;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class oB{constructor(){this.h=this.g=null}add(e,n){const r=FR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var FR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new aB,t=>t.reset());class aB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function uB(t){se.setTimeout(()=>{throw t},0)}function MR(t,e){z0||lB(),W0||(z0(),W0=!0),$R.add(t,e)}var z0;function lB(){var t=se.Promise.resolve(void 0);z0=function(){t.then(cB)}}var W0=!1,$R=new oB;function cB(){for(var t;t=sB();){try{t.h.call(t.g)}catch(n){uB(n)}var e=FR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}W0=!1}function Rm(t,e){Rt.call(this),this.h=t||1,this.g=e||se,this.j=tn(this.lb,this),this.l=Date.now()}Yt(Rm,Rt);ee=Rm.prototype;ee.ca=!1;ee.R=null;ee.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qt(this,"tick"),this.ca&&(jb(this),this.start()))}};ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jb(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ee.M=function(){Rm.X.M.call(this),jb(this),delete this.g};function Bb(t,e,n){if(typeof t=="function")n&&(t=tn(t,n));else if(t&&typeof t.handleEvent=="function")t=tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function UR(t){t.g=Bb(()=>{t.g=null,t.i&&(t.i=!1,UR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hB extends Gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UR(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(t){Gs.call(this),this.h=t,this.g={}}Yt(Wc,Gs);var GI=[];function VR(t,e,n,r){Array.isArray(n)||(n&&(GI[0]=n.toString()),n=GI);for(var i=0;i<n.length;i++){var s=AR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jR(t){Lb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mb(e)},t),t.g={}}Wc.prototype.M=function(){Wc.X.M.call(this),jR(this)};Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pm(){this.g=!0}Pm.prototype.Aa=function(){this.g=!1};function fB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function dB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function za(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+mB(t,n)+(r?" "+r:"")})}function pB(t,e){t.info(function(){return"TIMEOUT: "+e})}Pm.prototype.info=function(){};function mB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Vb(n)}catch{return e}}var ha={},KI=null;function Dm(){return KI=KI||new Rt}ha.Pa="serverreachability";function BR(t){nn.call(this,ha.Pa,t)}Yt(BR,nn);function Qc(t){const e=Dm();Qt(e,new BR(e))}ha.STAT_EVENT="statevent";function qR(t,e){nn.call(this,ha.STAT_EVENT,t),this.stat=e}Yt(qR,nn);function cn(t){const e=Dm();Qt(e,new qR(e,t))}ha.Qa="timingevent";function zR(t,e){nn.call(this,ha.Qa,t),this.size=e}Yt(zR,nn);function Nh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var Lm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},WR={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qb(){}qb.prototype.h=null;function YI(t){return t.h||(t.h=t.i())}function QR(){}var Ah={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zb(){nn.call(this,"d")}Yt(zb,nn);function Wb(){nn.call(this,"c")}Yt(Wb,nn);var Q0;function Fm(){}Yt(Fm,qb);Fm.prototype.g=function(){return new XMLHttpRequest};Fm.prototype.i=function(){return{}};Q0=new Fm;function Rh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Wc(this),this.O=gB,t=V0?125:void 0,this.T=new Rm(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new HR}function HR(){this.i=null,this.g="",this.h=!1}var gB=45e3,H0={},mp={};ee=Rh.prototype;ee.setTimeout=function(t){this.O=t};function G0(t,e,n){t.K=1,t.v=$m(Ti(e)),t.s=n,t.P=!0,GR(t,null)}function GR(t,e){t.F=Date.now(),Ph(t),t.A=Ti(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),nP(n.i,"t",r),t.C=0,n=t.l.H,t.h=new HR,t.g=_P(t.l,n?e:null,!t.s),0<t.N&&(t.L=new hB(tn(t.La,t,t.g),t.N)),VR(t.S,t.g,"readystatechange",t.ib),e=t.H?OR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Qc(),fB(t.j,t.u,t.A,t.m,t.U,t.s)}ee.ib=function(t){t=t.target;const e=this.L;e&&pi(t)==3?e.l():this.La(t)};ee.La=function(t){try{if(t==this.g)e:{const c=pi(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||V0||this.g&&(this.h.h||this.g.fa()||eT(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Qc(3):Qc(2)),Mm(this);var n=this.g.aa();this.Y=n;t:if(KR(this)){var r=eT(this.g);t="";var i=r.length,s=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),sc(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,dB(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dp(a)){var l=a;break t}}l=null}if(n=l)za(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,K0(this,n);else{this.i=!1,this.o=3,cn(12),Eo(this),sc(this);break e}}this.P?(YR(this,c,o),V0&&this.i&&c==3&&(VR(this.S,this.T,"tick",this.hb),this.T.start())):(za(this.j,this.m,o,null),K0(this,o)),c==4&&Eo(this),this.i&&!this.I&&(c==4?wP(this.l,this):(this.i=!1,Ph(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),Eo(this),sc(this)}}}catch{}finally{}};function KR(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function YR(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=yB(t,n),i==mp){e==4&&(t.o=4,cn(14),r=!1),za(t.j,t.m,null,"[Incomplete Response]");break}else if(i==H0){t.o=4,cn(15),za(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else za(t.j,t.m,i,null),K0(t,i);KR(t)&&i!=mp&&i!=H0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xb(e),e.K=!0,cn(11))):(za(t.j,t.m,n,"[Invalid Chunked Response]"),Eo(t),sc(t))}ee.hb=function(){if(this.g){var t=pi(this.g),e=this.g.fa();this.C<e.length&&(Mm(this),YR(this,t,e),this.i&&t!=4&&Ph(this))}};function yB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?mp:(n=Number(e.substring(n,r)),isNaN(n)?H0:(r+=1,r+n>e.length?mp:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,Eo(this)};function Ph(t){t.V=Date.now()+t.O,JR(t,t.O)}function JR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Nh(tn(t.gb,t),e)}function Mm(t){t.B&&(se.clearTimeout(t.B),t.B=null)}ee.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(pB(this.j,this.A),this.K!=2&&(Qc(),cn(17)),Eo(this),this.o=2,sc(this)):JR(this,this.V-t)};function sc(t){t.l.G==0||t.I||wP(t.l,t)}function Eo(t){Mm(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,jb(t.T),jR(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function K0(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Y0(n.h,t))){if(!t.J&&Y0(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)vp(n),jm(n);else break e;Jb(n),cn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Nh(tn(n.cb,n),6e3));if(1>=sP(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else So(n,11)}else if((t.J||n.g==t)&&vp(n),!dp(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.T=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.I=l[1],n.ka=l[2];const c=l[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=l[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Qb(s,s.h),s.h=null))}if(r.D){const m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Ge(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=SP(r,r.H?r.ka:null,r.V),o.J){oP(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Mm(a),Ph(a)),r.g=o}else yP(r);0<n.i.length&&Bm(n)}else l[0]!="stop"&&l[0]!="close"||So(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?So(n,7):Yb(n):l[0]!="noop"&&n.l&&n.l.wa(l),n.A=0)}}Qc(4)}catch{}}function vB(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function wB(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function XR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=wB(t),r=vB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ZR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ao(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ao){this.h=e!==void 0?e:t.h,gp(this,t.j),this.s=t.s,this.g=t.g,yp(this,t.m),this.l=t.l,e=t.i;var n=new Hc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),JI(this,n),this.o=t.o}else t&&(n=String(t).match(ZR))?(this.h=!!e,gp(this,n[1]||"",!0),this.s=Ul(n[2]||""),this.g=Ul(n[3]||"",!0),yp(this,n[4]),this.l=Ul(n[5]||"",!0),JI(this,n[6]||"",!0),this.o=Ul(n[7]||"")):(this.h=!!e,this.i=new Hc(null,this.h))}Ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vl(e,XI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vl(e,XI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Vl(n,n.charAt(0)=="/"?_B:SB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vl(n,TB)),t.join("")};function Ti(t){return new Ao(t)}function gp(t,e,n){t.j=n?Ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function JI(t,e,n){e instanceof Hc?(t.i=e,kB(t.i,t.h)):(n||(e=Vl(e,IB)),t.i=new Hc(e,t.h))}function Ge(t,e,n){t.i.set(e,n)}function $m(t){return Ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,EB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function EB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XI=/[#\/\?@]/g,SB=/[#\?:]/g,_B=/[#\?]/g,IB=/[#\?@]/g,TB=/#/g;function Hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ks(t){t.g||(t.g=new Map,t.h=0,t.i&&bB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Hc.prototype;ee.add=function(t,e){Ks(this),this.i=null,t=Ku(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function eP(t,e){Ks(t),e=Ku(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tP(t,e){return Ks(t),e=Ku(t,e),t.g.has(e)}ee.forEach=function(t,e){Ks(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.oa=function(){Ks(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.W=function(t){Ks(this);let e=[];if(typeof t=="string")tP(this,t)&&(e=e.concat(this.g.get(Ku(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return Ks(this),this.i=null,t=Ku(this,t),tP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function nP(t,e,n){eP(t,e),0<n.length&&(t.i=null,t.g.set(Ku(t,e),Pb(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ku(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kB(t,e){e&&!t.j&&(Ks(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eP(this,r),nP(this,i,n))},t)),t.j=e}var CB=class{constructor(e,n){this.h=e,this.g=n}};function rP(t){this.l=t||xB,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ga&&se.g.Ga()&&se.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xB=10;function iP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sP(t){return t.h?1:t.g?t.g.size:0}function Y0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qb(t,e){t.g?t.g.add(e):t.h=e}function oP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rP.prototype.cancel=function(){if(this.i=aP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function aP(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Pb(t.i)}function Hb(){}Hb.prototype.stringify=function(t){return se.JSON.stringify(t,void 0)};Hb.prototype.parse=function(t){return se.JSON.parse(t,void 0)};function OB(){this.g=new Hb}function NB(t,e,n){const r=n||"";try{XR(t,function(i,s){let o=i;xh(i)&&(o=Vb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function AB(t,e){const n=new Pm;if(se.Image){const r=new Image;r.onload=bf(Sf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bf(Sf,n,r,"TestLoadImage: error",!1,e),r.onabort=bf(Sf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bf(Sf,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Sf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dh(t){this.l=t.ac||null,this.j=t.jb||!1}Yt(Dh,qb);Dh.prototype.g=function(){return new Um(this.l,this.j)};Dh.prototype.i=function(t){return function(){return t}}({});function Um(t,e){Rt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Gb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(Um,Rt);var Gb=0;ee=Um.prototype;ee.open=function(t,e){if(this.readyState!=Gb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gc(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||se).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lh(this)),this.readyState=Gb};ee.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uP(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function uP(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ee.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lh(this):Gc(this),this.readyState==3&&uP(this)}};ee.Va=function(t){this.g&&(this.response=this.responseText=t,Lh(this))};ee.Ua=function(t){this.g&&(this.response=t,Lh(this))};ee.ga=function(){this.g&&Lh(this)};function Lh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gc(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Um.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RB=se.JSON.parse;function at(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lP,this.K=this.L=!1}Yt(at,Rt);var lP="",PB=/^https?$/i,DB=["POST","PUT"];ee=at.prototype;ee.Ka=function(t){this.L=t};ee.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Q0.g(),this.C=this.u?YI(this.u):YI(Q0),this.g.onreadystatechange=tn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){ZI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=se.FormData&&t instanceof se.FormData,!(0<=TR(DB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fP(this),0<this.B&&((this.K=LB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.qa,this)):this.A=Bb(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ZI(this,s)}};function LB(t){return bu&&X8()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.qa=function(){typeof Rb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))};function ZI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,cP(t),Vm(t)}function cP(t){t.D||(t.D=!0,Qt(t,"complete"),Qt(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),Vm(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vm(this,!0)),at.X.M.call(this)};ee.Ha=function(){this.s||(this.F||this.v||this.l?hP(this):this.fb())};ee.fb=function(){hP(this)};function hP(t){if(t.h&&typeof Rb<"u"&&(!t.C[1]||pi(t)!=4||t.aa()!=2)){if(t.v&&pi(t)==4)Bb(t.Ha,0,t);else if(Qt(t,"readystatechange"),pi(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(ZR)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!PB.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var o=2<pi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",cP(t)}}finally{Vm(t)}}}}function Vm(t,e){if(t.g){fP(t);const n=t.g,r=t.C[0]?fp:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function fP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function pi(t){return t.g?t.g.readyState:0}ee.aa=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}};ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RB(e)}};function eT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case lP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Ea=function(){return this.m};ee.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function dP(t){let e="";return Lb(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Kb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ge(t,e,n))}function vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pP(t){this.Ca=0,this.i=[],this.j=new Pm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=vl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=vl("baseRetryDelayMs",5e3,t),this.bb=vl("retryDelaySeedMs",1e4,t),this.$a=vl("forwardChannelMaxRetries",2,t),this.ta=vl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new rP(t&&t.concurrentRequestLimit),this.Fa=new OB,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ee=pP.prototype;ee.ma=8;ee.G=1;function Yb(t){if(mP(t),t.G==3){var e=t.U++,n=Ti(t.F);Ge(n,"SID",t.I),Ge(n,"RID",e),Ge(n,"TYPE","terminate"),Fh(t,n),e=new Rh(t,t.j,e,void 0),e.K=2,e.v=$m(Ti(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=_P(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ph(e)}EP(t)}function jm(t){t.g&&(Xb(t),t.g.cancel(),t.g=null)}function mP(t){jm(t),t.u&&(se.clearTimeout(t.u),t.u=null),vp(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Bm(t){iP(t.h)||t.m||(t.m=!0,MR(t.Ja,t),t.C=0)}function FB(t,e){return sP(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Nh(tn(t.Ja,t,e),bP(t,t.C)),t.C++,!0)}ee.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Rh(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=OR(s),NR(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gP(this,i,e),n=Ti(this.F),Ge(n,"RID",t),Ge(n,"CVER",22),this.D&&Ge(n,"X-HTTP-Session-Id",this.D),Fh(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(dP(s)))+"&"+e:this.o&&Kb(n,this.o,s)),Qb(this.h,i),this.Ya&&Ge(n,"TYPE","init"),this.O?(Ge(n,"$req",e),Ge(n,"SID","null"),i.Z=!0,G0(i,n,null)):G0(i,n,e),this.G=2}}else this.G==3&&(t?tT(this,t):this.i.length==0||iP(this.h)||tT(this))};function tT(t,e){var n;e?n=e.m:n=t.U++;const r=Ti(t.F);Ge(r,"SID",t.I),Ge(r,"RID",n),Ge(r,"AID",t.T),Fh(t,r),t.o&&t.s&&Kb(r,t.o,t.s),n=new Rh(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=gP(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Qb(t.h,n),G0(n,r,e)}function Fh(t,e){t.ia&&Lb(t.ia,function(n,r){Ge(e,r,n)}),t.l&&XR({},function(n,r){Ge(e,r,n)})}function gP(t,e,n){n=Math.min(t.i.length,n);var r=t.l?tn(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{NB(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function yP(t){t.g||t.u||(t.Z=1,MR(t.Ia,t),t.A=0)}function Jb(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Nh(tn(t.Ia,t),bP(t,t.A)),t.A++,!0)}ee.Ia=function(){if(this.u=null,vP(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Nh(tn(this.eb,this),t)}};ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,cn(10),jm(this),vP(this))};function Xb(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function vP(t){t.g=new Rh(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ti(t.sa);Ge(e,"RID","rpc"),Ge(e,"SID",t.I),Ge(e,"CI",t.L?"0":"1"),Ge(e,"AID",t.T),Ge(e,"TYPE","xmlhttp"),Fh(t,e),t.o&&t.s&&Kb(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=$m(Ti(e)),n.s=null,n.P=!0,GR(n,t)}ee.cb=function(){this.v!=null&&(this.v=null,jm(this),Jb(this),cn(19))};function vp(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function wP(t,e){var n=null;if(t.g==e){vp(t),Xb(t),t.g=null;var r=2}else if(Y0(t.h,e))n=e.D,oP(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Dm(),Qt(r,new zR(r,n)),Bm(t)}else yP(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&FB(t,e)||r==2&&Jb(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:So(t,5);break;case 4:So(t,10);break;case 3:So(t,6);break;default:So(t,2)}}}function bP(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function So(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=tn(t.kb,t);n||(n=new Ao("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||gp(n,"https"),$m(n)),AB(n.toString(),r)}else cn(2);t.G=0,t.l&&t.l.va(e),EP(t),mP(t)}ee.kb=function(t){t?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function EP(t){if(t.G=0,t.la=[],t.l){const e=aP(t.h);(e.length!=0||t.i.length!=0)&&(zI(t.la,e),zI(t.la,t.i),t.h.i.length=0,Pb(t.i),t.i.length=0),t.l.ua()}}function SP(t,e,n){var r=n instanceof Ao?Ti(n):new Ao(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),yp(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ao(null,void 0);r&&gp(s,r),e&&(s.g=e),i&&yp(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ge(r,n,e),Ge(r,"VER",t.ma),Fh(t,r),r}function _P(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new at(new Dh({jb:!0})):new at(t.ra),e.Ka(t.H),e}function IP(){}ee=IP.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Ra=function(){};function wp(){if(bu&&!(10<=Number(Z8)))throw Error("Environmental error: no available transport.")}wp.prototype.g=function(t,e){return new Vn(t,e)};function Vn(t,e){Rt.call(this),this.g=new pP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!dp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dp(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Yu(this)}Yt(Vn,Rt);Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;cn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=SP(t,null,t.V),Bm(t)};Vn.prototype.close=function(){Yb(this.g)};Vn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vb(t),t=n);e.i.push(new CB(e.ab++,t)),e.G==3&&Bm(e)};Vn.prototype.M=function(){this.g.l=null,delete this.j,Yb(this.g),delete this.g,Vn.X.M.call(this)};function TP(t){zb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Yt(TP,zb);function kP(){Wb.call(this),this.status=1}Yt(kP,Wb);function Yu(t){this.g=t}Yt(Yu,IP);Yu.prototype.xa=function(){Qt(this.g,"a")};Yu.prototype.wa=function(t){Qt(this.g,new TP(t))};Yu.prototype.va=function(t){Qt(this.g,new kP)};Yu.prototype.ua=function(){Qt(this.g,"b")};wp.prototype.createWebChannel=wp.prototype.g;Vn.prototype.send=Vn.prototype.u;Vn.prototype.open=Vn.prototype.m;Vn.prototype.close=Vn.prototype.close;Lm.NO_ERROR=0;Lm.TIMEOUT=8;Lm.HTTP_ERROR=6;WR.COMPLETE="complete";QR.EventType=Ah;Ah.OPEN="a";Ah.CLOSE="b";Ah.ERROR="c";Ah.MESSAGE="d";Rt.prototype.listen=Rt.prototype.N;at.prototype.listenOnce=at.prototype.O;at.prototype.getLastError=at.prototype.Oa;at.prototype.getLastErrorCode=at.prototype.Ea;at.prototype.getStatus=at.prototype.aa;at.prototype.getResponseJson=at.prototype.Sa;at.prototype.getResponseText=at.prototype.fa;at.prototype.send=at.prototype.da;at.prototype.setWithCredentials=at.prototype.Ka;var MB=function(){return new wp},$B=function(){return Dm()},Hy=Lm,UB=WR,VB=ha,nT={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},jB=Dh,_f=QR,BB=at;const rT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new gm("@firebase/firestore");function J0(){return xs.logLevel}function qB(t){xs.setLogLevel(t)}function $(t,...e){if(xs.logLevel<=we.DEBUG){const n=e.map(Zb);xs.debug(`Firestore (${Ju}): ${t}`,...n)}}function ft(t,...e){if(xs.logLevel<=we.ERROR){const n=e.map(Zb);xs.error(`Firestore (${Ju}): ${t}`,...n)}}function Eu(t,...e){if(xs.logLevel<=we.WARN){const n=e.map(Zb);xs.warn(`Firestore (${Ju}): ${t}`,...n)}}function Zb(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t="Unexpected state"){const e=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: `+t;throw ft(e),new Error(e)}function te(t,e){t||H()}function zB(t,e){t||H()}function W(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let L=class extends fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CP=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class WB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}let QB=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},HB=class{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new CP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new xt(e)}},GB=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(te(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},KB=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new GB(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},YB=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},JB=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.A=n.token,new YB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xP=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=XB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ue(t,e){return t<e?-1:t>e?1:0}function Su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function OP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Ye(0,0))}static max(){return new ne(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Kc{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const ZB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Kc{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return ZB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(ye.fromString(e))}static fromName(e){return new z(ye.fromString(e).popFirst(5))}static empty(){return new z(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function X0(t){return t.fields.find(e=>e.kind===2)}function oo(t){return t.fields.filter(e=>e.kind!==2)}NP.UNKNOWN_ID=-1;class eq{constructor(e,n){this.fieldPath=e,this.kind=n}}class bp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bp(0,jn.min())}}function AP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new jn(i,z.empty(),e)}function RP(t){return new jn(t.readTime,t.key,-1)}class jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jn(ne.min(),z.empty(),-1)}static max(){return new jn(ne.max(),z.empty(),-1)}}function eE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==PP)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Nt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new oc(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=tE(r.target.error);this.P.reject(new oc(e,i))}}static open(e,n,r,i){try{return new qm(n,e.transaction(i,r))}catch(s){throw new oc(n,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||($("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nq(n)}}class gr{constructor(e,n,r){this.name=e,this.version=n,this.S=r,gr.D(nt())===12.2&&ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $("SimpleDb","Removing database:",e),co(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Fc())return!1;if(gr.N())return!0;const e=nt(),n=gr.D(e),r=0<n&&n<10,i=gr.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof Is<"u"&&((e=Is.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||($("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new oc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new L(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new oc(e,o))},i.onupgradeneeded=s=>{$("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.$(o,i.transaction,s.oldVersion,this.version).next(()=>{$("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.F(e);const a=qm.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.V(),l)).catch(l=>(a.abort(l),O.reject(l))).toPromise();return u.catch(()=>{}),await a.v,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if($("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tq{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return co(this.q.delete())}}class oc extends L{constructor(e,n){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Js(t){return t.name==="IndexedDbTransactionError"}class nq{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?($("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),co(r)}add(e){return $("SimpleDb","ADD",this.store.name,e,e),co(this.store.add(e))}get(e){return co(this.store.get(e)).next(n=>(n===void 0&&(n=null),$("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $("SimpleDb","DELETE",this.store.name,e),co(this.store.delete(e))}count(){return $("SimpleDb","COUNT",this.store.name),co(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new O((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){$("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new O((r,i)=>{n.onerror=s=>{const o=tE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new O((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new tq(a),l=n(a.primaryKey,a.value,u);if(l instanceof O){const c=l.catch(h=>(u.done(),O.reject(h)));r.push(c)}u.isDone?i():u.G===null?a.continue():a.continue(u.G)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function co(t){return new O((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=tE(r.target.error);n(i)}})}let iT=!1;function tE(t){const e=gr.D(nt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iT||(iT=!0,setTimeout(()=>{throw r},0)),r}}return t}class rq{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){$("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{$("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){Js(n)?$("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ys(n)}await this.nt(6e4)})}}class iq{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return O.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return $("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>($("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=RP(s);eE(o,r)>0&&(r=o)}),new jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}En.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Os{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Os("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Os&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){return t==null}function Yc(t){return t===0&&1/t==-1/0}function FP(t){return typeof t=="number"&&Number.isInteger(t)&&!Yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new St(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const aq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(te(!!t),typeof t=="string"){let e=0;const n=aq.exec(t);if(te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function MP(t){const e=t.mapValue.fields.__previous_value__;return nE(e)?MP(e):e}function Jc(t){const e=Ns(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ed={nullValue:"NULL_VALUE"};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nE(t)?4:$P(t)?9007199254740991:10:H()}function Xr(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ns(r.timestampValue),o=Ns(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Bo(r.bytesValue).isEqual(Bo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=st(r.doubleValue),o=st(i.doubleValue);return s===o?Yc(s)===Yc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(sT(s)!==sT(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Xr(s[a],o[a])))return!1;return!0}(t,e);default:return H()}}function Xc(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function As(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=st(i.integerValue||i.doubleValue),a=st(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return oT(t.timestampValue,e.timestampValue);case 4:return oT(Jc(t),Jc(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Bo(i),a=Bo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ue(o[u],a[u]);if(l!==0)return l}return ue(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ue(st(i.latitude),st(s.latitude));return o!==0?o:ue(st(i.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=As(o[u],a[u]);if(l)return l}return ue(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===os.mapValue&&s===os.mapValue)return 0;if(i===os.mapValue)return 1;if(s===os.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const h=ue(a[c],l[c]);if(h!==0)return h;const f=As(o[a[c]],u[l[c]]);if(f!==0)return f}return ue(a.length,l.length)}(t.mapValue,e.mapValue);default:throw H()}}function oT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Ns(t),r=Ns(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function _u(t){return Z0(t)}function Z0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ns(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Z0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Z0(r.fields[a])}`;return s+"}"}(t.mapValue):H();var e,n}function zo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ew(t){return!!t&&"integerValue"in t}function Zc(t){return!!t&&"arrayValue"in t}function aT(t){return!!t&&"nullValue"in t}function uT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function td(t){return!!t&&"mapValue"in t}function ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ac(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $P(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function uq(t){return"nullValue"in t?ed:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zo(Os.empty(),z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:H()}function lq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zo(Os.empty(),z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?os:H()}function lT(t,e){const n=As(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function cT(t,e){const n=As(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.position=e,this.inclusive=n}}function hT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=As(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{}class fe extends UP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cq(e,n,r):n==="array-contains"?new dq(e,r):n==="in"?new WP(e,r):n==="not-in"?new pq(e,r):n==="array-contains-any"?new mq(e,r):new fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hq(e,r):new fq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(As(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Re extends UP{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Re(e,n)}matches(e){return Iu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Iu(t){return t.op==="and"}function tw(t){return t.op==="or"}function rE(t){return VP(t)&&Iu(t)}function VP(t){for(const e of t.filters)if(e instanceof Re)return!1;return!0}function nw(t){if(t instanceof fe)return t.field.canonicalString()+t.op.toString()+_u(t.value);if(rE(t))return t.filters.map(e=>nw(e)).join(",");{const e=t.filters.map(n=>nw(n)).join(",");return`${t.op}(${e})`}}function jP(t,e){return t instanceof fe?function(n,r){return r instanceof fe&&n.op===r.op&&n.field.isEqual(r.field)&&Xr(n.value,r.value)}(t,e):t instanceof Re?function(n,r){return r instanceof Re&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&jP(s,r.filters[o]),!0):!1}(t,e):void H()}function BP(t,e){const n=t.filters.concat(e);return Re.create(n,t.op)}function qP(t){return t instanceof fe?function(e){return`${e.field.canonicalString()} ${e.op} ${_u(e.value)}`}(t):t instanceof Re?function(e){return e.op.toString()+" {"+e.getFilters().map(qP).join(" ,")+"}"}(t):"Filter"}class cq extends fe{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class hq extends fe{constructor(e,n){super(e,"in",n),this.keys=zP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fq extends fe{constructor(e,n){super(e,"not-in",n),this.keys=zP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class dq extends fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zc(n)&&Xc(n.arrayValue,this.value)}}class WP extends fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class pq extends fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class mq extends fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function gq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=s??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Bt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dT(this.data.getIterator())}getIteratorFrom(e){return new dT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class dT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ea(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Me(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ac(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(ac(this.value))}}function QP(t){const e=[];return fa(t.fields,(n,r)=>{const i=new dt([n]);if(td(r)){const s=QP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,ne.min(),ne.min(),ne.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Be(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new Be(e,2,n,ne.min(),ne.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Be(e,3,n,ne.min(),ne.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yq=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}};function rw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yq(t,e,n,r,i,s,o)}function Wo(t){const e=W(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_u(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_u(r)).join(",")),e.ft=n}return e.ft}function $h(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function Ep(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sp(t,e){return t.filters.filter(n=>n instanceof fe&&n.field.isEqual(e))}function pT(t,e,n){let r=ed,i=!0;for(const s of Sp(t,e)){let o=ed,a=!0;switch(s.op){case"<":case"<=":o=uq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ed}lT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];lT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function mT(t,e,n){let r=os,i=!0;for(const s of Sp(t,e)){let o=os,a=!0;switch(s.op){case">=":case">":o=lq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=os}cT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];cT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}};function HP(t,e,n,r,i,s,o,a){return new Ri(t,e,n,r,i,s,o,a)}function Xu(t){return new Ri(t)}function gT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function sE(t){return t.collectionGroup!==null}function Ro(t){const e=W(t);if(e.dt===null){e.dt=[];const n=zm(e),r=iE(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new ru(n)),e.dt.push(new ru(dt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ru(dt.keyField(),s))}}}return e.dt}function xn(t){const e=W(t);if(!e._t)if(e.limitType==="F")e._t=rw(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ro(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ru(s.field,o))}const r=e.endAt?new Rs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Rs(e.startAt.position,e.startAt.inclusive):null;e._t=rw(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function iw(t,e){e.getFirstInequalityField(),zm(t);const n=t.filters.concat([e]);return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _p(t,e,n){return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uh(t,e){return $h(xn(t),xn(e))&&t.limitType===e.limitType}function GP(t){return`${Wo(xn(t))}|lt:${t.limitType}`}function sw(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>qP(r)).join(", ")}]`),Mh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_u(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_u(r)).join(",")),`Target(${n})`}(xn(t))}; limitType=${t.limitType})`}function oE(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ro(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=hT(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ro(n),r)||n.endAt&&!function(i,s,o){const a=hT(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ro(n),r))}(t,e)}function KP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YP(t){return(e,n)=>{let r=!1;for(const i of Ro(t)){const s=vq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vq(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?As(a,u):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function XP(t){return{integerValue:""+t}}function ZP(t,e){return FP(e)?XP(e):JP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this._=void 0}}function wq(t,e,n){return t instanceof Tu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qo?tD(t,e):t instanceof Ho?nD(t,e):function(r,i){const s=eD(r,i),o=yT(s)+yT(r.gt);return ew(s)&&ew(r.gt)?XP(o):JP(r.yt,o)}(t,e)}function bq(t,e,n){return t instanceof Qo?tD(t,e):t instanceof Ho?nD(t,e):n}function eD(t,e){return t instanceof ku?ew(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Tu extends Wm{}class Qo extends Wm{constructor(e){super(),this.elements=e}}function tD(t,e){const n=rD(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends Wm{constructor(e){super(),this.elements=e}}function nD(t,e){let n=rD(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class ku extends Wm{constructor(e,n){super(),this.yt=e,this.gt=n}}function yT(t){return st(t.integerValue||t.doubleValue)}function rD(t){return Zc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.field=e,this.transform=n}}function Eq(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Qo&&r instanceof Qo||n instanceof Ho&&r instanceof Ho?Su(n.elements,r.elements,Xr):n instanceof ku&&r instanceof ku?Xr(n.gt,r.gt):n instanceof Tu&&r instanceof Tu}(t.transform,e.transform)}class Sq{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function iD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new el(t.key,Ke.none()):new Zu(t.key,t.data,Ke.none());{const n=t.data,r=qt.empty();let i=new Me(dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pi(t.key,r,new Sn(i.toArray()),Ke.none())}}function _q(t,e,n){t instanceof Zu?function(r,i,s){const o=r.value.clone(),a=wT(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(r,i,s){if(!nd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=wT(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(sD(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function uc(t,e,n,r){return t instanceof Zu?function(i,s,o,a){if(!nd(i.precondition,s))return o;const u=i.value.clone(),l=bT(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,s,o,a){if(!nd(i.precondition,s))return o;const u=bT(i.fieldTransforms,a,s),l=s.data;return l.setAll(sD(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return nd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Iq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eD(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function vT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Su(n,r,(i,s)=>Eq(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends Qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends Qm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wT(t,e,n){const r=new Map;te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bq(o,a,n[i]))}return r}function bT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wq(s,o,e))}return r}class el extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aE extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,ge;function oD(t){switch(t){default:return H();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function aD(t){if(t===void 0)return ft("GRPC error has no .code"),A.UNKNOWN;switch(t){case gt.OK:return A.OK;case gt.CANCELLED:return A.CANCELLED;case gt.UNKNOWN:return A.UNKNOWN;case gt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case gt.INTERNAL:return A.INTERNAL;case gt.UNAVAILABLE:return A.UNAVAILABLE;case gt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case gt.NOT_FOUND:return A.NOT_FOUND;case gt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case gt.ABORTED:return A.ABORTED;case gt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case gt.DATA_LOSS:return A.DATA_LOSS;default:return H()}}(ge=gt||(gt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=new ut(z.comparator);function _n(){return kq}const uD=new ut(z.comparator);function jl(...t){let e=uD;for(const n of t)e=e.insert(n.key,n);return e}function lD(t){let e=uD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return lc()}function cD(){return lc()}function lc(){return new Xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Cq=new ut(z.comparator),xq=new Me(z.comparator);function le(...t){let e=xq;for(const n of t)e=e.add(n);return e}const Oq=new Me(ue);function Hm(){return Oq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(ne.min(),i,Hm(),_n(),le())}}class Bh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bh(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class hD{constructor(e,n){this.targetId=e,this.Et=n}}class fD{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ET{constructor(){this.At=0,this.Rt=_T(),this.bt=St.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=le(),n=le(),r=le();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Bh(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=_T()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Nq{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=_n(),this.qt=ST(),this.Ut=new Me(ue)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Ep(s))if(r===0){const o=new z(s.path);this.Qt(n,o,Be.newNoDocument(o,ne.min()))}else te(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ep(a.target)){const u=new z(a.target.path);this.Lt.get(u)!==null||this.te(o,u)||this.Qt(o,u,Be.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=le();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Yt(u);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new jh(e,n,this.Ut,this.Lt,r);return this.Lt=_n(),this.qt=ST(),this.Ut=new Me(ue),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new ET,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Me(ue),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ET),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function ST(){return new ut(z.comparator)}function _T(){return new ut(z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Rq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Pq=(()=>({and:"AND",or:"OR"}))();class Dq{constructor(e,n){this.databaseId=e,this.wt=n}}function Cu(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dD(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Lq(t,e){return Cu(t,e.toTimestamp())}function mt(t){return te(!!t),ne.fromTimestamp(function(e){const n=Ns(e);return new Ye(n.seconds,n.nanos)}(t))}function uE(t,e){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function pD(t){const e=ye.fromString(t);return te(_D(e)),e}function eh(t,e){return uE(t.databaseId,e.path)}function Qr(t,e){const n=pD(e);if(n.get(1)!==t.databaseId.projectId)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(gD(n))}function ow(t,e){return uE(t.databaseId,e)}function mD(t){const e=pD(t);return e.length===4?ye.emptyPath():gD(e)}function th(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gD(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IT(t,e,n){return{name:eh(t,e),fields:n.value.mapValue.fields}}function yD(t,e,n){const r=Qr(t,e.name),i=mt(e.updateTime),s=e.createTime?mt(e.createTime):ne.min(),o=new qt({mapValue:{fields:e.fields}}),a=Be.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Fq(t,e){return"found"in e?function(n,r){te(!!r.found),r.found.name,r.found.updateTime;const i=Qr(n,r.found.name),s=mt(r.found.updateTime),o=r.found.createTime?mt(r.found.createTime):ne.min(),a=new qt({mapValue:{fields:r.found.fields}});return Be.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){te(!!r.missing),te(!!r.readTime);const i=Qr(n,r.missing),s=mt(r.readTime);return Be.newNoDocument(i,s)}(t,e):H()}function Mq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.wt?(te(l===void 0||typeof l=="string"),St.fromBase64String(l||"")):(te(l===void 0||l instanceof Uint8Array),St.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=u.code===void 0?A.UNKNOWN:aD(u.code);return new L(l,u.message||"")}(o);n=new fD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qr(t,r.document.name),s=mt(r.document.updateTime),o=r.document.createTime?mt(r.document.createTime):ne.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=Be.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new rd(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qr(t,r.document),s=r.readTime?mt(r.readTime):ne.min(),o=Be.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qr(t,r.document),s=r.removedTargetIds||[];n=new rd([],s,i,null)}else{if(!("filter"in e))return H();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new Tq(i),o=r.targetId;n=new hD(o,s)}}return n}function nh(t,e){let n;if(e instanceof Zu)n={update:IT(t,e.key,e.value)};else if(e instanceof el)n={delete:eh(t,e.key)};else if(e instanceof Pi)n={update:IT(t,e.key,e.data),updateMask:qq(e.fieldMask)};else{if(!(e instanceof aE))return H();n={verify:eh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Tu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ho)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ku)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Lq(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(t,e.precondition)),n}function aw(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ke.updateTime(mt(i.updateTime)):i.exists!==void 0?Ke.exists(i.exists):Ke.none()}(e.currentDocument):Ke.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)te(o.setToServerValue==="REQUEST_TIME"),a=new Tu;else if("appendMissingElements"in o){const l=o.appendMissingElements.values||[];a=new Qo(l)}else if("removeAllFromArray"in o){const l=o.removeAllFromArray.values||[];a=new Ho(l)}else"increment"in o?a=new ku(s,o.increment):H();const u=dt.fromServerFormat(o.fieldPath);return new Vh(u,a)}(t,i)):[];if(e.update){e.update.name;const i=Qr(t,e.update.name),s=new qt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const u=a.fieldPaths||[];return new Sn(u.map(l=>dt.fromServerFormat(l)))}(e.updateMask);return new Pi(i,s,o,n,r)}return new Zu(i,s,n,r)}if(e.delete){const i=Qr(t,e.delete);return new el(i,n)}if(e.verify){const i=Qr(t,e.verify);return new aE(i,n)}return H()}function $q(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?mt(r.updateTime):mt(i);return s.isEqual(ne.min())&&(s=mt(i)),new Sq(s,r.transformResults||[])}(n,e))):[]}function vD(t,e){return{documents:[ow(t,e.path)]}}function wD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ow(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ow(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return SD(Re.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:Ca(c.field),direction:Vq(c.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(u,l){return u.wt||Mh(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function bD(t){let e=mD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){te(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=ED(c);return h instanceof Re&&rE(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new ru(xa(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Mh(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(c){const h=!!c.before,f=c.values||[];return new Rs(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const h=!c.before,f=c.values||[];return new Rs(f,h)}(n.endAt)),HP(e,i,o,s,a,"F",u,l)}function Uq(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function ED(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=xa(e.unaryFilter.field);return fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=xa(e.unaryFilter.field);return fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xa(e.unaryFilter.field);return fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xa(e.unaryFilter.field);return fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(e){return fe.create(xa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Re.create(e.compositeFilter.filters.map(n=>ED(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(t):H()}function Vq(t){return Aq[t]}function jq(t){return Rq[t]}function Bq(t){return Pq[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function xa(t){return dt.fromServerFormat(t.fieldPath)}function SD(t){return t instanceof fe?function(e){if(e.op==="=="){if(uT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NAN"}};if(aT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(uT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NAN"}};if(aT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(e.field),op:jq(e.op),value:e.value}}}(t):t instanceof Re?function(e){const n=e.getFilters().map(r=>SD(r));return n.length===1?n[0]:{compositeFilter:{op:Bq(e.op),filters:n}}}(t):H()}function qq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _D(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TT(e)),e=zq(t.get(n),e);return TT(e)}function zq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function TT(t){return t+""}function Ur(t){const e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),ye.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&H(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:H()}s=o+2}return new ye(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e){return[t,dn(e)]}function ID(t,e,n){return[t,dn(e),n]}const Wq={},Qq=["prefixPath","collectionGroup","readTime","documentId"],Hq=["prefixPath","collectionGroup","documentId"],Gq=["collectionGroup","readTime","prefixPath","documentId"],Kq=["canonicalId","targetId"],Yq=["targetId","path"],Jq=["path","targetId"],Xq=["collectionId","parent"],Zq=["indexId","uid"],e9=["uid","sequenceNumber"],t9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],n9=["indexId","uid","orderedDocumentKey"],r9=["userId","collectionPath","documentId"],i9=["userId","collectionPath","largestBatchId"],s9=["userId","collectionGroup","largestBatchId"],TD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],o9=[...TD,"documentOverlays"],kD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CD=kD,a9=[...CD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends DP{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function Dt(t,e){const n=W(t);return gr.M(n.se,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_q(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=iD(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(n,r)=>vT(n,r))&&Su(this.baseMutations,e.baseMutations,(n,r)=>vT(n,r))}}class cE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){te(e.mutations.length===r.length);let i=Cq;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=St.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.ie=e}}function u9(t,e){let n;if(e.document)n=yD(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=z.fromSegments(e.noDocument.path),i=Ko(e.noDocument.readTime);n=Be.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return H();{const r=z.fromSegments(e.unknownDocument.path),i=Ko(e.unknownDocument.version);n=Be.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Ye(r[0],r[1]);return ne.fromTimestamp(i)}(e.readTime)),n}function CT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ip(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:eh(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Cu(i,s.version.toTimestamp()),createTime:Cu(i,s.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Go(e.version)};else{if(!e.isUnknownDocument())return H();r.unknownDocument={path:n.path.toArray(),version:Go(e.version)}}return r}function Ip(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Go(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ko(t){const e=new Ye(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function ho(t,e){const n=(e.baseMutations||[]).map(s=>aw(t.ie,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>aw(t.ie,s)),i=Ye.fromMillis(e.localWriteTimeMs);return new lE(e.batchId,i,n,r)}function Bl(t){const e=Ko(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ko(t.lastLimboFreeSnapshotVersion):ne.min();let r;var i;return t.query.documents!==void 0?(te((i=t.query).documents.length===1),r=xn(Xu(mD(i.documents[0])))):r=function(s){return xn(bD(s))}(t.query),new vs(r,t.targetId,0,t.lastListenSequenceNumber,e,n,St.fromBase64String(t.resumeToken))}function OD(t,e){const n=Go(e.snapshotVersion),r=Go(e.lastLimboFreeSnapshotVersion);let i;i=Ep(e.target)?vD(t.ie,e.target):wD(t.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function fE(t){const e=bD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}function Gy(t,e){return new hE(e.largestBatchId,aw(t.ie,e.overlayMutation))}function xT(t,e){const n=e.path.lastSegment();return[t,dn(e.path.popLast()),n]}function OT(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Go(r.readTime),documentKey:dn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{getBundleMetadata(e,n){return NT(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ko(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return NT(e).put({bundleId:(r=n).id,createTime:Go(mt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return AT(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:fE(i.bundledQuery),readTime:Ko(i.readTime)};var i})}saveNamedQuery(e,n){return AT(e).put(function(r){return{name:r.name,readTime:Go(mt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function NT(t){return Dt(t,"bundles")}function AT(t){return Dt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){const r=n.uid||"";return new Gm(e,r)}getOverlay(e,n){return wl(e).get(xT(this.userId,n)).next(r=>r?Gy(this.yt,r):null)}getOverlays(e,n){const r=$r();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new hE(n,o);i.push(this.oe(e,a))}),O.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(dn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(wl(e).Y("collectionPathOverlayIndex",a))}),O.waitFor(s)}getOverlaysForCollection(e,n,r){const i=$r(),s=dn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return wl(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=Gy(this.yt,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=$r();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return wl(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,l,c)=>{const h=Gy(this.yt,l);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):c.done()}).next(()=>s)}oe(e,n){return wl(e).put(function(r,i,s){const[o,a,u]=xT(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:nh(r.ie,s.mutation)}}(this.yt,this.userId,n))}}function wl(t){return Dt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),Yc(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),typeof r=="string"?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(Bo(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?$P(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):H()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),z.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}fo.Ie=new fo;function c9(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function RT(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=c9(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class h9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ee(r.value),r=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.be(r.value),r=n.next();this.Pe()}ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=n.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=n.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const n=this.De(e),r=RT(n);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}xe(e){const n=this.De(e),r=RT(n);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ee(e){const n=255&e;n===0?(this.ke(0),this.ke(255)):n===255?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;n===0?(this.Me(0),this.Me(255)):n===255?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class f9{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class d9{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class bl{constructor(){this.$e=new h9,this.Be=new f9(this.$e),this.Le=new d9(this.$e)}seed(e){this.$e.seed(e)}qe(e){return e===0?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new po(this.indexId,this.documentKey,this.arrayValue,r)}}function $i(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=PT(t.arrayValue,e.arrayValue),n!==0?n:(n=PT(t.directionalValue,e.directionalValue),n!==0?n:z.comparator(t.documentKey,e.documentKey)))}function PT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const r=n;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){te(e.collectionGroup===this.collectionId);const n=X0(e);if(n!==void 0&&!this.We(n))return!1;const r=oo(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(this.Qe!==void 0){const o=r[i];if(!this.ze(this.Qe,o)||!this.He(this.Ke[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],o))return!1}return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){var e,n;if(te(t instanceof fe||t instanceof Re),t instanceof fe){if(t instanceof WP){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>fe.create(t.field,"==",s)))||[];return Re.create(i,"or")}return t}const r=t.filters.map(i=>ND(i));return Re.create(r,t.op)}function m9(t){if(t.getFilters().length===0)return[];const e=hw(ND(t));return te(AD(e)),lw(e)||cw(e)?[e]:e.getFilters()}function lw(t){return t instanceof fe}function cw(t){return t instanceof Re&&rE(t)}function AD(t){return lw(t)||cw(t)||function(e){if(e instanceof Re&&tw(e)){for(const n of e.getFilters())if(!lw(n)&&!cw(n))return!1;return!0}return!1}(t)}function hw(t){if(te(t instanceof fe||t instanceof Re),t instanceof fe)return t;if(t.filters.length===1)return hw(t.filters[0]);const e=t.filters.map(r=>hw(r));let n=Re.create(e,t.op);return n=Tp(n),AD(n)?n:(te(n instanceof Re),te(Iu(n)),te(n.filters.length>1),n.filters.reduce((r,i)=>dE(r,i)))}function dE(t,e){let n;return te(t instanceof fe||t instanceof Re),te(e instanceof fe||e instanceof Re),n=t instanceof fe?e instanceof fe?function(r,i){return Re.create([r,i],"and")}(t,e):DT(t,e):e instanceof fe?DT(e,t):function(r,i){if(te(r.filters.length>0&&i.filters.length>0),Iu(r)&&Iu(i))return BP(r,i.getFilters());const s=tw(r)?r:i,o=tw(r)?i:r,a=s.filters.map(u=>dE(u,o));return Re.create(a,"or")}(t,e),Tp(n)}function DT(t,e){if(Iu(e))return BP(e,t.getFilters());{const n=e.filters.map(r=>dE(t,r));return Re.create(n,"or")}}function Tp(t){if(te(t instanceof fe||t instanceof Re),t instanceof fe)return t;const e=t.getFilters();if(e.length===1)return Tp(e[0]);if(VP(t))return t;const n=e.map(i=>Tp(i)),r=[];return n.forEach(i=>{i instanceof fe?r.push(i):i instanceof Re&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Re.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.Je=new pE}addToCollectionParentIndex(e,n){return this.Je.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(jn.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class pE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Me(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Uint8Array(0);class y9{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new pE,this.Xe=new Xs(r=>Wo(r),(r,i)=>$h(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const s={collectionId:r,parent:dn(i)};return LT(e).put(s)}return O.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[OP(n),""],!1,!0);return LT(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ur(o.parent))}return r})}addFieldIndex(e,n){const r=kf(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Sl(e);return s.next(a=>{o.put(OT(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=kf(e),i=Sl(e),s=El(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=El(e);let i=!0;const s=new Map;return O.forEach(this.Ze(n),o=>this.tn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=le();const a=[];return O.forEach(s,(u,l)=>{var c;$("IndexedDbIndexManager",`Using index ${c=u,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`} to execute ${Wo(n)}`);const h=function(w,E){const _=X0(E);if(_===void 0)return null;for(const T of Sp(w,_.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(l,u),f=function(w,E){const _=new Map;for(const T of oo(E))for(const k of Sp(w,T.fieldPath))switch(k.op){case"==":case"in":_.set(T.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return _.set(T.fieldPath.canonicalString(),k.value),Array.from(_.values())}return null}(l,u),d=function(w,E){const _=[];let T=!0;for(const k of oo(E)){const x=k.kind===0?pT(w,k.fieldPath,w.startAt):mT(w,k.fieldPath,w.startAt);_.push(x.value),T&&(T=x.inclusive)}return new Rs(_,T)}(l,u),p=function(w,E){const _=[];let T=!0;for(const k of oo(E)){const x=k.kind===0?mT(w,k.fieldPath,w.endAt):pT(w,k.fieldPath,w.endAt);_.push(x.value),T&&(T=x.inclusive)}return new Rs(_,T)}(l,u),m=this.en(u,l,d),b=this.en(u,l,p),g=this.nn(u,l,f),y=this.sn(u.indexId,h,m,d.inclusive,b,p.inclusive,g);return O.forEach(y,w=>r.J(w,n.limit).next(E=>{E.forEach(_=>{const T=z.fromSegments(_.documentKey);o.has(T)||(o=o.add(T),a.push(T))})}))}).next(()=>a)}return O.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(e.filters.length===0?n=[e]:n=m9(Re.create(e.filters,"and")).map(r=>rw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),c=[];for(let h=0;h<u;++h){const f=n?this.rn(n[h/l]):Tf,d=this.on(e,f,r[h%l],i),p=this.un(e,f,s[h%l],o),m=a.map(b=>this.on(e,f,b,!0));c.push(...this.createRange(d,p,m))}return c}on(e,n,r,i){const s=new po(e,z.empty(),n,r);return i?s:s.Ue()}un(e,n,r,i){const s=new po(e,z.empty(),n,r);return i?s.Ue():s}tn(e,n){const r=new p9(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.je(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Ze(n);return O.forEach(i,s=>this.tn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let u=new Me(dt.comparator),l=!1;for(const c of a.filters)for(const h of c.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?l=!0:u=u.add(h.field));for(const c of a.orderBy)c.field.isKeyField()||(u=u.add(c.field));return u.size+(l?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}cn(e,n){const r=new bl;for(const i of oo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.qe(i.kind);fo.Ie.ue(s,o)}return r.Fe()}rn(e){const n=new bl;return fo.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const r=new bl;return fo.Ie.ue(zo(this.databaseId,n),r.qe(function(i){const s=oo(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,n,r){if(r===null)return[];let i=[];i.push(new bl);let s=0;for(const o of oo(e)){const a=r[s++];for(const u of i)if(this.hn(n,o.fieldPath)&&Zc(a))i=this.ln(i,o,a);else{const l=u.qe(o.kind);fo.Ie.ue(a,l)}}return this.fn(i)}en(e,n,r){return this.nn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Fe();return n}ln(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new bl;u.seed(a.Fe()),fo.Ie.ue(o,u.qe(n.kind)),s.push(u)}return s}hn(e,n){return!!e.filters.find(r=>r instanceof fe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=kf(e),i=Sl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return O.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(l,c){const h=c?new bp(c.sequenceNumber,new jn(Ko(c.readTime),new z(Ur(c.documentKey)),c.largestBatchId)):bp.empty(),f=l.fields.map(([d,p])=>new eq(dt.fromServerFormat(d),p));return new NP(l.indexId,l.collectionGroup,f,h)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ue(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=kf(e),s=Sl(e);return this.dn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>O.forEach(a,u=>s.put(OT(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return O.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?O.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),O.forEach(a,u=>this._n(e,i,u).next(l=>{const c=this.wn(s,u);return l.isEqual(c)?O.resolve():this.mn(e,s,u,l,c)}))))})}gn(e,n,r,i){return El(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,n.key),documentKey:n.key.path.toArray()})}yn(e,n,r,i){return El(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,n.key),n.key.path.toArray()])}_n(e,n,r){const i=El(e);let s=new Me($i);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,n)])},(o,a)=>{s=s.add(new po(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new Me($i);const i=this.cn(n,e);if(i==null)return r;const s=X0(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Zc(o))for(const a of o.arrayValue.values||[])r=r.add(new po(n.indexId,e.key,this.rn(a),i))}else r=r.add(new po(n.indexId,e.key,Tf,i));return r}mn(e,n,r,i,s){$("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,u,l,c,h){const f=a.getIterator(),d=u.getIterator();let p=Ea(f),m=Ea(d);for(;p||m;){let b=!1,g=!1;if(p&&m){const y=l(p,m);y<0?g=!0:y>0&&(b=!0)}else p!=null?g=!0:b=!0;b?(c(m),m=Ea(d)):g?(h(p),p=Ea(f)):(p=Ea(f),m=Ea(d))}}(i,s,$i,a=>{o.push(this.gn(e,n,r,a))},a=>{o.push(this.yn(e,n,r,a))}),O.waitFor(o)}dn(e){let n=1;return Sl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>$i(o,a)).filter((o,a,u)=>!a||$i(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=$i(o,e),u=$i(o,n);if(a===0)i[0]=e.Ue();else if(a>0&&u<0)i.push(o),i.push(o.Ue());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.pn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Tf,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Tf,[]];s.push(IDBKeyRange.bound(a,u))}return s}pn(e,n){return $i(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(FT)}getMinOffset(e,n){return O.mapArray(this.Ze(n),r=>this.tn(e,r).next(i=>i||H())).next(FT)}}function LT(t){return Dt(t,"collectionParents")}function El(t){return Dt(t,"indexEntries")}function kf(t){return Dt(t,"indexConfiguration")}function Sl(t){return Dt(t,"indexState")}function FT(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;eE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:o},(c,h,f)=>(a++,f.delete()));s.push(u.next(()=>{te(a===1)}));const l=[];for(const c of n.mutations){const h=ID(e,c.key.path,n.batchId);s.push(i.delete(h)),l.push(c.key)}return O.waitFor(s).next(()=>l)}function kp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw H();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Km{constructor(e,n,r,i){this.userId=e,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,n,r,i){te(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Km(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ui(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Oa(e),o=Ui(e);return o.add({}).next(a=>{te(typeof a=="number");const u=new lE(a,n,r,i),l=function(f,d,p){const m=p.baseMutations.map(g=>nh(f.ie,g)),b=p.mutations.map(g=>nh(f.ie,g));return{userId:d,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:m,mutations:b}}(this.yt,this.userId,u),c=[];let h=new Me((f,d)=>ue(f.canonicalString(),d.canonicalString()));for(const f of i){const d=ID(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),c.push(o.put(l)),c.push(s.put(d,Wq))}return h.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.In[a]=u.keys()}),O.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return Ui(e).get(n).next(r=>r?(te(r.userId===this.userId),ho(this.yt,r)):null)}Tn(e,n){return this.In[n]?O.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ui(e).Z({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(te(a.batchId>=r),s=ho(this.yt,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ui(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ui(e).W("userMutationsIndex",n).next(r=>r.map(i=>ho(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=id(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Oa(e).Z({range:i},(o,a,u)=>{const[l,c,h]=o,f=Ur(c);if(l===this.userId&&n.path.isEqual(f))return Ui(e).get(h).next(d=>{if(!d)throw H();te(d.userId===this.userId),s.push(ho(this.yt,d))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ue);const i=[];return n.forEach(s=>{const o=id(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Oa(e).Z({range:a},(l,c,h)=>{const[f,d,p]=l,m=Ur(d);f===this.userId&&s.path.isEqual(m)?r=r.add(p):h.done()});i.push(u)}),O.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=id(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Me(ue);return Oa(e).Z({range:o},(u,l,c)=>{const[h,f,d]=u,p=Ur(f);h===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(d)):c.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ui(e).get(s).next(o=>{if(o===null)throw H();te(o.userId===this.userId),r.push(ho(this.yt,o))}))}),O.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return RD(e.se,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),O.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return O.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Oa(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Ur(s[1]);i.push(u)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,n){return PD(e,this.userId,n)}Rn(e){return DD(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function PD(t,e,n){const r=id(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Oa(t).Z({range:s,X:!0},(a,u,l)=>{const[c,h,f]=a;c===e&&h===i&&(o=!0),l.done()}).next(()=>o)}function Ui(t){return Dt(t,"mutations")}function Oa(t){return Dt(t,"documentMutations")}function DD(t){return Dt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Yo(0)}static vn(){return new Yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new Yo(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>ne.fromTimestamp(new Ye(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Sa(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Sa(e).Z((o,a)=>{const u=Bl(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>O.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Sa(e).Z((r,i)=>{const s=Bl(i);n(s)})}Vn(e){return $T(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}Sn(e,n){return $T(e).put("targetGlobalKey",n)}Dn(e,n){return Sa(e).put(OD(this.yt,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Wo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Sa(e).Z({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Bl(a);$h(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Zi(e);return n.forEach(o=>{const a=dn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),O.waitFor(i)}removeMatchingKeys(e,n,r){const i=Zi(e);return O.forEach(n,s=>{const o=dn(s.path);return O.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Zi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Zi(e);let s=le();return i.Z({range:r,X:!0},(o,a,u)=>{const l=Ur(o[1]),c=new z(l);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=dn(n.path),i=IDBKeyRange.bound([r],[OP(r)],!1,!0);let s=0;return Zi(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ne(e,n){return Sa(e).get(n).next(r=>r?Bl(r):null)}}function Sa(t){return Dt(t,"targets")}function $T(t){return Dt(t,"targetGlobal")}function Zi(t){return Dt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT([t,e],[n,r]){const i=ue(t,n);return i===0?ue(e,r):i}class w9{constructor(e){this.xn=e,this.buffer=new Me(UT),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();UT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Js(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.Fn(3e5)})}}class E9{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(En.at);const r=new w9(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(MT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MT):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let r,i,s,o,a,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),J0()<=we.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new E9(r,i)}(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Un(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return Cf(e,r)}removeReference(e,n,r){return Cf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Cf(e,n)}Gn(e,n){return function(r,i){let s=!1;return DD(r).tt(o=>PD(r,o,i).next(a=>(a&&(s=!0),O.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=n){const u=this.Gn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),Zi(e).delete([0,dn(o.path)])))});i.push(u)}}).next(()=>O.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Cf(e,n)}Kn(e,n){const r=Zi(e);let i,s=En.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==En.at&&n(new z(Ur(i)),s),s=l,i=u):s=En.at}).next(()=>{s!==En.at&&n(new z(Ur(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(t,e){return Zi(t).put(function(n,r){return{targetId:0,path:dn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return no(e).put(r)}removeEntry(e,n,r){return no(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Ip(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=Be.newInvalidDocument(n);return no(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_l(n))},(i,s)=>{r=this.jn(n,s)}).next(()=>r)}Wn(e,n){let r={size:0,document:Be.newInvalidDocument(n)};return no(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_l(n))},(i,s)=>{r={document:this.jn(n,s),size:kp(s)}}).next(()=>r)}getEntries(e,n){let r=_n();return this.zn(e,n,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,n){let r=_n(),i=new ut(z.comparator);return this.zn(e,n,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,kp(o))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return O.resolve();let i=new Me(BT);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(_l(i.first()),_l(i.last())),o=i.getIterator();let a=o.getNext();return no(e).Z({index:"documentKeyIndex",range:s},(u,l,c)=>{const h=z.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&BT(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.j(_l(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),Ip(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return no(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=_n();for(const u of o){const l=this.jn(z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(l.key,l)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=_n();const o=jT(n,r),a=jT(n,jn.max());return no(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,c)=>{const h=this.jn(z.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(h.key,h),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new I9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return VT(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}Qn(e,n){return VT(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=u9(this.yt,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return Be.newInvalidDocument(e)}}function FD(t){return new _9(t)}class I9 extends LD{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Xs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Me((s,o)=>ue(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(n.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=CT(this.Yn.yt,o);i=i.add(s.path.popLast());const l=kp(u);r+=l-a.size,n.push(this.Yn.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=CT(this.Yn.yt,o.convertToNoDocument(ne.min()));n.push(this.Yn.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Yn.updateMetadata(e,r)),O.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function VT(t){return Dt(t,"remoteDocumentGlobal")}function no(t){return Dt(t,"remoteDocumentsV14")}function _l(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jT(t,e){const n=e.documentKey.path.toArray();return[t,Ip(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function BT(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ue(n[s],r[s]),i)return i;return i=ue(n.length,r.length),i||(i=ue(n[n.length-2],r[r.length-2]),i||ue(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uc(r.mutation,i,Sn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=$r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_n();const o=lc(),a=lc();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Pi)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),uc(c.mutation,l,c.mutation.getFieldMask(),Ye.now())):o.set(l.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new T9(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=lc();let i=new ut((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Sn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=cD();c.forEach(f=>{if(!s.has(f)){const d=iD(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve($r());let a=-1,u=s;return o.next(l=>O.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(c=>({batchId:a,changes:lD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=jl();return this.indexManager.getCollectionParents(e,i).next(o=>O.forEach(o,a=>{const u=function(l,c){return new Ri(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,Be.newInvalidDocument(l)))});let o=jl();return i.forEach((a,u)=>{const l=s.get(a);l!==void 0&&uc(l.mutation,u,Sn.empty(),Ye.now()),oE(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return O.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:mt(r.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:fE(r.bundledQuery),readTime:mt(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.overlays=new ut(z.comparator),this.es=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=$r(),s=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=$r(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=$r(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return O.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hE(n,r));let s=this.es.get(n);s===void 0&&(s=le(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ns=new Me(Tt.ss),this.rs=new Me(Tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Tt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new z(new ye([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new z(new ye([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=le();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return z.comparator(e.key,n.key)||ue(e._s,n._s)}static os(e,n){return ue(e._s,n._s)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Me(Tt.ss)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ue);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),O.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;z.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new z(s),0);let a=new Me(ue);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},o),O.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){te(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return O.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Tt(n,0),i=this.gs.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.Es=e,this.docs=new ut(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(n))}getEntries(e,n){let r=_n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Be.newInvalidDocument(i))}),O.resolve(r)}getAllFromCollection(e,n,r){let i=_n();const s=new z(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||eE(RP(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,i){H()}As(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N9(this)}getSize(e){return O.resolve(this.size)}}class N9 extends LD{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.persistence=e,this.Rs=new Xs(n=>Wo(n),$h),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mE,this.targetCount=0,this.vs=Yo.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),O.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Dn(n),O.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new En(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new A9(this),this.indexManager=new g9,this.remoteDocumentCache=function(r){return new O9(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new xD(n),this.Ns=new k9(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new x9(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new R9(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return O.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class R9 extends DP{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Fs=new mE,this.$s=null}static Bs(e){return new Ym(e)}get Ls(){if(this.$s)return this.$s;throw H()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),O.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Ls,r=>{const i=z.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return O.or([()=>O.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.yt=e}$(e,n,r,i){const s=new qm("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kT,{unique:!0}),a.createObjectStore("documentMutations")}(e),qT(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=O.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),qT(e)),o=o.next(()=>function(a){const u=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,u){return u.store("mutations").W().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kT,{unique:!0});const c=u.store("mutations"),h=l.map(f=>c.put(f));return O.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Us(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const u=a.createObjectStore("documentOverlays",{keyPath:r9});u.createIndex("collectionPathOverlayIndex",i9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",s9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:Qq});u.createIndex("documentKeyIndex",Hq),u.createIndex("collectionGroupIndex",Gq)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Zq}).createIndex("sequenceNumberIndex",e9,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:t9}).createIndex("documentKeyIndex",n9,{unique:!1})}(e))),o}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=kp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>O.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>O.forEach(a,u=>{te(u.userId===s.userId);const l=ho(this.yt,u);return RD(e,s.userId,l).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const u=new ye(o),l=function(c){return[0,dn(c)]}(u);s.push(n.get(l).next(c=>c?O.resolve():(h=>n.put({targetId:0,path:dn(h),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>O.waitFor(s))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:Xq});const r=n.store("collectionParents"),i=new pE,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:dn(u)})}};return n.store("remoteDocuments").Z({X:!0},(o,a)=>{const u=new ye(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([o,a,u],l)=>{const c=Ur(a);return s(c.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Bl(i),o=OD(this.yt,s);return n.put(o)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(l=o,l.document?new z(ye.fromString(l.document.name).popFirst(5)):l.noDocument?z.fromSegments(l.noDocument.path):l.unknownDocument?z.fromSegments(l.unknownDocument.path):H()).path.toArray();var l;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>O.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=FD(this.yt),s=new $D(Ym.Bs,this.yt.ie);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var l;let c=(l=a.get(u.userId))!==null&&l!==void 0?l:le();ho(this.yt,u).keys().forEach(h=>c=c.add(h)),a.set(u.userId,c)}),O.forEach(a,(u,l)=>{const c=new xt(l),h=Gm.re(this.yt,c),f=s.getIndexManager(c),d=Km.re(c,this.yt,f,s.referenceDelegate);return new MD(i,d,h,f).recalculateAndSaveOverlaysForDocumentKeys(new uw(n,En.at),u).next()})})}}function qT(t){t.createObjectStore("targetDocuments",{keyPath:Yq}).createIndex("documentTargetsIndex",Jq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kq,{unique:!0}),t.createObjectStore("targetGlobal")}const Ky="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gE{constructor(e,n,r,i,s,o,a,u,l,c,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=l,this.Ys=c,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=f=>Promise.resolve(),!gE.C())throw new L(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new S9(this,i),this.ii=n+"main",this.yt=new xD(u),this.ri=new gr(this.ii,this.Xs,new P9(this.yt)),this.Cs=new v9(this.referenceDelegate,this.yt),this.remoteDocumentCache=FD(this.yt),this.Ns=new l9,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,c===!1&&ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,Ky);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new En(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Js(e))return $("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Il(e).get("owner").next(n=>O.resolve(this.mi(n)))}gi(e){return xf(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Dt(n,"clientMetadata");return r.W().next(i=>{const s=this.Ii(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return O.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?O.resolve(!0):Il(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,Ky);return!1}}return!(!this.networkEnabled||!this.inForeground)||xf(e).W().next(r=>this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new uw(e,En.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>xf(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Km.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y9(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Gm.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){$("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Xs)===15?a9:o===14?CD:o===13?kD:o===12?o9:o===11?TD:void H();var o;let a;return this.ri.runTransaction(e,i,s,u=>(a=new uw(u,this.Ss?this.Ss.next():En.at),n==="readwrite-primary"?this.fi(a).next(l=>!!l||this.di(a)).next(l=>{if(!l)throw ft(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new L(A.FAILED_PRECONDITION,PP);return r(a)}).next(l=>this.wi(a).next(()=>l)):this.Vi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}Vi(e){return Il(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(A.FAILED_PRECONDITION,Ky)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Il(e).put("owner",n)}static C(){return gr.C()}_i(e){const n=Il(e);return n.get("owner").next(r=>this.mi(r)?($("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):O.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ft(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),_U()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return $("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ft("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ft("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Il(t){return Dt(t,"owner")}function xf(t){return Dt(t,"clientMetadata")}function yE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(gT(n))return O.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_p(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(n,a);return this.$i(n,l,o,u.readTime)?this.ki(e,_p(n,null,"F")):this.Bi(e,l,n,u)}))})))}Oi(e,n,r,i){return gT(n)||i.isEqual(ne.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(J0()<=we.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sw(n)),this.Bi(e,o,n,AP(i,-1)))})}Fi(e,n){let r=new Me(YP(e));return n.forEach((i,s)=>{oE(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return J0()<=we.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",sw(n)),this.Ni.getDocumentsMatchingQuery(e,n,jn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new ut(ue),this.Ui=new Xs(s=>Wo(s),$h),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MD(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function VD(t,e,n,r){return new D9(t,e,n,r)}async function jD(t,e){const n=W(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=le();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}function L9(t,e){const n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,h=c.keys();let f=O.resolve();return h.forEach(d=>{f=f.next(()=>l.getEntry(a,d)).next(p=>{const m=u.docVersions.get(d);te(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BD(t){const e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function F9(t,e){const n=W(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?d=d.withResumeToken(St.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(p,m,b){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,d,c)&&a.push(n.Cs.updateTargetData(s,d))});let u=_n(),l=le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(qD(s,o,e.documentUpdates).next(c=>{u=c.Wi,l=c.zi})),!r.isEqual(ne.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.qi=i,s))}function qD(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_n();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:o,zi:i}})}function M9(t,e){const n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xu(t,e){const n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new vs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Ou(t,e,n){const r=W(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Js(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function Cp(t,e,n){const r=W(t);let i=ne.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=W(a),h=c.Ui.get(l);return h!==void 0?O.resolve(c.qi.get(h)):c.Cs.getTargetData(u,l)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:le())).next(a=>(QD(r,KP(e),a),{documents:a,Hi:s})))}function zD(t,e){const n=W(t),r=W(n.Cs),i=n.qi.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function WD(t,e){const n=W(t),r=n.Ki.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,AP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(QD(n,e,i),i))}function QD(t,e,n){let r=t.Ki.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}async function $9(t,e,n,r){const i=W(t);let s=le(),o=_n();for(const l of n){const c=e.Ji(l.metadata.name);l.document&&(s=s.add(c));const h=e.Yi(l);h.setReadTime(e.Xi(l.metadata.readTime)),o=o.insert(c,h)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),u=await xu(i,function(l){return xn(Xu(ye.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>qD(l,a,o).next(c=>(a.apply(l),c)).next(c=>i.Cs.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Cs.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.Wi,c.zi)).next(()=>c.Wi)))}async function U9(t,e,n=le()){const r=await xu(t,xn(fE(e.bundledQuery))),i=W(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=mt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(St.EMPTY_BYTE_STRING,o);return i.qi=i.qi.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}function zT(t,e){return`firestore_clients_${t}_${e}`}function WT(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Yy(t,e){return`firestore_targets_${t}_${e}`}class xp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new L(i.error.code,i.error.message))),o?new xp(e,n,i.state,s):(ft("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new L(r.error.code,r.error.message))),s?new cc(e,r.state,i):(ft("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Op{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Hm();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=FP(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Op(e,s):(ft("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class wE{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new wE(n.clientId,n.onlineState):(ft("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fw{constructor(){this.activeTargetIds=Hm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jy{constructor(e,n,r,i,s){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ut(ue),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=zT(this.persistenceKey,this.sr),this.hr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new fw),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const r of e){if(r===this.sr)continue;const i=this.getItem(zT(this.persistenceKey,r));if(i){const s=Op.Zi(r,i);s&&(this.ur=this.ur.insert(s.clientId,s))}}this.gr();const n=this.storage.getItem(this.wr);if(n){const r=this.yr(n);r&&this.pr(r)}for(const r of this.cr)this.rr(r);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Yy(this.persistenceKey,e));if(r){const i=cc.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Yy(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return $("SharedClientState","READ",e,n),n}setItem(e,n){$("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const n=e;if(n.storageArea===this.storage){if($("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.lr.test(n.key)){if(n.newValue==null){const r=this.vr(n.key);return this.Vr(r,null)}{const r=this.Sr(n.key,n.newValue);if(r)return this.Vr(r.clientId,r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(this._r.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.yr(n.newValue);if(r)return this.pr(r)}}else if(n.key===this.hr){const r=function(i){let s=En.at;if(i!=null)try{const o=JSON.parse(i);te(typeof o=="number"),s=o}catch(o){ft("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==En.at&&this.sequenceNumberHandler(r)}else if(n.key===this.mr){const r=this.Or(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Mr(i)))}}}else this.cr.push(n)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new xp(this.currentUser,e,n,r),s=WT(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const n=WT(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Rr(e,n,r){const i=Yy(this.persistenceKey,e),s=new cc(e,n,r);this.setItem(i,s.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return Op.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return xp.Zi(new xt(s),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return cc.Zi(i,n)}yr(e){return wE.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);$("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Hm();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class HD{constructor(){this.Lr=new fw,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new fw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);$("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>($("RestConnection","Received: ",u),u),u=>{throw Eu("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ju,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=j9[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new BB;a.setWithCredentials(!0),a.listenOnce(UB.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Hy.NO_ERROR:const l=a.getResponseJson();$("Connection","XHR received:",JSON.stringify(l)),s(l);break;case Hy.TIMEOUT:$("Connection",'RPC "'+e+'" timed out'),o(new L(A.DEADLINE_EXCEEDED,"Request time out"));break;case Hy.HTTP_ERROR:const c=a.getStatus();if($("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const d=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(m)>=0?m:A.UNKNOWN}(f.status);o(new L(d,f.message))}else o(new L(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new L(A.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{$("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=MB(),o=$B(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new jB({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");$("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,h=!1;const f=new B9({Hr:p=>{h?$("Connection","Not sending because WebChannel is closed:",p):(c||($("Connection","Opening WebChannel transport."),l.open(),c=!0),$("Connection","WebChannel sending:",p),l.send(p))},Jr:()=>l.close()}),d=(p,m,b)=>{p.listen(m,g=>{try{b(g)}catch(y){setTimeout(()=>{throw y},0)}})};return d(l,_f.EventType.OPEN,()=>{h||$("Connection","WebChannel transport opened.")}),d(l,_f.EventType.CLOSE,()=>{h||(h=!0,$("Connection","WebChannel transport closed"),f.io())}),d(l,_f.EventType.ERROR,p=>{h||(h=!0,Eu("Connection","WebChannel transport errored:",p),f.io(new L(A.UNAVAILABLE,"The operation could not be completed")))}),d(l,_f.EventType.MESSAGE,p=>{var m;if(!h){const b=p.data[0];te(!!b);const g=b,y=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(y){$("Connection","WebChannel received error:",y);const w=y.status;let E=function(T){const k=gt[T];if(k!==void 0)return aD(k)}(w),_=y.message;E===void 0&&(E=A.INTERNAL,_="Unknown error status: "+w+" with message "+y.message),h=!0,f.io(new L(E,_)),l.close()}else $("Connection","WebChannel received:",b),f.ro(b)}}),d(o,VB.STAT_EVENT,p=>{p.stat===nT.PROXY?$("Connection","Detected buffering proxy"):p.stat===nT.NOPROXY&&$("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){return typeof window<"u"?window:null}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new Dq(t,!0)}class bE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new bE(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(ft(n.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new L(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z9 extends KD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=Mq(this.yt,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?mt(s.readTime):ne.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=th(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Ep(a)?{documents:vD(i,a)}:{query:wD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=dD(i,s.resumeToken):s.snapshotVersion.compareTo(ne.min())>0&&(o.readTime=Cu(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=Uq(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=th(this.yt),n.removeTarget=e,this.Bo(n)}}class W9 extends KD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=$q(e.writeResults,e.commitTime),r=mt(e.commitTime);return this.listener.Zo(r,n)}return te(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=th(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nh(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(A.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(A.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class H9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ft(n),this.ou=!1):$("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Zs(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=W(a);u._u.add(4),await tl(u),u.gu.set("Unknown"),u._u.delete(4),await zh(u)}(this))})}),this.gu=new H9(r,i)}}async function zh(t){if(Zs(t))for(const e of t.wu)await e(!0)}async function tl(t){for(const e of t.wu)await e(!1)}function Jm(t,e){const n=W(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),_E(n)?SE(n):rl(n).ko()&&EE(n,e))}function rh(t,e){const n=W(t),r=rl(n);n.du.delete(e),r.ko()&&YD(n,e),n.du.size===0&&(r.ko()?r.Fo():Zs(n)&&n.gu.set("Unknown"))}function EE(t,e){t.yu.Ot(e.targetId),rl(t).zo(e)}function YD(t,e){t.yu.Ot(e),rl(t).Ho(e)}function SE(t){t.yu=new Nq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),rl(t).start(),t.gu.uu()}function _E(t){return Zs(t)&&!rl(t).No()&&t.du.size>0}function Zs(t){return W(t)._u.size===0}function JD(t){t.yu=void 0}async function K9(t){t.du.forEach((e,n)=>{EE(t,e)})}async function Y9(t,e){JD(t),_E(t)?(t.gu.hu(e),SE(t)):t.gu.set("Unknown")}async function J9(t,e,n){if(t.gu.set("Online"),e instanceof fD&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Np(t,r)}else if(e instanceof rd?t.yu.Kt(e):e instanceof hD?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(ne.min()))try{const r=await BD(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),YD(i,a);const l=new vs(u.target,a,1,u.sequenceNumber);EE(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await Np(t,r)}}async function Np(t,e,n){if(!Js(e))throw e;t._u.add(1),await tl(t),t.gu.set("Offline"),n||(n=()=>BD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await zh(t)})}function XD(t,e){return e().catch(n=>Np(t,n,e))}async function nl(t){const e=W(t),n=Ps(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;X9(e);)try{const i=await M9(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,Z9(e,i)}catch(i){await Np(e,i)}ZD(e)&&e2(e)}function X9(t){return Zs(t)&&t.fu.length<10}function Z9(t,e){t.fu.push(e);const n=Ps(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function ZD(t){return Zs(t)&&!Ps(t).No()&&t.fu.length>0}function e2(t){Ps(t).start()}async function ez(t){Ps(t).eu()}async function tz(t){const e=Ps(t);for(const n of t.fu)e.Xo(n.mutations)}async function nz(t,e,n){const r=t.fu.shift(),i=cE.from(r,e,n);await XD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nl(t)}async function rz(t,e){e&&Ps(t).Yo&&await async function(n,r){if(i=r.code,oD(i)&&i!==A.ABORTED){const s=n.fu.shift();Ps(n).Mo(),await XD(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await nl(n)}var i}(t,e),ZD(t)&&e2(t)}async function HT(t,e){const n=W(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n._u.add(3),await tl(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await zh(n)}async function dw(t,e){const n=W(t);e?(n._u.delete(2),await zh(n)):e||(n._u.add(2),await tl(n),n.gu.set("Unknown"))}function rl(t){return t.pu||(t.pu=function(e,n,r){const i=W(e);return i.su(),new z9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:K9.bind(null,t),Zr:Y9.bind(null,t),Wo:J9.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),_E(t)?SE(t):t.gu.set("Unknown")):(await t.pu.stop(),JD(t))})),t.pu}function Ps(t){return t.Iu||(t.Iu=function(e,n,r){const i=W(e);return i.su(),new W9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:ez.bind(null,t),Zr:rz.bind(null,t),tu:tz.bind(null,t),Zo:nz.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await nl(t)):(await t.Iu.stop(),t.fu.length>0&&($("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new IE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function il(t,e){if(ft("AsyncQueue",`${e}: ${t}`),Js(t))return new L(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new iu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.Tu=new ut(z.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):H():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nu{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Nu(e,n,iu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.Au=void 0,this.listeners=[]}}class sz{constructor(){this.queries=new Xs(e=>GP(e),Uh),this.onlineState="Unknown",this.Ru=new Set}}async function TE(t,e){const n=W(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iz),i)try{s.Au=await n.onListen(r)}catch(o){const a=il(o,`Initialization of query '${sw(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&CE(n)}async function kE(t,e){const n=W(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function oz(t,e){const n=W(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&CE(n)}function az(t,e,n){const r=W(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function CE(t){t.Ru.forEach(e=>{e.next()})}class xE{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.yt=e}Ji(e){return Qr(this.yt,e)}Yi(e){return e.metadata.exists?yD(this.yt,e.document,!1):Be.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return mt(e)}}class lz{constructor(e,n,r){this.Mu=e,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=t2(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const r=ye.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new KT(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||le()).add(s);n.set(o,a)}}return n}async complete(){const e=await $9(this.localStore,new KT(this.yt),this.documents,this.Mu.id),n=this.$u(this.documents);for(const r of this.queries)await U9(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function t2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.key=e}}class r2{constructor(e){this.key=e}}class i2{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=le(),this.mutatedKeys=le(),this.Gu=YP(e),this.Qu=new iu(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new GT,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=oE(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let b=!1;f&&d?f.data.isEqual(d.data)?p!==m&&(r.track({type:3,doc:d}),b=!0):this.Hu(f,d)||(r.track({type:2,doc:d}),b=!0,(u&&this.Gu(d,u)>0||l&&this.Gu(d,l)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),b=!0):f&&!d&&(r.track({type:1,doc:f}),b=!0,(u||l)&&(a=!0)),b&&(d?(o=o.add(d),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((l,c)=>function(h,f){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return d(h)-d(f)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,s.length!==0||u?{snapshot:new Nu(this.query,e.Qu,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new GT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=le(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new r2(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new n2(r))}),n}tc(e){this.qu=e.Hi,this.Ku=le();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Nu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class cz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hz{constructor(e){this.key=e,this.nc=!1}}class fz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Xs(a=>GP(a),Uh),this.rc=new Map,this.oc=new Set,this.uc=new ut(z.comparator),this.cc=new Map,this.ac=new mE,this.hc={},this.lc=new Map,this.fc=Yo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function dz(t,e){const n=PE(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await xu(n.localStore,xn(e));n.isPrimaryClient&&Jm(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await OE(n,e,r,a==="current",o.resumeToken)}return i}async function OE(t,e,n,r,i){t._c=(h,f,d)=>async function(p,m,b,g){let y=m.view.Wu(b);y.$i&&(y=await Cp(p.localStore,m.query,!1).then(({documents:_})=>m.view.Wu(_,y)));const w=g&&g.targetChanges.get(m.targetId),E=m.view.applyChanges(y,p.isPrimaryClient,w);return pw(p,m.targetId,E.Xu),E.snapshot}(t,h,f,d);const s=await Cp(t.localStore,e,!0),o=new i2(e,s.Hi),a=o.Wu(s.documents),u=Bh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);pw(t,n,l.Xu);const c=new cz(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function pz(t,e){const n=W(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Uh(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ou(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rh(n.remoteStore,r.targetId),Au(n,r.targetId)}).catch(Ys)):(Au(n,r.targetId),await Ou(n.localStore,r.targetId,!0))}async function mz(t,e,n){const r=DE(t);try{const i=await function(s,o){const a=W(s),u=Ye.now(),l=o.reduce((f,d)=>f.add(d.key),le());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=_n(),p=le();return a.Gi.getEntries(f,l).next(m=>{d=m,d.forEach((b,g)=>{g.isValidDocument()||(p=p.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(m=>{c=m;const b=[];for(const g of o){const y=Iq(g,c.get(g.key).overlayedDocument);y!=null&&b.push(new Pi(g.key,y,QP(y.value.mapValue),Ke.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,b,o)}).next(m=>{h=m;const b=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,m.batchId,b)})}).then(()=>({batchId:h.batchId,changes:lD(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new ut(ue)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),await Di(r,i.changes),await nl(r.remoteStore)}catch(i){const s=il(i,"Failed to persist write");n.reject(s)}}async function s2(t,e){const n=W(t);try{const r=await F9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?te(o.nc):i.removedDocuments.size>0&&(te(o.nc),o.nc=!1))}),await Di(n,r,e)}catch(r){await Ys(r)}}function YT(t,e,n){const r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=W(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const h of c.listeners)h.bu(o)&&(u=!0)}),u&&CE(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gz(t,e,n){const r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new ut(z.comparator);o=o.insert(s,Be.newNoDocument(s,ne.min()));const a=le().add(s),u=new jh(ne.min(),new Map,new Me(ue),o,a);await s2(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),RE(r)}else await Ou(r.localStore,e,!1).then(()=>Au(r,e,n)).catch(Ys)}async function yz(t,e){const n=W(t),r=e.batch.batchId;try{const i=await L9(n.localStore,e);AE(n,r,null),NE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Di(n,i)}catch(i){await Ys(i)}}async function vz(t,e,n){const r=W(t);try{const i=await function(s,o){const a=W(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(te(c!==null),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);AE(r,e,n),NE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Di(r,i)}catch(i){await Ys(i)}}async function wz(t,e){const n=W(t);Zs(n.remoteStore)||$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=W(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=il(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function NE(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function AE(t,e,n){const r=W(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Au(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||o2(t,r)})}function o2(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(rh(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),RE(t))}function pw(t,e,n){for(const r of n)r instanceof n2?(t.ac.addReference(r.key,e),bz(t,r)):r instanceof r2?($("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||o2(t,r.key)):H()}function bz(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||($("SyncEngine","New document in limbo: "+n),t.oc.add(r),RE(t))}function RE(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new z(ye.fromString(e)),r=t.fc.next();t.cc.set(r,new hz(n)),t.uc=t.uc.insert(n,r),Jm(t.remoteStore,new vs(xn(Xu(n.path)),r,2,En.at))}}async function Di(t,e,n){const r=W(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=vE.Ci(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,u){const l=W(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>O.forEach(u,h=>O.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>O.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Js(c))throw c;$("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const f=l.qi.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);l.qi=l.qi.insert(h,p)}}}(r.localStore,s))}async function Ez(t,e){const n=W(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await jD(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new L(A.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Di(n,r.ji)}}function Sz(t,e){const n=W(t),r=n.cc.get(e);if(r&&r.nc)return le().add(r.key);{let i=le();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}async function _z(t,e){const n=W(t),r=await Cp(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&pw(n,e.targetId,i.Xu),i}async function Iz(t,e){const n=W(t);return WD(n.localStore,e).then(r=>Di(n,r))}async function Tz(t,e,n,r){const i=W(t),s=await function(o,a){const u=W(o),l=W(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",c=>l.Tn(c,a).next(h=>h?u.localDocuments.getDocuments(c,h):O.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await nl(i.remoteStore):n==="acknowledged"||n==="rejected"?(AE(i,e,r||null),NE(i,e),function(o,a){W(W(o).mutationQueue).An(a)}(i.localStore,e)):H(),await Di(i,s)):$("SyncEngine","Cannot apply mutation batch with id: "+e)}async function kz(t,e){const n=W(t);if(PE(n),DE(n),e===!0&&n.dc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await JT(n,r.toArray());n.dc=!0,await dw(n.remoteStore,!0);for(const s of i)Jm(n.remoteStore,s)}else if(e===!1&&n.dc!==!1){const r=[];let i=Promise.resolve();n.rc.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Au(n,o),Ou(n.localStore,o,!0))),rh(n.remoteStore,o)}),await i,await JT(n,r),function(s){const o=W(s);o.cc.forEach((a,u)=>{rh(o.remoteStore,u)}),o.ac.fs(),o.cc=new Map,o.uc=new ut(z.comparator)}(n),n.dc=!1,await dw(n.remoteStore,!1)}}async function JT(t,e,n){const r=W(t),i=[],s=[];for(const o of e){let a;const u=r.rc.get(o);if(u&&u.length!==0){a=await xu(r.localStore,xn(u[0]));for(const l of u){const c=r.ic.get(l),h=await _z(r,c);h.snapshot&&s.push(h.snapshot)}}else{const l=await zD(r.localStore,o);a=await xu(r.localStore,l),await OE(r,a2(l),o,!1,a.resumeToken)}i.push(a)}return r.sc.Wo(s),i}function a2(t){return HP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cz(t){const e=W(t);return W(W(e.localStore).persistence).vi()}async function xz(t,e,n,r){const i=W(t);if(i.dc)return void $("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await WD(i.localStore,KP(s[0])),a=jh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",St.EMPTY_BYTE_STRING);await Di(i,o,a);break}case"rejected":await Ou(i.localStore,e,!0),Au(i,e,r);break;default:H()}}async function Oz(t,e,n){const r=PE(t);if(r.dc){for(const i of e){if(r.rc.has(i)){$("SyncEngine","Adding an already active target "+i);continue}const s=await zD(r.localStore,i),o=await xu(r.localStore,s);await OE(r,a2(s),o.targetId,!1,o.resumeToken),Jm(r.remoteStore,o)}for(const i of n)r.rc.has(i)&&await Ou(r.localStore,i,!1).then(()=>{rh(r.remoteStore,i),Au(r,i)}).catch(Ys)}}function PE(t){const e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gz.bind(null,e),e.sc.Wo=oz.bind(null,e.eventManager),e.sc.wc=az.bind(null,e.eventManager),e}function DE(t){const e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vz.bind(null,e),e}function Nz(t,e,n){const r=W(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(h,f){const d=W(h),p=mt(f.createTime);return d.persistence.runTransaction("hasNewerBundle","readonly",m=>d.Ns.getBundleMetadata(m,f.id)).then(m=>!!m&&m.createTime.compareTo(p)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(t2(a));const u=new lz(a,i.localStore,s.yt);let l=await s.mc();for(;l;){const h=await u.Fu(l);h&&o._updateProgress(h),l=await s.mc()}const c=await u.complete();return await Di(i,c.Lu,void 0),await function(h,f){const d=W(h);return d.persistence.runTransaction("Save bundle","readwrite",p=>d.Ns.saveBundleMetadata(p,f))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Bu)}catch(a){return Eu("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class u2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=qh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return VD(this.persistence,new UD,e.initialUser,this.yt)}yc(e){return new $D(Ym.Bs,this.yt)}gc(e){return new HD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class l2 extends u2{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await DE(this.Ac.syncEngine),await nl(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return VD(this.persistence,new UD,e.initialUser,this.yt)}Tc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new b9(r,e.asyncQueue,n)}Ec(e,n){const r=new iq(n,this.persistence);return new rq(e.asyncQueue,r)}yc(e){const n=yE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new gE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,GD(),sd(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new HD}}class Az extends l2{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ac.syncEngine;this.sharedClientState instanceof Jy&&(this.sharedClientState.syncEngine={Fr:Tz.bind(null,n),$r:xz.bind(null,n),Br:Oz.bind(null,n),vi:Cz.bind(null,n),Mr:Iz.bind(null,n)},await this.sharedClientState.start()),await this.persistence.li(async r=>{await kz(this.Ac.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}gc(e){const n=GD();if(!Jy.C(n))throw new L(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class LE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ez.bind(null,this.syncEngine),await dw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sz}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new q9(i));var i;return function(s,o,a,u){return new Q9(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>YT(this.syncEngine,a,0),o=QT.C()?new QT:new V9,new G9(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new fz(r,i,s,o,a,u);return l&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=W(e);$("RemoteStore","RemoteStore shutting down."),n._u.add(5),await tl(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e,n){if(!n)throw new L(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c2(t,e,n,r){if(e===!0&&r===!0)throw new L(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XT(t){if(!z.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZT(t){if(z.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function Se(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new L(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function h2(t,e){if(e<=0)throw new L(A.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Map;class tk{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new L(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new WB;switch(n.type){case"gapi":const r=n.client;return new KB(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new L(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ek.get(e);n&&($("ComponentProvider","Removing Datastore"),ek.delete(e),n.terminate())}(this),Promise.resolve()}}function Rz(t,e,n,r={}){var i;const s=(t=Se(t,Wh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Eu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=xt.MOCK_USER;else{o=bU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new xt(u)}t._authCredentials=new QB(new CP(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Hr extends Kt{constructor(e,n,r){super(e,n,Xu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new z(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function f2(t,e,...n){if(t=ie(t),FE("collection","path",e),t instanceof Wh){const r=ye.fromString(e,...n);return ZT(r),new Hr(t,null,r)}{if(!(t instanceof ze||t instanceof Hr))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return ZT(r),new Hr(t.firestore,null,r)}}function Pz(t,e){if(t=Se(t,Wh),FE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(A.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kt(t,null,function(n){return new Ri(ye.emptyPath(),n)}(e))}function Ap(t,e,...n){if(t=ie(t),arguments.length===1&&(e=xP.R()),FE("doc","path",e),t instanceof Wh){const r=ye.fromString(e,...n);return XT(r),new ze(t,null,new z(r))}{if(!(t instanceof ze||t instanceof Hr))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return XT(r),new ze(t.firestore,t instanceof Hr?t.converter:null,new z(r))}}function d2(t,e){return t=ie(t),e=ie(e),(t instanceof ze||t instanceof Hr)&&(e instanceof ze||e instanceof Hr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function p2(t,e){return t=ie(t),e=ie(e),t instanceof Kt&&e instanceof Kt&&t.firestore===e.firestore&&Uh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ft("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new Nt,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const n=this.vc.decode(e),r=Number(n);isNaN(r)&&this.Dc(`length string (${n}) is not valid number`);const i=await this.Cc(r);return new uz(JSON.parse(i),e.length+r)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const n=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=W(r),o=th(s.yt)+"/documents",a={documents:i.map(h=>eh(s.yt,h))},u=await s._o("BatchGetDocuments",o,a,i.length),l=new Map;u.forEach(h=>{const f=Fq(s.yt,h);l.set(f.key.toString(),f)});const c=[];return i.forEach(h=>{const f=l.get(h.toString());te(!!f),c.push(f)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new el(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=z.fromPath(r);this.mutations.push(new aE(i,this.precondition(i)))}),await async function(n,r){const i=W(n),s=th(i.yt)+"/documents",o={writes:r.map(a=>nh(i.yt,a))};await i.ao("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw H();n=ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new L(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?Ke.exists(!1):Ke.updateTime(n):Ke.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new L(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ke.updateTime(n)}return Ke.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new bE(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new Lz(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Fc(i)}))}).catch(r=>{this.Fc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!Mh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!oD(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=xP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{$("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=il(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function m2(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function g2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ME(t);$("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>HT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>HT(e.remoteStore,s)),t.onlineComponents=e}async function ME(t){return t.offlineComponents||($("FirestoreClient","Using default OfflineComponentProvider"),await m2(t,new u2)),t.offlineComponents}async function eg(t){return t.onlineComponents||($("FirestoreClient","Using default OnlineComponentProvider"),await g2(t,new LE)),t.onlineComponents}function y2(t){return ME(t).then(e=>e.persistence)}function $E(t){return ME(t).then(e=>e.localStore)}function v2(t){return eg(t).then(e=>e.remoteStore)}function UE(t){return eg(t).then(e=>e.syncEngine)}function $z(t){return eg(t).then(e=>e.datastore)}async function Ru(t){const e=await eg(t),n=e.eventManager;return n.onListen=dz.bind(null,e.syncEngine),n.onUnlisten=pz.bind(null,e.syncEngine),n}function Uz(t){return t.asyncQueue.enqueue(async()=>{const e=await y2(t),n=await v2(t);return e.setNetworkEnabled(!0),function(r){const i=W(r);return i._u.delete(0),zh(i)}(n)})}function Vz(t){return t.asyncQueue.enqueue(async()=>{const e=await y2(t),n=await v2(t);return e.setNetworkEnabled(!1),async function(r){const i=W(r);i._u.add(0),await tl(i),i.gu.set("Offline")}(n)})}function jz(t,e){const n=new Nt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,u){const l=W(a);return l.persistence.runTransaction("read document","readonly",c=>l.localDocuments.getDocument(c,u))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new L(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=il(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await $E(t),e,n)),n.promise}function w2(t,e,n={}){const r=new Nt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new Zm({next:h=>{s.enqueueAndForget(()=>kE(i,c));const f=h.docs.has(o);!f&&h.fromCache?u.reject(new L(A.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?u.reject(new L(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new xE(Xu(o.path),l,{includeMetadataChanges:!0,Nu:!0});return TE(i,c)}(await Ru(t),t.asyncQueue,e,n,r)),r.promise}function Bz(t,e){const n=new Nt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Cp(r,i,!0),a=new i2(i,o.Hi),u=a.Wu(o.documents),l=a.applyChanges(u,!1);s.resolve(l.snapshot)}catch(o){const a=il(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await $E(t),e,n)),n.promise}function b2(t,e,n={}){const r=new Nt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new Zm({next:h=>{s.enqueueAndForget(()=>kE(i,c)),h.fromCache&&a.source==="server"?u.reject(new L(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new xE(o,l,{includeMetadataChanges:!0,Nu:!0});return TE(i,c)}(await Ru(t),t.asyncQueue,e,n,r)),r.promise}function qz(t,e){const n=new Zm(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){W(r).Ru.add(i),i.next()}(await Ru(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){W(r).Ru.delete(i)}(await Ru(t),n))}}function zz(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(u,l){return new Dz(u,l)}(function(u,l){if(u instanceof Uint8Array)return nk(u,l);if(u instanceof ArrayBuffer)return nk(new Uint8Array(u),l);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,qh(e));t.asyncQueue.enqueueAndForget(async()=>{Nz(await UE(t),i,r)})}function Wz(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=W(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(await $E(t),e))}class Qz{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new bE(this,"async_queue_retry"),this.Wc=()=>{const n=sd();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=sd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Nt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Js(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ft("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=IE.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&H()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function mw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Hz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=-1;class lt extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||E2(this),this._firestoreClient.terminate()}}function Lt(t){return t._firestoreClient||E2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function E2(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new sq(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Mz(t._authCredentials,t._appCheckCredentials,t._queue,r)}function Kz(t,e){_2(t=Se(t,lt));const n=Lt(t),r=t._freezeSettings(),i=new LE;return S2(n,i,new l2(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Yz(t){_2(t=Se(t,lt));const e=Lt(t),n=t._freezeSettings(),r=new LE;return S2(e,r,new Az(r,n.cacheSizeBytes))}function S2(t,e,n){const r=new Nt;return t.asyncQueue.enqueue(async()=>{try{await m2(t,n),await g2(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===A.FAILED_PRECONDITION||o.code===A.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;Eu("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function Jz(t){if(t._initialized&&!t._terminated)throw new L(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!gr.C())return Promise.resolve();const r=n+"main";await gr.delete(r)}(yE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Xz(t){return function(e){const n=new Nt;return e.asyncQueue.enqueueAndForget(async()=>wz(await UE(e),n)),n.promise}(Lt(t=Se(t,lt)))}function Zz(t){return Uz(Lt(t=Se(t,lt)))}function e7(t){return Vz(Lt(t=Se(t,lt)))}function t7(t,e){const n=Lt(t=Se(t,lt)),r=new Hz;return zz(n,t._databaseId,e,r),r}function n7(t,e){return Wz(Lt(t=Se(t,lt)),e).then(n=>n?new Kt(t,null,n.query):null)}function _2(t){if(t._initialized||t._terminated)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(St.fromBase64String(e))}catch(n){throw new L(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zr(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^__.*__$/;class i7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class I2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function T2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class ng{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Rp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(T2(this.sa)&&r7.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class s7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||qh(e)}da(e,n,r,i=!1){return new ng({sa:e,methodName:n,fa:r,path:dt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function pa(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new s7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rg(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);qE("Data must be an object, but it was:",o,r);const a=x2(r,o);let u,l;if(s.merge)u=new Sn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=gw(e,h,n);if(!o.contains(f))throw new L(A.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);N2(c,f)||c.push(f)}u=new Sn(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new i7(new qt(a),u,l)}class Qh extends da{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function k2(t,e,n){return new ng({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class VE extends da{_toFieldTransform(e){return new Vh(e.path,new Tu)}isEqual(e){return e instanceof VE}}class o7 extends da{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=k2(this,e,!0),r=this._a.map(s=>ma(s,n)),i=new Qo(r);return new Vh(e.path,i)}isEqual(e){return this===e}}class a7 extends da{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=k2(this,e,!0),r=this._a.map(s=>ma(s,n)),i=new Ho(r);return new Vh(e.path,i)}isEqual(e){return this===e}}class u7 extends da{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new ku(e.yt,ZP(e.yt,this.wa));return new Vh(e.path,n)}isEqual(e){return this===e}}function jE(t,e,n,r){const i=t.da(1,e,n);qE("Data must be an object, but it was:",i,r);const s=[],o=qt.empty();fa(r,(u,l)=>{const c=zE(e,u,n);l=ie(l);const h=i.ca(c);if(l instanceof Qh)s.push(c);else{const f=ma(l,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Sn(s);return new I2(o,a,i.fieldTransforms)}function BE(t,e,n,r,i,s){const o=t.da(1,e,n),a=[gw(e,r,n)],u=[i];if(s.length%2!=0)throw new L(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(gw(e,s[f])),u.push(s[f+1]);const l=[],c=qt.empty();for(let f=a.length-1;f>=0;--f)if(!N2(l,a[f])){const d=a[f];let p=u[f];p=ie(p);const m=o.ca(d);if(p instanceof Qh)l.push(d);else{const b=ma(p,m);b!=null&&(l.push(d),c.set(d,b))}}const h=new Sn(l);return new I2(c,h,o.fieldTransforms)}function C2(t,e,n,r=!1){return ma(n,t.da(r?4:3,e))}function ma(t,e){if(O2(t=ie(t)))return qE("Unsupported field value:",e,t),x2(t,e);if(t instanceof da)return function(n,r){if(!T2(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ma(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ie(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZP(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:Cu(r.yt,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Cu(r.yt,i)}}if(n instanceof tg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zr)return{bytesValue:dD(r.yt,n._byteString)};if(n instanceof ze){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Xm(n)}`)}(t,e)}function x2(t,e){const n={};return LP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,(r,i)=>{const s=ma(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function O2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof tg||t instanceof Zr||t instanceof ze||t instanceof da)}function qE(t,e,n){if(!O2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Xm(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function gw(t,e,n){if((e=ie(e))instanceof Ds)return e._internalPath;if(typeof e=="string")return zE(t,e);throw Rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const l7=new RegExp("[~\\*/\\[\\]]");function zE(t,e,n){if(e.search(l7)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ds(...e.split("."))._internalPath}catch{throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(A.INVALID_ARGUMENT,a+t+u)}function N2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c7 extends ih{data(){return super.data()}}function ig(t,e){return typeof e=="string"?zE(t,e):e instanceof Ds?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WE{}class Hh extends WE{}function Vi(t,e,...n){let r=[];e instanceof WE&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof QE).length,o=i.filter(a=>a instanceof sg).length;if(s>1||s>0&&o>0)throw new L(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sg extends Hh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sg(e,n,r)}_apply(e){const n=this._parse(e);return P2(e._query,n),new Kt(e.firestore,e.converter,iw(e._query,n))}_parse(e){const n=pa(e.firestore);return function(i,s,o,a,u,l,c){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new L(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){ik(c,l);const f=[];for(const d of c)f.push(rk(a,i,d));h={arrayValue:{values:f}}}else h=rk(a,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||ik(c,l),h=C2(o,s,c,l==="in"||l==="not-in");return fe.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function h7(t,e,n){const r=e,i=ig("where",t);return sg._create(i,r,n)}class QE extends WE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Re.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)P2(s,a),s=iw(s,a)}(e._query,n),new Kt(e.firestore,e.converter,iw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HE extends Hh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HE(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new L(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new L(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ru(i,s);return function(a,u){if(iE(a)===null){const l=zm(a);l!==null&&D2(a,l,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new Kt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ri(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function f7(t,e="asc"){const n=e,r=ig("orderBy",t);return HE._create(r,n)}class og extends Hh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new og(e,n,r)}_apply(e){return new Kt(e.firestore,e.converter,_p(e._query,this._limit,this._limitType))}}function d7(t){return h2("limit",t),og._create("limit",t,"F")}function p7(t){return h2("limitToLast",t),og._create("limitToLast",t,"L")}class ag extends Hh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ag(e,n,r)}_apply(e){const n=R2(e,this.type,this._docOrFields,this._inclusive);return new Kt(e.firestore,e.converter,function(r,i){return new Ri(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function m7(...t){return ag._create("startAt",t,!0)}function g7(...t){return ag._create("startAfter",t,!1)}class ug extends Hh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ug(e,n,r)}_apply(e){const n=R2(e,this.type,this._docOrFields,this._inclusive);return new Kt(e.firestore,e.converter,function(r,i){return new Ri(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function y7(...t){return ug._create("endBefore",t,!1)}function v7(...t){return ug._create("endAt",t,!0)}function R2(t,e,n,r){if(n[0]=ie(n[0]),n[0]instanceof ih)return function(i,s,o,a,u){if(!a)throw new L(A.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const l=[];for(const c of Ro(i))if(c.field.isKeyField())l.push(zo(s,a.key));else{const h=a.data.field(c.field);if(nE(h))throw new L(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=c.field.canonicalString();throw new L(A.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}l.push(h)}return new Rs(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=pa(t.firestore);return function(s,o,a,u,l,c){const h=s.explicitOrderBy;if(l.length>h.length)throw new L(A.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let d=0;d<l.length;d++){const p=l[d];if(h[d].field.isKeyField()){if(typeof p!="string")throw new L(A.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!sE(s)&&p.indexOf("/")!==-1)throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(ye.fromString(p));if(!z.isDocumentKey(m))throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const b=new z(m);f.push(zo(o,b))}else{const m=C2(a,u,p);f.push(m)}}return new Rs(f,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function rk(t,e,n){if(typeof(n=ie(n))=="string"){if(n==="")throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sE(e)&&n.indexOf("/")!==-1)throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!z.isDocumentKey(r))throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zo(t,new z(r))}if(n instanceof ze)return zo(t,n._key);throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(n)}.`)}function ik(t,e){if(!Array.isArray(t)||t.length===0)throw new L(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new L(A.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function P2(t,e){if(e.isInequality()){const r=zm(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new L(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=iE(t);s!==null&&D2(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function D2(t,e,n){if(!n.isEqual(e))throw new L(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class GE{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){const r={};return fa(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tg(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=MP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);te(_D(r));const i=new Os(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(n)||ft(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class w7 extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends ih{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ig("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hc extends ki{data(e={}){return super.data(e)}}class Ls{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hc(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new hc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new hc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:b7(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}function L2(t,e){return t instanceof ki&&e instanceof ki?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ls&&e instanceof Ls&&t._firestore===e._firestore&&p2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){t=Se(t,ze);const e=Se(t.firestore,lt);return w2(Lt(e),t._key).then(n=>KE(e,t,n))}class ga extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}function S7(t){t=Se(t,ze);const e=Se(t.firestore,lt),n=Lt(e),r=new ga(e);return jz(n,t._key).then(i=>new ki(e,r,t._key,i,new _o(i!==null&&i.hasLocalMutations,!0),t.converter))}function _7(t){t=Se(t,ze);const e=Se(t.firestore,lt);return w2(Lt(e),t._key,{source:"server"}).then(n=>KE(e,t,n))}function I7(t){t=Se(t,Kt);const e=Se(t.firestore,lt),n=Lt(e),r=new ga(e);return A2(t._query),b2(n,t._query).then(i=>new Ls(e,r,t,i))}function T7(t){t=Se(t,Kt);const e=Se(t.firestore,lt),n=Lt(e),r=new ga(e);return Bz(n,t._query).then(i=>new Ls(e,r,t,i))}function k7(t){t=Se(t,Kt);const e=Se(t.firestore,lt),n=Lt(e),r=new ga(e);return b2(n,t._query,{source:"server"}).then(i=>new Ls(e,r,t,i))}function sk(t,e,n){t=Se(t,ze);const r=Se(t.firestore,lt),i=lg(t.converter,e,n);return Gh(r,[rg(pa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ke.none())])}function ok(t,e,n,...r){t=Se(t,ze);const i=Se(t.firestore,lt),s=pa(i);let o;return o=typeof(e=ie(e))=="string"||e instanceof Ds?BE(s,"updateDoc",t._key,e,n,r):jE(s,"updateDoc",t._key,e),Gh(i,[o.toMutation(t._key,Ke.exists(!0))])}function C7(t){return Gh(Se(t.firestore,lt),[new el(t._key,Ke.none())])}function x7(t,e){const n=Se(t.firestore,lt),r=Ap(t),i=lg(t.converter,e);return Gh(n,[rg(pa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function F2(t,...e){var n,r,i;t=ie(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||mw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(mw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(t instanceof ze)l=Se(t.firestore,lt),c=Xu(t._key.path),u={next:h=>{e[o]&&e[o](KE(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Se(t,Kt);l=Se(h.firestore,lt),c=h._query;const f=new ga(l);u={next:d=>{e[o]&&e[o](new Ls(l,f,h,d))},error:e[o+1],complete:e[o+2]},A2(t._query)}return function(h,f,d,p){const m=new Zm(p),b=new xE(f,m,d);return h.asyncQueue.enqueueAndForget(async()=>TE(await Ru(h),b)),()=>{m.bc(),h.asyncQueue.enqueueAndForget(async()=>kE(await Ru(h),b))}}(Lt(l),c,a,u)}function O7(t,e){return qz(Lt(t=Se(t,lt)),mw(e)?e:{next:e})}function Gh(t,e){return function(n,r){const i=new Nt;return n.asyncQueue.enqueueAndForget(async()=>mz(await UE(n),r,i)),i.promise}(Lt(t),e)}function KE(t,e,n){const r=n.docs.get(e._key),i=new ga(t);return new ki(t,i,e._key,r,new _o(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pa(e)}set(e,n,r){this._verifyNotCommitted();const i=es(e,this._firestore),s=lg(i.converter,n,r),o=rg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ke.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=es(e,this._firestore);let o;return o=typeof(n=ie(n))=="string"||n instanceof Ds?BE(this._dataReader,"WriteBatch.update",s._key,n,r,i):jE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ke.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=es(e,this._firestore);return this._mutations=this._mutations.concat(new el(n._key,Ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function es(t,e){if((t=ie(t)).firestore!==e)throw new L(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=pa(e)}get(e){const n=es(e,this._firestore),r=new w7(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return H();const s=i[0];if(s.isFoundDocument())return new ih(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ih(this._firestore,r,n._key,null,n.converter);throw H()})}set(e,n,r){const i=es(e,this._firestore),s=lg(i.converter,n,r),o=rg(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=es(e,this._firestore);let o;return o=typeof(n=ie(n))=="string"||n instanceof Ds?BE(this._dataReader,"Transaction.update",s._key,n,r,i):jE(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=es(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=es(e,this._firestore),r=new ga(this._firestore);return super.get(e).then(i=>new ki(this._firestore,r,n._key,i._document,new _o(!1,!1),n.converter))}}function P7(t,e,n){t=Se(t,lt);const r=Object.assign(Object.assign({},N7),n);return function(i){if(i.maxAttempts<1)throw new L(A.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Nt;return i.asyncQueue.enqueueAndForget(async()=>{const u=await $z(i);new Fz(i.asyncQueue,u,o,s,a).run()}),a.promise}(Lt(t),i=>e(new R7(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(){return new Qh("deleteField")}function L7(){return new VE("serverTimestamp")}function F7(...t){return new o7("arrayUnion",t)}function M7(...t){return new a7("arrayRemove",t)}function $7(t){return new u7("increment",t)}(function(t,e=!0){(function(n){Ju=n})(la),Cs(new Yr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new lt(new HB(n.getProvider("auth-internal")),new JB(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new L(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),zr(rT,"3.8.1",t),zr(rT,"3.8.1","esm2017")})();const U7="@firebase/firestore-compat",V7="0.3.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function uk(){if(!oq())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Pp=class{constructor(e){this._delegate=e}static fromBase64String(e){return uk(),new Pp(Zr.fromBase64String(e))}static fromUint8Array(e){return ak(),new Pp(Zr.fromUint8Array(e))}toBase64(){return uk(),this._delegate.toBase64()}toUint8Array(){return ak(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){return j7(t,["next","error","complete"])}function j7(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{enableIndexedDbPersistence(e,n){return Kz(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Yz(e._delegate)}clearIndexedDbPersistence(e){return Jz(e._delegate)}}class M2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Os||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Eu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Rz(this._delegate,e,n,r)}enableNetwork(){return Zz(this._delegate)}disableNetwork(){return e7(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,c2("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Xz(this._delegate)}onSnapshotsInSync(e){return O7(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pu(this,f2(this._delegate,e))}catch(n){throw ln(n,"collection()","Firestore.collection()")}}doc(e){try{return new er(this,Ap(this._delegate,e))}catch(n){throw ln(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new un(this,Pz(this._delegate,e))}catch(n){throw ln(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return P7(this._delegate,n=>e(new $2(this,n)))}batch(){return Lt(this._delegate),new U2(new A7(this._delegate,e=>Gh(this._delegate,e)))}loadBundle(e){return t7(this._delegate,e)}namedQuery(e){return n7(this._delegate,e).then(n=>n?new un(this,n):null)}}class cg extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pp(new Zr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return er.forKey(n,this.firestore,null)}}function q7(t){qB(t)}class $2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new cg(e)}get(e){const n=Io(e);return this._delegate.get(n).then(r=>new sh(this._firestore,new ki(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Io(e);return r?(YE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Io(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Io(e);return this._delegate.delete(n),this}}class U2{constructor(e){this._delegate=e}set(e,n,r){const i=Io(e);return r?(YE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Io(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Io(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Jo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new hc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oh(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Jo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Jo(e,new cg(e),n),i.set(n,s)),s}}Jo.INSTANCES=new WeakMap;class er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new cg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new er(n,new ze(n._delegate,r,new z(e)))}static forKey(e,n,r){return new er(n,new ze(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pu(this.firestore,f2(this._delegate,e))}catch(n){throw ln(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ie(e),e instanceof ze?d2(this._delegate,e):!1}set(e,n){n=YE("DocumentReference.set",n);try{return n?sk(this._delegate,e,n):sk(this._delegate,e)}catch(r){throw ln(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?ok(this._delegate,e):ok(this._delegate,e,n,...r)}catch(i){throw ln(i,"updateDoc()","DocumentReference.update()")}}delete(){return C7(this._delegate)}onSnapshot(...e){const n=V2(e),r=j2(e,i=>new sh(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return F2(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=S7(this._delegate):(e==null?void 0:e.source)==="server"?n=_7(this._delegate):n=E7(this._delegate),n.then(r=>new sh(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new er(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ln(t,e,n){return t.message=t.message.replace(e,n),t}function V2(t){for(const e of t)if(typeof e=="object"&&!yw(e))return e;return{}}function j2(t,e){var n,r;let i;return yw(t[0])?i=t[0]:yw(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class sh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new er(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return L2(this._delegate,e._delegate)}}class oh extends sh{data(e){const n=this._delegate.data(e);return zB(n!==void 0),n}}class un{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new cg(e)}where(e,n,r){try{return new un(this.firestore,Vi(this._delegate,h7(e,n,r)))}catch(i){throw ln(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new un(this.firestore,Vi(this._delegate,f7(e,n)))}catch(r){throw ln(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new un(this.firestore,Vi(this._delegate,d7(e)))}catch(n){throw ln(n,"limit()","Query.limit()")}}limitToLast(e){try{return new un(this.firestore,Vi(this._delegate,p7(e)))}catch(n){throw ln(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new un(this.firestore,Vi(this._delegate,m7(...e)))}catch(n){throw ln(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new un(this.firestore,Vi(this._delegate,g7(...e)))}catch(n){throw ln(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new un(this.firestore,Vi(this._delegate,y7(...e)))}catch(n){throw ln(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new un(this.firestore,Vi(this._delegate,v7(...e)))}catch(n){throw ln(n,"endAt()","Query.endAt()")}}isEqual(e){return p2(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=T7(this._delegate):(e==null?void 0:e.source)==="server"?n=k7(this._delegate):n=I7(this._delegate),n.then(r=>new vw(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=V2(e),r=j2(e,i=>new vw(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return F2(this._delegate,n,r)}withConverter(e){return new un(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class z7{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new oh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vw{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new un(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new oh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new z7(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new oh(this._firestore,r))})}isEqual(e){return L2(this._delegate,e._delegate)}}class Pu extends un{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new er(this.firestore,e):null}doc(e){try{return e===void 0?new er(this.firestore,Ap(this._delegate)):new er(this.firestore,Ap(this._delegate,e))}catch(n){throw ln(n,"doc()","CollectionReference.doc()")}}add(e){return x7(this._delegate,e).then(n=>new er(this.firestore,n))}isEqual(e){return d2(this._delegate,e._delegate)}withConverter(e){return new Pu(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Io(t){return Se(t,ze)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(...e){this._delegate=new Ds(...e)}static documentId(){return new JE(dt.keyField().canonicalString())}isEqual(e){return e=ie(e),e instanceof Ds?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._delegate=e}static serverTimestamp(){const e=L7();return e._methodName="FieldValue.serverTimestamp",new mo(e)}static delete(){const e=D7();return e._methodName="FieldValue.delete",new mo(e)}static arrayUnion(...e){const n=F7(...e);return n._methodName="FieldValue.arrayUnion",new mo(n)}static arrayRemove(...e){const n=M7(...e);return n._methodName="FieldValue.arrayRemove",new mo(n)}static increment(e){const n=$7(e);return n._methodName="FieldValue.increment",new mo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7={Firestore:M2,GeoPoint:tg,Timestamp:Ye,Blob:Pp,Transaction:$2,WriteBatch:U2,DocumentReference:er,DocumentSnapshot:sh,Query:un,QueryDocumentSnapshot:oh,QuerySnapshot:vw,CollectionReference:Pu,FieldPath:JE,FieldValue:mo,setLogLevel:q7,CACHE_SIZE_UNLIMITED:Gz};function Q7(t,e){t.INTERNAL.registerComponent(new Yr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},W7)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){Q7(t,(e,n)=>new M2(e,n,new B7)),t.registerVersion(U7,V7)}H7(Qs);const G7={apiKey:"AIzaSyC7df4AV5wSGFYNaCf5zKD0bWHB2soBzME",authDomain:"o-churrasco-e4e99.firebaseapp.com",projectId:"o-churrasco-e4e99",storageBucket:"o-churrasco-e4e99.appspot.com",messagingSenderId:"77605742025",appId:"1:77605742025:web:6fef65bcf497c6d469f418",measurementId:"G-HYJN6X0TW2"};Qs.initializeApp(G7);const ai=Qs.auth(),K7=new Qs.auth.GoogleAuthProvider,Y7=(t,e)=>{switch(e.type){case"LOGGED_IN_USER":return{...t,user:e.payload};default:return t}},J7={user:null},ni=S.createContext(),X7=({children:t})=>{const[e,n]=S.useReducer(Y7,J7);S.useEffect(()=>{const i=ai.onAuthStateChanged(async s=>{if(s){const o=await s.getIdTokenResult();console.log(o),n({type:"LOGGED_IN_USER",payload:{email:s.email,token:o.token}})}else n({type:"LOGGED_IN_USER",payload:null})});return()=>i()},[]);const r={state:e,dispatch:n};return v(ni.Provider,{value:r,children:t})};var ww={},Z7={get exports(){return ww},set exports(t){ww=t}},B2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=S;function eW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tW=typeof Object.is=="function"?Object.is:eW,nW=Du.useState,rW=Du.useEffect,iW=Du.useLayoutEffect,sW=Du.useDebugValue;function oW(t,e){var n=e(),r=nW({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return iW(function(){i.value=n,i.getSnapshot=e,Xy(i)&&s({inst:i})},[t,n,e]),rW(function(){return Xy(i)&&s({inst:i}),t(function(){Xy(i)&&s({inst:i})})},[t]),sW(n),n}function Xy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tW(t,n)}catch{return!0}}function aW(t,e){return e()}var uW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aW:oW;B2.useSyncExternalStore=Du.useSyncExternalStore!==void 0?Du.useSyncExternalStore:uW;(function(t){t.exports=B2})(Z7);var bw={},lW={get exports(){return bw},set exports(t){bw=t}},q2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=S,cW=ww;function hW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fW=typeof Object.is=="function"?Object.is:hW,dW=cW.useSyncExternalStore,pW=hg.useRef,mW=hg.useEffect,gW=hg.useMemo,yW=hg.useDebugValue;q2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=pW(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gW(function(){function u(d){if(!l){if(l=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return h=p}return h=d}if(p=h,fW(c,d))return p;var m=r(d);return i!==void 0&&i(p,m)?p:(c=d,h=m)}var l=!1,c,h,f=n===void 0?null:n;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,n,r,i]);var a=dW(t,s[0],s[1]);return mW(function(){o.hasValue=!0,o.value=a},[a]),yW(a),a};(function(t){t.exports=q2})(lW);function vW(t){t()}let z2=vW;const wW=t=>z2=t,bW=()=>z2,Fs=S.createContext(null);function W2(){return S.useContext(Fs)}const EW=()=>{throw new Error("uSES not initialized!")};let Q2=EW;const SW=t=>{Q2=t},_W=(t,e)=>t===e;function IW(t=Fs){const e=t===Fs?W2:()=>S.useContext(t);return function(r,i=_W){const{store:s,subscription:o,getServerState:a}=e(),u=Q2(o.addNestedSub,s.getState,a||s.getState,r,i);return S.useDebugValue(u),u}}const fg=IW();var Ew={},TW={get exports(){return Ew},set exports(t){Ew=t}},De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=typeof Symbol=="function"&&Symbol.for,XE=Ft?Symbol.for("react.element"):60103,ZE=Ft?Symbol.for("react.portal"):60106,dg=Ft?Symbol.for("react.fragment"):60107,pg=Ft?Symbol.for("react.strict_mode"):60108,mg=Ft?Symbol.for("react.profiler"):60114,gg=Ft?Symbol.for("react.provider"):60109,yg=Ft?Symbol.for("react.context"):60110,eS=Ft?Symbol.for("react.async_mode"):60111,vg=Ft?Symbol.for("react.concurrent_mode"):60111,wg=Ft?Symbol.for("react.forward_ref"):60112,bg=Ft?Symbol.for("react.suspense"):60113,kW=Ft?Symbol.for("react.suspense_list"):60120,Eg=Ft?Symbol.for("react.memo"):60115,Sg=Ft?Symbol.for("react.lazy"):60116,CW=Ft?Symbol.for("react.block"):60121,xW=Ft?Symbol.for("react.fundamental"):60117,OW=Ft?Symbol.for("react.responder"):60118,NW=Ft?Symbol.for("react.scope"):60119;function Wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XE:switch(t=t.type,t){case eS:case vg:case dg:case mg:case pg:case bg:return t;default:switch(t=t&&t.$$typeof,t){case yg:case wg:case Sg:case Eg:case gg:return t;default:return e}}case ZE:return e}}}function H2(t){return Wn(t)===vg}De.AsyncMode=eS;De.ConcurrentMode=vg;De.ContextConsumer=yg;De.ContextProvider=gg;De.Element=XE;De.ForwardRef=wg;De.Fragment=dg;De.Lazy=Sg;De.Memo=Eg;De.Portal=ZE;De.Profiler=mg;De.StrictMode=pg;De.Suspense=bg;De.isAsyncMode=function(t){return H2(t)||Wn(t)===eS};De.isConcurrentMode=H2;De.isContextConsumer=function(t){return Wn(t)===yg};De.isContextProvider=function(t){return Wn(t)===gg};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XE};De.isForwardRef=function(t){return Wn(t)===wg};De.isFragment=function(t){return Wn(t)===dg};De.isLazy=function(t){return Wn(t)===Sg};De.isMemo=function(t){return Wn(t)===Eg};De.isPortal=function(t){return Wn(t)===ZE};De.isProfiler=function(t){return Wn(t)===mg};De.isStrictMode=function(t){return Wn(t)===pg};De.isSuspense=function(t){return Wn(t)===bg};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dg||t===vg||t===mg||t===pg||t===bg||t===kW||typeof t=="object"&&t!==null&&(t.$$typeof===Sg||t.$$typeof===Eg||t.$$typeof===gg||t.$$typeof===yg||t.$$typeof===wg||t.$$typeof===xW||t.$$typeof===OW||t.$$typeof===NW||t.$$typeof===CW)};De.typeOf=Wn;(function(t){t.exports=De})(TW);var G2=Ew,AW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K2={};K2[G2.ForwardRef]=AW;K2[G2.Memo]=RW;var lk={},PW={get exports(){return lk},set exports(t){lk=t}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=Symbol.for("react.element"),nS=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),kg=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),DW=Symbol.for("react.server_context"),xg=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),Ag=Symbol.for("react.memo"),Rg=Symbol.for("react.lazy"),LW=Symbol.for("react.offscreen"),Y2;Y2=Symbol.for("react.module.reference");function ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tS:switch(t=t.type,t){case _g:case Tg:case Ig:case Og:case Ng:return t;default:switch(t=t&&t.$$typeof,t){case DW:case Cg:case xg:case Rg:case Ag:case kg:return t;default:return e}}case nS:return e}}}Le.ContextConsumer=Cg;Le.ContextProvider=kg;Le.Element=tS;Le.ForwardRef=xg;Le.Fragment=_g;Le.Lazy=Rg;Le.Memo=Ag;Le.Portal=nS;Le.Profiler=Tg;Le.StrictMode=Ig;Le.Suspense=Og;Le.SuspenseList=Ng;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return ar(t)===Cg};Le.isContextProvider=function(t){return ar(t)===kg};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tS};Le.isForwardRef=function(t){return ar(t)===xg};Le.isFragment=function(t){return ar(t)===_g};Le.isLazy=function(t){return ar(t)===Rg};Le.isMemo=function(t){return ar(t)===Ag};Le.isPortal=function(t){return ar(t)===nS};Le.isProfiler=function(t){return ar(t)===Tg};Le.isStrictMode=function(t){return ar(t)===Ig};Le.isSuspense=function(t){return ar(t)===Og};Le.isSuspenseList=function(t){return ar(t)===Ng};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_g||t===Tg||t===Ig||t===Og||t===Ng||t===LW||typeof t=="object"&&t!==null&&(t.$$typeof===Rg||t.$$typeof===Ag||t.$$typeof===kg||t.$$typeof===Cg||t.$$typeof===xg||t.$$typeof===Y2||t.getModuleId!==void 0)};Le.typeOf=ar;(function(t){t.exports=Le})(PW);function FW(){const t=bW();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const ck={notify(){},get:()=>[]};function MW(t,e){let n,r=ck;function i(h){return u(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function u(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=FW())}function l(){n&&(n(),n=void 0,r.clear(),r=ck)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const $W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UW=$W?S.useLayoutEffect:S.useEffect;function VW({store:t,context:e,children:n,serverState:r}){const i=S.useMemo(()=>{const a=MW(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=S.useMemo(()=>t.getState(),[t]);UW(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Fs;return ke.createElement(o.Provider,{value:i},n)}function J2(t=Fs){const e=t===Fs?W2:()=>S.useContext(t);return function(){const{store:r}=e();return r}}const jW=J2();function BW(t=Fs){const e=t===Fs?jW:J2(t);return function(){return e().dispatch}}const qW=BW();SW(bw.useSyncExternalStoreWithSelector);wW(Ad.unstable_batchedUpdates);function mr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ms(t){return!!t&&!!t[We]}function Ci(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===XW}(t)||Array.isArray(t)||!!t[yk]||!!(!((e=t.constructor)===null||e===void 0)&&e[yk])||rS(t)||iS(t))}function Xo(t,e,n){n===void 0&&(n=!1),sl(t)===0?(n?Object.keys:ou)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function sl(t){var e=t[We];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:rS(t)?2:iS(t)?3:0}function su(t,e){return sl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zW(t,e){return sl(t)===2?t.get(e):t[e]}function X2(t,e,n){var r=sl(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Z2(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function rS(t){return YW&&t instanceof Map}function iS(t){return JW&&t instanceof Set}function ao(t){return t.o||t.t}function sS(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=tL(t);delete e[We];for(var n=ou(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function oS(t,e){return e===void 0&&(e=!1),aS(t)||Ms(t)||!Ci(t)||(sl(t)>1&&(t.set=t.add=t.clear=t.delete=WW),Object.freeze(t),e&&Xo(t,function(n,r){return oS(r,!0)},!0)),t}function WW(){mr(2)}function aS(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Gr(t){var e=Tw[t];return e||mr(18,t),e}function QW(t,e){Tw[t]||(Tw[t]=e)}function Sw(){return ah}function Zy(t,e){e&&(Gr("Patches"),t.u=[],t.s=[],t.v=e)}function Dp(t){_w(t),t.p.forEach(HW),t.p=null}function _w(t){t===ah&&(ah=t.l)}function hk(t){return ah={p:[],l:ah,h:t,m:!0,_:0}}function HW(t){var e=t[We];e.i===0||e.i===1?e.j():e.O=!0}function ev(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Gr("ES5").S(e,t,r),r?(n[We].P&&(Dp(e),mr(4)),Ci(t)&&(t=Lp(e,t),e.l||Fp(e,t)),e.u&&Gr("Patches").M(n[We].t,t,e.u,e.s)):t=Lp(e,n,[]),Dp(e),e.u&&e.v(e.u,e.s),t!==eL?t:void 0}function Lp(t,e,n){if(aS(e))return e;var r=e[We];if(!r)return Xo(e,function(a,u){return fk(t,r,e,a,u,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Fp(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=sS(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Xo(s,function(a,u){return fk(t,r,i,a,u,n,o)}),Fp(t,i,!1),n&&t.u&&Gr("Patches").N(r,n,t.u,t.s)}return r.o}function fk(t,e,n,r,i,s,o){if(Ms(i)){var a=Lp(t,i,s&&e&&e.i!==3&&!su(e.R,r)?s.concat(r):void 0);if(X2(n,r,a),!Ms(a))return;t.m=!1}else o&&n.add(i);if(Ci(i)&&!aS(i)){if(!t.h.D&&t._<1)return;Lp(t,i),e&&e.A.l||Fp(t,i)}}function Fp(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&oS(e,n)}function tv(t,e){var n=t[We];return(n?ao(n):t)[e]}function dk(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ts(t){t.P||(t.P=!0,t.l&&ts(t.l))}function nv(t){t.o||(t.o=sS(t.t))}function Iw(t,e,n){var r=rS(e)?Gr("MapSet").F(e,n):iS(e)?Gr("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Sw(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=uh;o&&(u=[a],l=ql);var c=Proxy.revocable(u,l),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):Gr("ES5").J(e,n);return(n?n.A:Sw()).p.push(r),r}function GW(t){return Ms(t)||mr(22,t),function e(n){if(!Ci(n))return n;var r,i=n[We],s=sl(n);if(i){if(!i.P&&(i.i<4||!Gr("ES5").K(i)))return i.t;i.I=!0,r=pk(n,s),i.I=!1}else r=pk(n,s);return Xo(r,function(o,a){i&&zW(i.t,o)===a||X2(r,o,e(a))}),s===3?new Set(r):r}(t)}function pk(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return sS(t)}function KW(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[We];return uh.get(u,s)},set:function(u){var l=this[We];uh.set(l,s,u)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][We];if(!a.P)switch(a.i){case 5:r(a)&&ts(a);break;case 4:n(a)&&ts(a)}}}function n(s){for(var o=s.t,a=s.k,u=ou(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==We){var h=o[c];if(h===void 0&&!su(o,c))return!0;var f=a[c],d=f&&f[We];if(d?d.t!==h:!Z2(f,h))return!0}}var p=!!o[We];return u.length!==ou(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};QW("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,h){if(c){for(var f=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(f,""+d,t(d,!0));return f}var p=tL(h);delete p[We];for(var m=ou(p),b=0;b<m.length;b++){var g=m[b];p[g]=t(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(h),p)}(a,s),l={i:a?5:4,A:o?o.A:Sw(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,We,{value:l,writable:!0}),u},S:function(s,o,a){a?Ms(o)&&o[We].A===s&&e(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[We];if(c){var h=c.t,f=c.k,d=c.R,p=c.i;if(p===4)Xo(f,function(w){w!==We&&(h[w]!==void 0||su(h,w)?d[w]||u(f[w]):(d[w]=!0,ts(c)))}),Xo(h,function(w){f[w]!==void 0||su(f,w)||(d[w]=!1,ts(c))});else if(p===5){if(r(c)&&(ts(c),d.length=!0),f.length<h.length)for(var m=f.length;m<h.length;m++)d[m]=!1;else for(var b=h.length;b<f.length;b++)d[b]=!0;for(var g=Math.min(f.length,h.length),y=0;y<g;y++)f.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&u(f[y])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var mk,ah,uS=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",YW=typeof Map<"u",JW=typeof Set<"u",gk=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",eL=uS?Symbol.for("immer-nothing"):((mk={})["immer-nothing"]=!0,mk),yk=uS?Symbol.for("immer-draftable"):"__$immer_draftable",We=uS?Symbol.for("immer-state"):"__$immer_state",XW=""+Object.prototype.constructor,ou=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,tL=Object.getOwnPropertyDescriptors||function(t){var e={};return ou(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Tw={},uh={get:function(t,e){if(e===We)return t;var n=ao(t);if(!su(n,e))return function(i,s,o){var a,u=dk(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Ci(r)?r:r===tv(t.t,e)?(nv(t),t.o[e]=Iw(t.A.h,r,t)):r},has:function(t,e){return e in ao(t)},ownKeys:function(t){return Reflect.ownKeys(ao(t))},set:function(t,e,n){var r=dk(ao(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=tv(ao(t),e),s=i==null?void 0:i[We];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Z2(n,i)&&(n!==void 0||su(t.t,e)))return!0;nv(t),ts(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return tv(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,nv(t),ts(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ao(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){mr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){mr(12)}},ql={};Xo(uh,function(t,e){ql[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ql.deleteProperty=function(t,e){return ql.set.call(this,t,e,void 0)},ql.set=function(t,e,n){return uh.set.call(this,t[0],e,n,t[0])};var ZW=function(){function t(n){var r=this;this.g=gk,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var b=this;m===void 0&&(m=a);for(var g=arguments.length,y=Array(g>1?g-1:0),w=1;w<g;w++)y[w-1]=arguments[w];return u.produce(m,function(E){var _;return(_=s).call.apply(_,[b,E].concat(y))})}}var l;if(typeof s!="function"&&mr(6),o!==void 0&&typeof o!="function"&&mr(7),Ci(i)){var c=hk(r),h=Iw(r,i,void 0),f=!0;try{l=s(h),f=!1}finally{f?Dp(c):_w(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return Zy(c,o),ev(m,c)},function(m){throw Dp(c),m}):(Zy(c,o),ev(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===eL&&(l=void 0),r.D&&oS(l,!0),o){var d=[],p=[];Gr("Patches").M(i,l,d,p),o(d,p)}return l}mr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(h))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ci(n)||mr(8),Ms(n)&&(n=GW(n));var r=hk(this),i=Iw(this,n,void 0);return i[We].C=!0,_w(r),i},e.finishDraft=function(n,r){var i=n&&n[We],s=i.A;return Zy(s,r),ev(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!gk&&mr(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Gr("Patches").$;return Ms(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Bn=new ZW,nL=Bn.produce;Bn.produceWithPatches.bind(Bn);Bn.setAutoFreeze.bind(Bn);Bn.setUseProxies.bind(Bn);Bn.applyPatches.bind(Bn);Bn.createDraft.bind(Bn);Bn.finishDraft.bind(Bn);function wr(t){return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(t)}function eQ(t,e){if(wr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rL(t){var e=eQ(t,"string");return wr(e)==="symbol"?e:String(e)}function ri(t,e,n){return e=rL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var bk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),rv=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mp={INIT:"@@redux/INIT"+rv(),REPLACE:"@@redux/REPLACE"+rv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+rv()}};function tQ(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function iL(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zt(1));return n(iL)(t,e)}if(typeof t!="function")throw new Error(Zt(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Zt(3));return s}function h(m){if(typeof m!="function")throw new Error(Zt(4));if(u)throw new Error(Zt(5));var b=!0;return l(),a.push(m),function(){if(b){if(u)throw new Error(Zt(6));b=!1,l();var y=a.indexOf(m);a.splice(y,1),o=null}}}function f(m){if(!tQ(m))throw new Error(Zt(7));if(typeof m.type>"u")throw new Error(Zt(8));if(u)throw new Error(Zt(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var b=o=a,g=0;g<b.length;g++){var y=b[g];y()}return m}function d(m){if(typeof m!="function")throw new Error(Zt(10));i=m,f({type:Mp.REPLACE})}function p(){var m,b=h;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Zt(11));function w(){y.next&&y.next(c())}w();var E=b(w);return{unsubscribe:E}}},m[bk]=function(){return this},m}return f({type:Mp.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[bk]=p,r}function nQ(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Mp.INIT});if(typeof r>"u")throw new Error(Zt(12));if(typeof n(void 0,{type:Mp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function rQ(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{nQ(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],p=n[d],m=u[d],b=p(m,l);if(typeof b>"u")throw l&&l.type,new Error(Zt(14));h[d]=b,c=c||b!==m}return c=c||s.length!==Object.keys(u).length,c?h:u}}function $p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function iQ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Zt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=$p.apply(void 0,a)(i.dispatch),wk(wk({},i),{},{dispatch:s})}}}function sL(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var oL=sL();oL.withExtraArgument=sL;const Ek=oL;var sQ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oQ=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Up=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},aQ=Object.defineProperty,uQ=Object.defineProperties,lQ=Object.getOwnPropertyDescriptors,Sk=Object.getOwnPropertySymbols,cQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,_k=function(t,e,n){return e in t?aQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ws=function(t,e){for(var n in e||(e={}))cQ.call(e,n)&&_k(t,n,e[n]);if(Sk)for(var r=0,i=Sk(e);r<i.length;r++){var n=i[r];hQ.call(e,n)&&_k(t,n,e[n])}return t},iv=function(t,e){return uQ(t,lQ(e))},fQ=function(t,e,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(t,e)).next())})},dQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$p:$p.apply(null,arguments)};function pQ(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var mQ=function(t){sQ(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Up([void 0],n[0].concat(this)))):new(e.bind.apply(e,Up([void 0],n.concat(this))))},e}(Array);function kw(t){return Ci(t)?nL(t,function(){}):t}function gQ(t){return typeof t=="boolean"}function yQ(){return function(e){return vQ(e)}}function vQ(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new mQ;return n&&(gQ(n)?r.push(Ek):r.push(Ek.withExtraArgument(n.extraArgument))),r}var wQ=!0;function bQ(t){var e=yQ(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,h=n.enhancers,f=h===void 0?void 0:h,d;if(typeof i=="function")d=i;else if(pQ(i))d=rQ(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var m=iQ.apply(void 0,p),b=$p;u&&(b=dQ(ws({trace:!wQ},typeof u=="object"&&u)));var g=[m];Array.isArray(f)?g=Up([m],f):typeof f=="function"&&(g=f(g));var y=b.apply(void 0,g);return iL(d,c,y)}function bs(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return ws(ws({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function aL(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function EQ(t){return typeof t=="function"}function SQ(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?aL(e):[e,n,r],s=i[0],o=i[1],a=i[2],u;if(EQ(t))u=function(){return kw(t())};else{var l=kw(t);u=function(){return l}}function c(h,f){h===void 0&&(h=u());var d=Up([s[f.type]],o.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return d.filter(function(p){return!!p}).length===0&&(d=[a]),d.reduce(function(p,m){if(m)if(Ms(p)){var b=p,g=m(b,f);return g===void 0?p:g}else{if(Ci(p))return nL(p,function(y){return m(y,f)});var g=m(p,f);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},h)}return c.getInitialState=u,c}function _Q(t,e){return t+"/"+e}function lS(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof Is<"u";var n=typeof t.initialState=="function"?t.initialState:kw(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=_Q(e,c),d,p;"reducer"in h?(d=h.reducer,p=h.prepare):d=h,s[c]=d,o[f]=d,a[c]=p?bs(f,p):bs(f)});function u(){var c=typeof t.extraReducers=="function"?aL(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,d=c[1],p=d===void 0?[]:d,m=c[2],b=m===void 0?void 0:m,g=ws(ws({},f),o);return SQ(n,function(y){for(var w in g)y.addCase(w,g[w]);for(var E=0,_=p;E<_.length;E++){var T=_[E];y.addMatcher(T.matcher,T.reducer)}b&&y.addDefaultCase(b)})}var l;return{name:e,reducer:function(c,h){return l||(l=u()),l(c,h)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var IQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TQ=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=IQ[Math.random()*64|0];return e},kQ=["name","message","stack","code"],sv=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Ik=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),CQ=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=kQ;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=bs(e+"/fulfilled",function(l,c,h,f){return{payload:l,meta:iv(ws({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=bs(e+"/pending",function(l,c,h){return{payload:void 0,meta:iv(ws({},h||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=bs(e+"/rejected",function(l,c,h,f,d){return{payload:f,error:(r&&r.serializeError||CQ)(l||"Rejected"),meta:iv(ws({},d||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,h,f){var d=r!=null&&r.idGenerator?r.idGenerator(l):TQ(),p=new a,m;function b(y){m=y,p.abort()}var g=function(){return fQ(this,null,function(){var y,w,E,_,T,k,x;return oQ(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),_=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:h,extra:f}),OQ(_)?[4,_]:[3,2];case 1:_=M.sent(),M.label=2;case 2:if(_===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(C,oe){return p.signal.addEventListener("abort",function(){return oe({name:"AbortError",message:m||"Aborted"})})}),c(s(d,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:d,arg:l},{getState:h,extra:f}))),[4,Promise.race([T,Promise.resolve(n(l,{dispatch:c,getState:h,extra:f,requestId:d,signal:p.signal,abort:b,rejectWithValue:function(C,oe){return new sv(C,oe)},fulfillWithValue:function(C,oe){return new Ik(C,oe)}})).then(function(C){if(C instanceof sv)throw C;return C instanceof Ik?i(C.payload,d,l,C.meta):i(C,d,l)})])];case 3:return E=M.sent(),[3,5];case 4:return k=M.sent(),E=k instanceof sv?o(null,d,l,k.payload,k.meta):o(k,d,l),[3,5];case 5:return x=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,x||c(E),[2,E]}})})}();return Object.assign(g,{abort:b,requestId:d,arg:l,unwrap:function(){return g.then(xQ)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function xQ(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function OQ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var cS="listenerMiddleware";bs(cS+"/add");bs(cS+"/removeAll");bs(cS+"/remove");var Tk;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof pt<"u"?pt:globalThis);KW();const NQ=()=>{const t=localStorage.getItem("theme");return["lightTheme","darkTheme"].includes(t)?t:window.matchMedia("(prefers-color-scheme: light)").matches?"lightTheme":"darkTheme"},AQ=NQ(),RQ=lS({name:"theme",initialState:AQ,reducers:{setTheme:(t,e)=>e.payload}}),PQ=RQ.reducer,DQ=()=>"myAppPath",LQ=DQ(),uL=lS({name:"app",initialState:LQ,reducers:{setAppPath:(t,e)=>e.payload}}),{setAppPath:FQ}=uL.actions,MQ=uL.reducer,$Q=()=>"100px",UQ=$Q(),VQ=lS({name:"headerHeight",initialState:UQ,reducers:{setHeaderHeight:(t,e)=>e.payload}}),jQ=VQ.reducer,BQ=bQ({reducer:{theme:PQ,appPath:MQ,headerHeight:jQ}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cw=function(){return Cw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Cw.apply(this,arguments)},xw,qQ=function(t){var e;t?function(n){if(n)for(;n.lastChild;)n.lastChild.remove()}(typeof t=="string"?document.getElementById(t):t):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},zQ=function(t,e){qQ(e),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+t);n&&n.remove(),function(){var r=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');r&&r.remove()}()},WQ=function(t){var e=t.render,n=t.onLoadCallbackName,r=t.language,i=t.onLoad,s=t.useRecaptchaNet,o=t.useEnterprise,a=t.scriptProps,u=a===void 0?{}:a,l=u.nonce,c=l===void 0?"":l,h=u.defer,f=h!==void 0&&h,d=u.async,p=d!==void 0&&d,m=u.id,b=m===void 0?"":m,g=u.appendTo,y=b||"google-recaptcha-v3";if(function(_){return!!document.querySelector("#"+_)}(y))i();else{var w=function(_){return"https://www."+(_.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(_.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:o,useRecaptchaNet:s}),E=document.createElement("script");E.id=y,E.src=w+"?render="+e+(e==="explicit"?"&onload="+n:"")+(r?"&hl="+r:""),c&&(E.nonce=c),E.defer=!!f,E.async=!!p,E.onload=i,(g==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(E)}},ov=function(t){typeof Is<"u"&&Is.env&&!1||console.warn(t)};(function(t){t.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(xw||(xw={}));var hS=S.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});hS.Consumer;function QQ(t){var e=t.reCaptchaKey,n=t.useEnterprise,r=n!==void 0&&n,i=t.useRecaptchaNet,s=i!==void 0&&i,o=t.scriptProps,a=t.language,u=t.container,l=t.children,c=S.useState(null),h=c[0],f=c[1],d=S.useRef(e),p=JSON.stringify(o),m=JSON.stringify(u==null?void 0:u.parameters);S.useEffect(function(){if(e){var y=(o==null?void 0:o.id)||"google-recaptcha-v3",w=(o==null?void 0:o.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[w]=function(){var E=r?window.grecaptcha.enterprise:window.grecaptcha,_=Cw({badge:"inline",size:"invisible",sitekey:e},(u==null?void 0:u.parameters)||{});d.current=E.render(u==null?void 0:u.element,_)},WQ({render:u!=null&&u.element?"explicit":e,onLoadCallbackName:w,useEnterprise:r,useRecaptchaNet:s,scriptProps:o,language:a,onLoad:function(){if(window&&window.grecaptcha){var E=r?window.grecaptcha.enterprise:window.grecaptcha;E.ready(function(){f(E)})}else ov("<GoogleRecaptchaProvider /> "+xw.SCRIPT_NOT_AVAILABLE)},onError:function(){ov("Error loading google recaptcha script")}}),function(){zQ(y,u==null?void 0:u.element)}}ov("<GoogleReCaptchaProvider /> recaptcha key not provided")},[r,s,p,m,a,e,u==null?void 0:u.element]);var b=S.useCallback(function(y){if(!h||!h.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return h.execute(d.current,{action:y})},[h,d]),g=S.useMemo(function(){return{executeRecaptcha:h?b:void 0,container:u==null?void 0:u.element}},[b,h,u==null?void 0:u.element]);return ke.createElement(hS.Provider,{value:g},l)}var HQ=function(){return S.useContext(hS)};function lL(t,e){return t(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var Mt=typeof Symbol=="function"&&Symbol.for,Ow=Mt?Symbol.for("react.element"):60103,Nw=Mt?Symbol.for("react.portal"):60106,od=Mt?Symbol.for("react.fragment"):60107,ad=Mt?Symbol.for("react.strict_mode"):60108,ud=Mt?Symbol.for("react.profiler"):60114,ld=Mt?Symbol.for("react.provider"):60109,cd=Mt?Symbol.for("react.context"):60110,Aw=Mt?Symbol.for("react.async_mode"):60111,Vp=Mt?Symbol.for("react.concurrent_mode"):60111,hd=Mt?Symbol.for("react.forward_ref"):60112,fd=Mt?Symbol.for("react.suspense"):60113,GQ=Mt?Symbol.for("react.suspense_list"):60120,dd=Mt?Symbol.for("react.memo"):60115,pd=Mt?Symbol.for("react.lazy"):60116,KQ=Mt?Symbol.for("react.block"):60121,YQ=Mt?Symbol.for("react.fundamental"):60117,JQ=Mt?Symbol.for("react.responder"):60118,XQ=Mt?Symbol.for("react.scope"):60119;function An(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ow:switch(t=t.type){case Aw:case Vp:case od:case ud:case ad:case fd:return t;default:switch(t=t&&t.$$typeof){case cd:case hd:case pd:case dd:case ld:return t;default:return e}}case Nw:return e}}}function kk(t){return An(t)===Vp}var ZQ={AsyncMode:Aw,ConcurrentMode:Vp,ContextConsumer:cd,ContextProvider:ld,Element:Ow,ForwardRef:hd,Fragment:od,Lazy:pd,Memo:dd,Portal:Nw,Profiler:ud,StrictMode:ad,Suspense:fd,isAsyncMode:function(t){return kk(t)||An(t)===Aw},isConcurrentMode:kk,isContextConsumer:function(t){return An(t)===cd},isContextProvider:function(t){return An(t)===ld},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ow},isForwardRef:function(t){return An(t)===hd},isFragment:function(t){return An(t)===od},isLazy:function(t){return An(t)===pd},isMemo:function(t){return An(t)===dd},isPortal:function(t){return An(t)===Nw},isProfiler:function(t){return An(t)===ud},isStrictMode:function(t){return An(t)===ad},isSuspense:function(t){return An(t)===fd},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===od||t===Vp||t===ud||t===ad||t===fd||t===GQ||typeof t=="object"&&t!==null&&(t.$$typeof===pd||t.$$typeof===dd||t.$$typeof===ld||t.$$typeof===cd||t.$$typeof===hd||t.$$typeof===YQ||t.$$typeof===JQ||t.$$typeof===XQ||t.$$typeof===KQ)},typeOf:An},Fe=lL(function(t,e){}),Ck=(Fe.AsyncMode,Fe.ConcurrentMode,Fe.ContextConsumer,Fe.ContextProvider,Fe.Element,Fe.ForwardRef,Fe.Fragment,Fe.Lazy,Fe.Memo,Fe.Portal,Fe.Profiler,Fe.StrictMode,Fe.Suspense,Fe.isAsyncMode,Fe.isConcurrentMode,Fe.isContextConsumer,Fe.isContextProvider,Fe.isElement,Fe.isForwardRef,Fe.isFragment,Fe.isLazy,Fe.isMemo,Fe.isPortal,Fe.isProfiler,Fe.isStrictMode,Fe.isSuspense,Fe.isValidElementType,Fe.typeOf,lL(function(t){t.exports=ZQ})),eH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xk={};xk[Ck.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xk[Ck.Memo]=eH;var av="Invariant Violation",Ok=Object.setPrototypeOf,tH=Ok===void 0?function(t,e){return t.__proto__=e,t}:Ok,Oe=function(t){or(e,t);function e(n){n===void 0&&(n=av);var r=t.call(this,typeof n=="number"?av+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=av,tH(r,e.prototype),r}return e}(Error);function V(t,e){if(!t)throw new Oe(e)}var cL=["debug","log","warn","error","silent"],nH=cL.indexOf("log");function Of(t){return function(){if(cL.indexOf(t)>=nH){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=Of("debug"),t.log=Of("log"),t.warn=Of("warn"),t.error=Of("error")})(V||(V={}));function Jn(t){try{return t()}catch{}}const Nk=Jn(function(){return globalThis})||Jn(function(){return window})||Jn(function(){return self})||Jn(function(){return pt})||Jn(function(){return Jn.constructor("return this")()});var Ak="__",Rk=[Ak,Ak].join("DEV");function rH(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(Nk,Rk,{value:Jn(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),Nk[Rk]}}const uv=rH();function Yi(t){try{return t()}catch{}}var Rw=Yi(function(){return globalThis})||Yi(function(){return window})||Yi(function(){return self})||Yi(function(){return pt})||Yi(function(){return Yi.constructor("return this")()}),Pw=!1;function iH(){Rw&&!Yi(function(){return"production"})&&!Yi(function(){return Is})&&(Object.defineProperty(Rw,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Pw=!0)}iH();function Pk(){Pw&&(delete Rw.process,Pw=!1)}function md(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?md=function(n){return typeof n}:md=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},md(t)}function sH(t){return md(t)=="object"&&t!==null}var hL=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function Dw(t,e){for(var n=/\r\n|[\n\r]/g,r=1,i=e+1,s;(s=n.exec(t.body))&&s.index<e;)r+=1,i=e+1-(s.index+s[0].length);return{line:r,column:i}}function oH(t){return fL(t.source,Dw(t.source,t.start))}function fL(t,e){var n=t.locationOffset.column-1,r=gd(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?n:0,u=e.column+a,l="".concat(t.name,":").concat(o,":").concat(u,`
`),c=r.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){for(var f=Math.floor(u/80),d=u%80,p=[],m=0;m<h.length;m+=80)p.push(h.slice(m,m+80));return l+Dk([["".concat(o),p[0]]].concat(p.slice(1,f+1).map(function(b){return["",b]}),[[" ",gd(d-1)+"^"],["",p[f+1]]]))}return l+Dk([["".concat(o-1),c[i-1]],["".concat(o),h],["",gd(u-1)+"^"],["".concat(o+1),c[i+1]]])}function Dk(t){var e=t.filter(function(r){r[0];var i=r[1];return i!==void 0}),n=Math.max.apply(Math,e.map(function(r){var i=r[0];return i.length}));return e.map(function(r){var i=r[0],s=r[1];return aH(n,i)+(s?" | "+s:" |")}).join(`
`)}function gd(t){return Array(t+1).join(" ")}function aH(t,e){return gd(t-e.length)+e}function yd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(n){return typeof n}:yd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yd(t)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){lH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hH(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),t}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lh(t,e)}function dH(t){var e=pL();return function(){var r=ch(t),i;if(e){var s=ch(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return dL(this,i)}}function dL(t,e){return e&&(yd(e)==="object"||typeof e=="function")?e:zl(t)}function zl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lw(t){var e=typeof Map=="function"?new Map:void 0;return Lw=function(r){if(r===null||!pH(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return vd(r,arguments,ch(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),lh(i,r)},Lw(t)}function vd(t,e,n){return pL()?vd=Reflect.construct:vd=function(i,s,o){var a=[null];a.push.apply(a,s);var u=Function.bind.apply(i,a),l=new u;return o&&lh(l,o.prototype),l},vd.apply(null,arguments)}function pL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function pH(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function lh(t,e){return lh=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lh(t,e)}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(t)}var mH=function(t){fH(n,t);var e=dH(n);function n(r,i,s,o,a,u,l){var c,h,f,d;cH(this,n),d=e.call(this,r),d.name="GraphQLError",d.originalError=u??void 0,d.nodes=Mk(Array.isArray(i)?i:i?[i]:void 0);for(var p=[],m=0,b=(g=d.nodes)!==null&&g!==void 0?g:[];m<b.length;m++){var g,y=b[m],w=y.loc;w!=null&&p.push(w)}p=Mk(p),d.source=s??((c=p)===null||c===void 0?void 0:c[0].source),d.positions=o??((h=p)===null||h===void 0?void 0:h.map(function(_){return _.start})),d.locations=o&&s?o.map(function(_){return Dw(s,_)}):(f=p)===null||f===void 0?void 0:f.map(function(_){return Dw(_.source,_.start)}),d.path=a??void 0;var E=u==null?void 0:u.extensions;return l==null&&sH(E)?d.extensions=uH({},E):d.extensions=l??{},Object.defineProperties(zl(d),{message:{enumerable:!0},locations:{enumerable:d.locations!=null},path:{enumerable:d.path!=null},extensions:{enumerable:d.extensions!=null&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?(Object.defineProperty(zl(d),"stack",{value:u.stack,writable:!0,configurable:!0}),dL(d)):(Error.captureStackTrace?Error.captureStackTrace(zl(d),n):Object.defineProperty(zl(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return hH(n,[{key:"toString",value:function(){return gH(this)}},{key:hL,get:function(){return"Object"}}]),n}(Lw(Error));function Mk(t){return t===void 0||t.length===0?void 0:t}function gH(t){var e=t.message;if(t.nodes)for(var n=0,r=t.nodes;n<r.length;n++){var i=r[n];i.loc&&(e+=`

`+oH(i.loc))}else if(t.source&&t.locations)for(var s=0,o=t.locations;s<o.length;s++){var a=o[s];e+=`

`+fL(t.source,a)}return e}function Mn(t,e,n){return new mH("Syntax Error: ".concat(n),void 0,t,[e])}var Z=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function yH(t,e){var n=Boolean(t);if(!n)throw new Error(e??"Unexpected invariant triggered.")}var vH=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const Fw=vH;function mL(t){var e=t.prototype.toJSON;typeof e=="function"||yH(0),t.prototype.inspect=e,Fw&&(t.prototype[Fw]=e)}var gL=function(){function t(n,r,i){this.start=n.start,this.end=r.end,this.startToken=n,this.endToken=r,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();mL(gL);var rt=function(){function t(n,r,i,s,o,a,u){this.kind=n,this.start=r,this.end=i,this.line=s,this.column=o,this.value=u,this.prev=a,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();mL(rt);function $k(t){return t!=null&&typeof t.kind=="string"}var D=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function wd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wd=function(n){return typeof n}:wd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wd(t)}var wH=10,yL=2;function vL(t){return Pg(t,[])}function Pg(t,e){switch(wd(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":bH(t,e);default:return String(t)}}function bH(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var n=[].concat(e,[t]),r=_H(t);if(r!==void 0){var i=r.call(t);if(i!==t)return typeof i=="string"?i:Pg(i,n)}else if(Array.isArray(t))return SH(t,n);return EH(t,n)}function EH(t,e){var n=Object.keys(t);if(n.length===0)return"{}";if(e.length>yL)return"["+IH(t)+"]";var r=n.map(function(i){var s=Pg(t[i],e);return i+": "+s});return"{ "+r.join(", ")+" }"}function SH(t,e){if(t.length===0)return"[]";if(e.length>yL)return"[Array]";for(var n=Math.min(wH,t.length),r=t.length-n,i=[],s=0;s<n;++s)i.push(Pg(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}function _H(t){var e=t[String(Fw)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function IH(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}function lv(t,e){var n=Boolean(t);if(!n)throw new Error(e)}const TH=function(e,n){return e instanceof n};function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kH(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),t}var fS=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||lv(0,"Body must be a string. Received: ".concat(vL(e),".")),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||lv(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||lv(0,"column in locationOffset is 1-indexed and must be positive.")}return kH(t,[{key:hL,get:function(){return"Source"}}]),t}();function CH(t){return TH(t,fS)}var xH=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function OH(t){var e=t.split(/\r\n|[\n\r]/g),n=NH(t);if(n!==0)for(var r=1;r<e.length;r++)e[r]=e[r].slice(n);for(var i=0;i<e.length&&Vk(e[i]);)++i;for(var s=e.length;s>i&&Vk(e[s-1]);)--s;return e.slice(i,s).join(`
`)}function Vk(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function NH(t){for(var e,n=!0,r=!0,i=0,s=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(s===null||i<s)&&(s=i),r=!1}return(e=s)!==null&&e!==void 0?e:0}function AH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",s=t[t.length-1]==='"',o=t[t.length-1]==="\\",a=!r||s||o||n,u="";return a&&!(r&&i)&&(u+=`
`+e),u+=e?t.replace(/\n/g,`
`+e):t,a&&(u+=`
`),'"""'+u.replace(/"""/g,'\\"""')+'"""'}var RH=function(){function t(n){var r=new rt(D.SOF,0,0,0,0,null);this.source=n,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var r=this.token=this.lookahead();return r},e.lookahead=function(){var r=this.token;if(r.kind!==D.EOF)do{var i;r=(i=r.next)!==null&&i!==void 0?i:r.next=DH(this,r)}while(r.kind===D.COMMENT);return r},t}();function PH(t){return t===D.BANG||t===D.DOLLAR||t===D.AMP||t===D.PAREN_L||t===D.PAREN_R||t===D.SPREAD||t===D.COLON||t===D.EQUALS||t===D.AT||t===D.BRACKET_L||t===D.BRACKET_R||t===D.BRACE_L||t===D.PIPE||t===D.BRACE_R}function Zo(t){return isNaN(t)?D.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function DH(t,e){for(var n=t.source,r=n.body,i=r.length,s=e.end;s<i;){var o=r.charCodeAt(s),a=t.line,u=1+s-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:r.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new rt(D.BANG,s,s+1,a,u,e);case 35:return FH(n,s,a,u,e);case 36:return new rt(D.DOLLAR,s,s+1,a,u,e);case 38:return new rt(D.AMP,s,s+1,a,u,e);case 40:return new rt(D.PAREN_L,s,s+1,a,u,e);case 41:return new rt(D.PAREN_R,s,s+1,a,u,e);case 46:if(r.charCodeAt(s+1)===46&&r.charCodeAt(s+2)===46)return new rt(D.SPREAD,s,s+3,a,u,e);break;case 58:return new rt(D.COLON,s,s+1,a,u,e);case 61:return new rt(D.EQUALS,s,s+1,a,u,e);case 64:return new rt(D.AT,s,s+1,a,u,e);case 91:return new rt(D.BRACKET_L,s,s+1,a,u,e);case 93:return new rt(D.BRACKET_R,s,s+1,a,u,e);case 123:return new rt(D.BRACE_L,s,s+1,a,u,e);case 124:return new rt(D.PIPE,s,s+1,a,u,e);case 125:return new rt(D.BRACE_R,s,s+1,a,u,e);case 34:return r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34?UH(n,s,a,u,e,t):$H(n,s,a,u,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return MH(n,s,o,a,u,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return jH(n,s,a,u,e)}throw Mn(n,s,LH(o))}var l=t.line,c=1+s-t.lineStart;return new rt(D.EOF,i,i,l,c,e)}function LH(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(Zo(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Zo(t),".")}function FH(t,e,n,r,i){var s=t.body,o,a=e;do o=s.charCodeAt(++a);while(!isNaN(o)&&(o>31||o===9));return new rt(D.COMMENT,e,a,n,r,i,s.slice(e+1,a))}function MH(t,e,n,r,i,s){var o=t.body,a=n,u=e,l=!1;if(a===45&&(a=o.charCodeAt(++u)),a===48){if(a=o.charCodeAt(++u),a>=48&&a<=57)throw Mn(t,u,"Invalid number, unexpected digit after 0: ".concat(Zo(a),"."))}else u=cv(t,u,a),a=o.charCodeAt(u);if(a===46&&(l=!0,a=o.charCodeAt(++u),u=cv(t,u,a),a=o.charCodeAt(u)),(a===69||a===101)&&(l=!0,a=o.charCodeAt(++u),(a===43||a===45)&&(a=o.charCodeAt(++u)),u=cv(t,u,a),a=o.charCodeAt(u)),a===46||BH(a))throw Mn(t,u,"Invalid number, expected digit but got: ".concat(Zo(a),"."));return new rt(l?D.FLOAT:D.INT,e,u,r,i,s,o.slice(e,u))}function cv(t,e,n){var r=t.body,i=e,s=n;if(s>=48&&s<=57){do s=r.charCodeAt(++i);while(s>=48&&s<=57);return i}throw Mn(t,i,"Invalid number, expected digit but got: ".concat(Zo(s),"."))}function $H(t,e,n,r,i){for(var s=t.body,o=e+1,a=o,u=0,l="";o<s.length&&!isNaN(u=s.charCodeAt(o))&&u!==10&&u!==13;){if(u===34)return l+=s.slice(a,o),new rt(D.STRING,e,o+1,n,r,i,l);if(u<32&&u!==9)throw Mn(t,o,"Invalid character within String: ".concat(Zo(u),"."));if(++o,u===92){switch(l+=s.slice(a,o-1),u=s.charCodeAt(o),u){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+=`
`;break;case 114:l+="\r";break;case 116:l+="	";break;case 117:{var c=VH(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(c<0){var h=s.slice(o+1,o+5);throw Mn(t,o,"Invalid character escape sequence: \\u".concat(h,"."))}l+=String.fromCharCode(c),o+=4;break}default:throw Mn(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}++o,a=o}}throw Mn(t,o,"Unterminated string.")}function UH(t,e,n,r,i,s){for(var o=t.body,a=e+3,u=a,l=0,c="";a<o.length&&!isNaN(l=o.charCodeAt(a));){if(l===34&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34)return c+=o.slice(u,a),new rt(D.BLOCK_STRING,e,a+3,n,r,i,OH(c));if(l<32&&l!==9&&l!==10&&l!==13)throw Mn(t,a,"Invalid character within String: ".concat(Zo(l),"."));l===10?(++a,++s.line,s.lineStart=a):l===13?(o.charCodeAt(a+1)===10?a+=2:++a,++s.line,s.lineStart=a):l===92&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34&&o.charCodeAt(a+3)===34?(c+=o.slice(u,a)+'"""',a+=4,u=a):++a}throw Mn(t,a,"Unterminated string.")}function VH(t,e,n,r){return Nf(t)<<12|Nf(e)<<8|Nf(n)<<4|Nf(r)}function Nf(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function jH(t,e,n,r,i){for(var s=t.body,o=s.length,a=e+1,u=0;a!==o&&!isNaN(u=s.charCodeAt(a))&&(u===95||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++a;return new rt(D.NAME,e,a,n,r,i,s.slice(e,a))}function BH(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function qH(t,e){var n=new zH(t,e);return n.parseDocument()}var zH=function(){function t(n,r){var i=CH(n)?n:new fS(n);this._lexer=new RH(i),this._options=r}var e=t.prototype;return e.parseName=function(){var r=this.expectToken(D.NAME);return{kind:Z.NAME,value:r.value,loc:this.loc(r)}},e.parseDocument=function(){var r=this._lexer.token;return{kind:Z.DOCUMENT,definitions:this.many(D.SOF,this.parseDefinition,D.EOF),loc:this.loc(r)}},e.parseDefinition=function(){if(this.peek(D.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(D.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var r=this._lexer.token;if(this.peek(D.BRACE_L))return{kind:Z.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(r)};var i=this.parseOperationType(),s;return this.peek(D.NAME)&&(s=this.parseName()),{kind:Z.OPERATION_DEFINITION,operation:i,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseOperationType=function(){var r=this.expectToken(D.NAME);switch(r.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(r)},e.parseVariableDefinitions=function(){return this.optionalMany(D.PAREN_L,this.parseVariableDefinition,D.PAREN_R)},e.parseVariableDefinition=function(){var r=this._lexer.token;return{kind:Z.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(D.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(D.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(r)}},e.parseVariable=function(){var r=this._lexer.token;return this.expectToken(D.DOLLAR),{kind:Z.VARIABLE,name:this.parseName(),loc:this.loc(r)}},e.parseSelectionSet=function(){var r=this._lexer.token;return{kind:Z.SELECTION_SET,selections:this.many(D.BRACE_L,this.parseSelection,D.BRACE_R),loc:this.loc(r)}},e.parseSelection=function(){return this.peek(D.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var r=this._lexer.token,i=this.parseName(),s,o;return this.expectOptionalToken(D.COLON)?(s=i,o=this.parseName()):o=i,{kind:Z.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(D.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},e.parseArguments=function(r){var i=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(D.PAREN_L,i,D.PAREN_R)},e.parseArgument=function(){var r=this._lexer.token,i=this.parseName();return this.expectToken(D.COLON),{kind:Z.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(r)}},e.parseConstArgument=function(){var r=this._lexer.token;return{kind:Z.ARGUMENT,name:this.parseName(),value:(this.expectToken(D.COLON),this.parseValueLiteral(!0)),loc:this.loc(r)}},e.parseFragment=function(){var r=this._lexer.token;this.expectToken(D.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(D.NAME)?{kind:Z.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(r)}:{kind:Z.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseFragmentDefinition=function(){var r,i=this._lexer.token;return this.expectKeyword("fragment"),((r=this._options)===null||r===void 0?void 0:r.experimentalFragmentVariables)===!0?{kind:Z.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:Z.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(r){var i=this._lexer.token;switch(i.kind){case D.BRACKET_L:return this.parseList(r);case D.BRACE_L:return this.parseObject(r);case D.INT:return this._lexer.advance(),{kind:Z.INT,value:i.value,loc:this.loc(i)};case D.FLOAT:return this._lexer.advance(),{kind:Z.FLOAT,value:i.value,loc:this.loc(i)};case D.STRING:case D.BLOCK_STRING:return this.parseStringLiteral();case D.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:Z.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:Z.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:Z.NULL,loc:this.loc(i)};default:return{kind:Z.ENUM,value:i.value,loc:this.loc(i)}}case D.DOLLAR:if(!r)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var r=this._lexer.token;return this._lexer.advance(),{kind:Z.STRING,value:r.value,block:r.kind===D.BLOCK_STRING,loc:this.loc(r)}},e.parseList=function(r){var i=this,s=this._lexer.token,o=function(){return i.parseValueLiteral(r)};return{kind:Z.LIST,values:this.any(D.BRACKET_L,o,D.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(r){var i=this,s=this._lexer.token,o=function(){return i.parseObjectField(r)};return{kind:Z.OBJECT,fields:this.any(D.BRACE_L,o,D.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(r){var i=this._lexer.token,s=this.parseName();return this.expectToken(D.COLON),{kind:Z.OBJECT_FIELD,name:s,value:this.parseValueLiteral(r),loc:this.loc(i)}},e.parseDirectives=function(r){for(var i=[];this.peek(D.AT);)i.push(this.parseDirective(r));return i},e.parseDirective=function(r){var i=this._lexer.token;return this.expectToken(D.AT),{kind:Z.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r),loc:this.loc(i)}},e.parseTypeReference=function(){var r=this._lexer.token,i;return this.expectOptionalToken(D.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(D.BRACKET_R),i={kind:Z.LIST_TYPE,type:i,loc:this.loc(r)}):i=this.parseNamedType(),this.expectOptionalToken(D.BANG)?{kind:Z.NON_NULL_TYPE,type:i,loc:this.loc(r)}:i},e.parseNamedType=function(){var r=this._lexer.token;return{kind:Z.NAMED_TYPE,name:this.parseName(),loc:this.loc(r)}},e.parseTypeSystemDefinition=function(){var r=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(r.kind===D.NAME)switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(r)},e.peekDescription=function(){return this.peek(D.STRING)||this.peek(D.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(D.BRACE_L,this.parseOperationTypeDefinition,D.BRACE_R);return{kind:Z.SCHEMA_DEFINITION,description:i,directives:s,operationTypes:o,loc:this.loc(r)}},e.parseOperationTypeDefinition=function(){var r=this._lexer.token,i=this.parseOperationType();this.expectToken(D.COLON);var s=this.parseNamedType();return{kind:Z.OPERATION_TYPE_DEFINITION,operation:i,type:s,loc:this.loc(r)}},e.parseScalarTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:Z.SCALAR_TYPE_DEFINITION,description:i,name:s,directives:o,loc:this.loc(r)}},e.parseObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:Z.OBJECT_TYPE_DEFINITION,description:i,name:s,interfaces:o,directives:a,fields:u,loc:this.loc(r)}},e.parseImplementsInterfaces=function(){var r;if(!this.expectOptionalKeyword("implements"))return[];if(((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(D.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(D.AMP)||this.peek(D.NAME));return i}return this.delimitedMany(D.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var r;return((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLEmptyFields)===!0&&this.peek(D.BRACE_L)&&this._lexer.lookahead().kind===D.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(D.BRACE_L,this.parseFieldDefinition,D.BRACE_R)},e.parseFieldDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(D.COLON);var a=this.parseTypeReference(),u=this.parseDirectives(!0);return{kind:Z.FIELD_DEFINITION,description:i,name:s,arguments:o,type:a,directives:u,loc:this.loc(r)}},e.parseArgumentDefs=function(){return this.optionalMany(D.PAREN_L,this.parseInputValueDef,D.PAREN_R)},e.parseInputValueDef=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName();this.expectToken(D.COLON);var o=this.parseTypeReference(),a;this.expectOptionalToken(D.EQUALS)&&(a=this.parseValueLiteral(!0));var u=this.parseDirectives(!0);return{kind:Z.INPUT_VALUE_DEFINITION,description:i,name:s,type:o,defaultValue:a,directives:u,loc:this.loc(r)}},e.parseInterfaceTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:Z.INTERFACE_TYPE_DEFINITION,description:i,name:s,interfaces:o,directives:a,fields:u,loc:this.loc(r)}},e.parseUnionTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();return{kind:Z.UNION_TYPE_DEFINITION,description:i,name:s,directives:o,types:a,loc:this.loc(r)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(D.EQUALS)?this.delimitedMany(D.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();return{kind:Z.ENUM_TYPE_DEFINITION,description:i,name:s,directives:o,values:a,loc:this.loc(r)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(D.BRACE_L,this.parseEnumValueDefinition,D.BRACE_R)},e.parseEnumValueDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:Z.ENUM_VALUE_DEFINITION,description:i,name:s,directives:o,loc:this.loc(r)}},e.parseInputObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();return{kind:Z.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:s,directives:o,fields:a,loc:this.loc(r)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(D.BRACE_L,this.parseInputValueDef,D.BRACE_R)},e.parseTypeSystemExtension=function(){var r=this._lexer.lookahead();if(r.kind===D.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)},e.parseSchemaExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),s=this.optionalMany(D.BRACE_L,this.parseOperationTypeDefinition,D.BRACE_R);if(i.length===0&&s.length===0)throw this.unexpected();return{kind:Z.SCHEMA_EXTENSION,directives:i,operationTypes:s,loc:this.loc(r)}},e.parseScalarTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:Z.SCALAR_TYPE_EXTENSION,name:i,directives:s,loc:this.loc(r)}},e.parseObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:Z.OBJECT_TYPE_EXTENSION,name:i,interfaces:s,directives:o,fields:a,loc:this.loc(r)}},e.parseInterfaceTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:Z.INTERFACE_TYPE_EXTENSION,name:i,interfaces:s,directives:o,fields:a,loc:this.loc(r)}},e.parseUnionTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Z.UNION_TYPE_EXTENSION,name:i,directives:s,types:o,loc:this.loc(r)}},e.parseEnumTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Z.ENUM_TYPE_EXTENSION,name:i,directives:s,values:o,loc:this.loc(r)}},e.parseInputObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Z.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:s,fields:o,loc:this.loc(r)}},e.parseDirectiveDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(D.AT);var s=this.parseName(),o=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var u=this.parseDirectiveLocations();return{kind:Z.DIRECTIVE_DEFINITION,description:i,name:s,arguments:o,repeatable:a,locations:u,loc:this.loc(r)}},e.parseDirectiveLocations=function(){return this.delimitedMany(D.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var r=this._lexer.token,i=this.parseName();if(xH[i.value]!==void 0)return i;throw this.unexpected(r)},e.loc=function(r){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new gL(r,this._lexer.lastToken,this._lexer.source)},e.peek=function(r){return this._lexer.token.kind===r},e.expectToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i;throw Mn(this._lexer.source,i.start,"Expected ".concat(wL(r),", found ").concat(hv(i),"."))},e.expectOptionalToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i},e.expectKeyword=function(r){var i=this._lexer.token;if(i.kind===D.NAME&&i.value===r)this._lexer.advance();else throw Mn(this._lexer.source,i.start,'Expected "'.concat(r,'", found ').concat(hv(i),"."))},e.expectOptionalKeyword=function(r){var i=this._lexer.token;return i.kind===D.NAME&&i.value===r?(this._lexer.advance(),!0):!1},e.unexpected=function(r){var i=r??this._lexer.token;return Mn(this._lexer.source,i.start,"Unexpected ".concat(hv(i),"."))},e.any=function(r,i,s){this.expectToken(r);for(var o=[];!this.expectOptionalToken(s);)o.push(i.call(this));return o},e.optionalMany=function(r,i,s){if(this.expectOptionalToken(r)){var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(r,i,s){this.expectToken(r);var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(r,i){this.expectOptionalToken(r);var s=[];do s.push(i.call(this));while(this.expectOptionalToken(r));return s},t}();function hv(t){var e=t.value;return wL(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function wL(t){return PH(t)?'"'.concat(t,'"'):t}var WH={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},dS=Object.freeze({});function xi(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:WH,r=void 0,i=Array.isArray(t),s=[t],o=-1,a=[],u=void 0,l=void 0,c=void 0,h=[],f=[],d=t;do{o++;var p=o===s.length,m=p&&a.length!==0;if(p){if(l=f.length===0?void 0:h[h.length-1],u=c,c=f.pop(),m){if(i)u=u.slice();else{for(var b={},g=0,y=Object.keys(u);g<y.length;g++){var w=y[g];b[w]=u[w]}u=b}for(var E=0,_=0;_<a.length;_++){var T=a[_][0],k=a[_][1];i&&(T-=E),i&&k===null?(u.splice(T,1),E++):u[T]=k}}o=r.index,s=r.keys,a=r.edits,i=r.inArray,r=r.prev}else{if(l=c?i?o:s[o]:void 0,u=c?c[l]:d,u==null)continue;c&&h.push(l)}var x=void 0;if(!Array.isArray(u)){if(!$k(u))throw new Error("Invalid AST Node: ".concat(vL(u),"."));var M=QH(e,u.kind,p);if(M){if(x=M.call(e,u,l,c,h,f),x===dS)break;if(x===!1){if(!p){h.pop();continue}}else if(x!==void 0&&(a.push([l,x]),!p))if($k(x))u=x;else{h.pop();continue}}}if(x===void 0&&m&&a.push([l,u]),p)h.pop();else{var C;r={inArray:i,index:o,keys:s,edits:a,prev:r},i=Array.isArray(u),s=i?u:(C=n[u.kind])!==null&&C!==void 0?C:[],o=-1,a=[],c&&f.push(c),c=u}}while(r!==void 0);return a.length!==0&&(d=a[a.length-1][1]),d}function QH(t,e,n){var r=t[e];if(r){if(!n&&typeof r=="function")return r;var i=n?r.leave:r.enter;if(typeof i=="function")return i}else{var s=n?t.leave:t.enter;if(s){if(typeof s=="function")return s;var o=s[e];if(typeof o=="function")return o}}}function bL(t){return xi(t,{leave:GH})}var HH=80,GH={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return J(e.definitions,`

`)+`
`},OperationDefinition:function(e){var n=e.operation,r=e.name,i=Je("(",J(e.variableDefinitions,", "),")"),s=J(e.directives," "),o=e.selectionSet;return!r&&!s&&!i&&n==="query"?o:J([n,J([r,i]),s,o]," ")},VariableDefinition:function(e){var n=e.variable,r=e.type,i=e.defaultValue,s=e.directives;return n+": "+r+Je(" = ",i)+Je(" ",J(s," "))},SelectionSet:function(e){var n=e.selections;return cr(n)},Field:function(e){var n=e.alias,r=e.name,i=e.arguments,s=e.directives,o=e.selectionSet,a=Je("",n,": ")+r,u=a+Je("(",J(i,", "),")");return u.length>HH&&(u=a+Je(`(
`,bd(J(i,`
`)),`
)`)),J([u,J(s," "),o]," ")},Argument:function(e){var n=e.name,r=e.value;return n+": "+r},FragmentSpread:function(e){var n=e.name,r=e.directives;return"..."+n+Je(" ",J(r," "))},InlineFragment:function(e){var n=e.typeCondition,r=e.directives,i=e.selectionSet;return J(["...",Je("on ",n),J(r," "),i]," ")},FragmentDefinition:function(e){var n=e.name,r=e.typeCondition,i=e.variableDefinitions,s=e.directives,o=e.selectionSet;return"fragment ".concat(n).concat(Je("(",J(i,", "),")")," ")+"on ".concat(r," ").concat(Je("",J(s," ")," "))+o},IntValue:function(e){var n=e.value;return n},FloatValue:function(e){var n=e.value;return n},StringValue:function(e,n){var r=e.value,i=e.block;return i?AH(r,n==="description"?"":"  "):JSON.stringify(r)},BooleanValue:function(e){var n=e.value;return n?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var n=e.value;return n},ListValue:function(e){var n=e.values;return"["+J(n,", ")+"]"},ObjectValue:function(e){var n=e.fields;return"{"+J(n,", ")+"}"},ObjectField:function(e){var n=e.name,r=e.value;return n+": "+r},Directive:function(e){var n=e.name,r=e.arguments;return"@"+n+Je("(",J(r,", "),")")},NamedType:function(e){var n=e.name;return n},ListType:function(e){var n=e.type;return"["+n+"]"},NonNullType:function(e){var n=e.type;return n+"!"},SchemaDefinition:lr(function(t){var e=t.directives,n=t.operationTypes;return J(["schema",J(e," "),cr(n)]," ")}),OperationTypeDefinition:function(e){var n=e.operation,r=e.type;return n+": "+r},ScalarTypeDefinition:lr(function(t){var e=t.name,n=t.directives;return J(["scalar",e,J(n," ")]," ")}),ObjectTypeDefinition:lr(function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return J(["type",e,Je("implements ",J(n," & ")),J(r," "),cr(i)]," ")}),FieldDefinition:lr(function(t){var e=t.name,n=t.arguments,r=t.type,i=t.directives;return e+(jk(n)?Je(`(
`,bd(J(n,`
`)),`
)`):Je("(",J(n,", "),")"))+": "+r+Je(" ",J(i," "))}),InputValueDefinition:lr(function(t){var e=t.name,n=t.type,r=t.defaultValue,i=t.directives;return J([e+": "+n,Je("= ",r),J(i," ")]," ")}),InterfaceTypeDefinition:lr(function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return J(["interface",e,Je("implements ",J(n," & ")),J(r," "),cr(i)]," ")}),UnionTypeDefinition:lr(function(t){var e=t.name,n=t.directives,r=t.types;return J(["union",e,J(n," "),r&&r.length!==0?"= "+J(r," | "):""]," ")}),EnumTypeDefinition:lr(function(t){var e=t.name,n=t.directives,r=t.values;return J(["enum",e,J(n," "),cr(r)]," ")}),EnumValueDefinition:lr(function(t){var e=t.name,n=t.directives;return J([e,J(n," ")]," ")}),InputObjectTypeDefinition:lr(function(t){var e=t.name,n=t.directives,r=t.fields;return J(["input",e,J(n," "),cr(r)]," ")}),DirectiveDefinition:lr(function(t){var e=t.name,n=t.arguments,r=t.repeatable,i=t.locations;return"directive @"+e+(jk(n)?Je(`(
`,bd(J(n,`
`)),`
)`):Je("(",J(n,", "),")"))+(r?" repeatable":"")+" on "+J(i," | ")}),SchemaExtension:function(e){var n=e.directives,r=e.operationTypes;return J(["extend schema",J(n," "),cr(r)]," ")},ScalarTypeExtension:function(e){var n=e.name,r=e.directives;return J(["extend scalar",n,J(r," ")]," ")},ObjectTypeExtension:function(e){var n=e.name,r=e.interfaces,i=e.directives,s=e.fields;return J(["extend type",n,Je("implements ",J(r," & ")),J(i," "),cr(s)]," ")},InterfaceTypeExtension:function(e){var n=e.name,r=e.interfaces,i=e.directives,s=e.fields;return J(["extend interface",n,Je("implements ",J(r," & ")),J(i," "),cr(s)]," ")},UnionTypeExtension:function(e){var n=e.name,r=e.directives,i=e.types;return J(["extend union",n,J(r," "),i&&i.length!==0?"= "+J(i," | "):""]," ")},EnumTypeExtension:function(e){var n=e.name,r=e.directives,i=e.values;return J(["extend enum",n,J(r," "),cr(i)]," ")},InputObjectTypeExtension:function(e){var n=e.name,r=e.directives,i=e.fields;return J(["extend input",n,J(r," "),cr(i)]," ")}};function lr(t){return function(e){return J([e.description,t(e)],`
`)}}function J(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(r){return r}).join(n))!==null&&e!==void 0?e:""}function cr(t){return Je(`{
`,bd(J(t,`
`)),`
}`)}function Je(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+n:""}function bd(t){return Je("  ",t.replace(/\n/g,`
  `))}function KH(t){return t.indexOf(`
`)!==-1}function jk(t){return t!=null&&t.some(KH)}function Bk(t){return t.kind===Z.FIELD||t.kind===Z.FRAGMENT_SPREAD||t.kind===Z.INLINE_FRAGMENT}function YH(){return Pk()}function JH(){__DEV__?V(typeof uv=="boolean",uv):V(typeof uv=="boolean",39)}YH();JH();function Dg(t,e){var n=t.directives;return!n||!n.length?!0:eG(n).every(function(r){var i=r.directive,s=r.ifArgument,o=!1;return s.value.kind==="Variable"?(o=e&&e[s.value.name.value],__DEV__?V(o!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):V(o!==void 0,40)):o=s.value.value,i.name.value==="skip"?!o:o})}function pS(t,e,n){var r=new Set(t),i=r.size;return xi(e,{Directive:function(s){if(r.delete(s.name.value)&&(!n||!r.size))return dS}}),n?!r.size:r.size<i}function XH(t){return t&&pS(["client","export"],t,!0)}function ZH(t){var e=t.name.value;return e==="skip"||e==="include"}function eG(t){var e=[];return t&&t.length&&t.forEach(function(n){if(ZH(n)){var r=n.arguments,i=n.name.value;__DEV__?V(r&&r.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):V(r&&r.length===1,41);var s=r[0];__DEV__?V(s.name&&s.name.value==="if","Invalid argument for the @".concat(i," directive.")):V(s.name&&s.name.value==="if",42);var o=s.value;__DEV__?V(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):V(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),43),e.push({directive:n,ifArgument:s})}}),e}function tG(t,e){var n=e,r=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw __DEV__?new Oe("Found a ".concat(s.operation," operation").concat(s.name?" named '".concat(s.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Oe(44);s.kind==="FragmentDefinition"&&r.push(s)}),typeof n>"u"&&(__DEV__?V(r.length===1,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):V(r.length===1,45),n=r[0].name.value);var i=N(N({},t),{definitions:ap([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function mS(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function gS(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return __DEV__?V(r,"No fragment named ".concat(n)):V(r,46),r||null}default:return null}}function Ze(t){return t!==null&&typeof t=="object"}function au(t){return{__ref:String(t)}}function Ae(t){return Boolean(t&&typeof t=="object"&&typeof t.__ref=="string")}function nG(t){return Ze(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function rG(t){return t.kind==="StringValue"}function iG(t){return t.kind==="BooleanValue"}function sG(t){return t.kind==="IntValue"}function oG(t){return t.kind==="FloatValue"}function aG(t){return t.kind==="Variable"}function uG(t){return t.kind==="ObjectValue"}function lG(t){return t.kind==="ListValue"}function cG(t){return t.kind==="EnumValue"}function hG(t){return t.kind==="NullValue"}function Lu(t,e,n,r){if(sG(n)||oG(n))t[e.value]=Number(n.value);else if(iG(n)||rG(n))t[e.value]=n.value;else if(uG(n)){var i={};n.fields.map(function(o){return Lu(i,o.name,o.value,r)}),t[e.value]=i}else if(aG(n)){var s=(r||{})[n.name.value];t[e.value]=s}else if(lG(n))t[e.value]=n.values.map(function(o){var a={};return Lu(a,e,o,r),a[e.value]});else if(cG(n))t[e.value]=n.value;else if(hG(n))t[e.value]=null;else throw __DEV__?new Oe('The inline argument "'.concat(e.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Oe(55)}function fG(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(s){var o=s.name,a=s.value;return Lu(n[i.name.value],o,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var s=i.name,o=i.value;return Lu(r,s,o,e)})),yS(t.name.value,r,n)}var dG=["connection","include","skip","client","rest","export"],yS=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(Tl(i),")")}else return n.connection.key;var s=t;if(e){var o=Tl(e);s+="(".concat(o,")")}return n&&Object.keys(n).forEach(function(a){dG.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?s+="@".concat(a,"(").concat(Tl(n[a]),")"):s+="@".concat(a))}),s},{setStringify:function(t){var e=Tl;return Tl=t,e}}),Tl=function(e){return JSON.stringify(e,pG)};function pG(t,e){return Ze(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(n,r){return n[r]=e[r],n},{})),e}function Lg(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,s=r.value;return Lu(n,i,s,e)}),n}return null}function ea(t){return t.alias?t.alias.value:t.name.value}function Mw(t,e,n){if(typeof t.__typename=="string")return t.__typename;for(var r=0,i=e.selections;r<i.length;r++){var s=i[r];if(ta(s)){if(s.name.value==="__typename")return t[ea(s)]}else{var o=Mw(t,gS(s,n).selectionSet,n);if(typeof o=="string")return o}}}function ta(t){return t.kind==="Field"}function mG(t){return t.kind==="InlineFragment"}function Fg(t){__DEV__?V(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):V(t&&t.kind==="Document",47);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw __DEV__?new Oe('Schema type definitions not allowed in queries. Found: "'.concat(n.kind,'"')):new Oe(48);return n});return __DEV__?V(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):V(e.length<=1,49),t}function Kh(t){return Fg(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function $w(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function vS(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function EL(t){var e=Kh(t);return __DEV__?V(e&&e.operation==="query","Must contain a query definition."):V(e&&e.operation==="query",50),e}function gG(t){__DEV__?V(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):V(t.kind==="Document",51),__DEV__?V(t.definitions.length<=1,"Fragment must have exactly one definition."):V(t.definitions.length<=1,52);var e=t.definitions[0];return __DEV__?V(e.kind==="FragmentDefinition","Must be a fragment definition."):V(e.kind==="FragmentDefinition",53),e}function Mg(t){Fg(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new Oe("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Oe(54)}function wS(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&Lu(e,r.variable.name,r.defaultValue)}),e}var ot=Array.isArray;function On(t){return Array.isArray(t)&&t.length>0}var qk={kind:Z.FIELD,name:{kind:Z.NAME,value:"__typename"}};function SL(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===Z.FRAGMENT_SPREAD&&SL(e[n.name.value],e)})}function yG(t){return SL(Kh(t)||gG(t),mS(vS(t)))?null:t}function vG(t){var e=new Set,n=[];return t.forEach(function(r){r.name?e.add(r.name):r.test&&n.push(r.test)}),function(r){return e.has(r.name.value)||n.some(function(i){return i(r)})}}function zk(t){var e=new Map;return function(r){r===void 0&&(r=t);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function _L(t,e){for(var n=zk(""),r=zk(""),i=function(y){for(var w=0,E=void 0;w<y.length&&(E=y[w]);++w)if(!ot(E)){if(E.kind===Z.OPERATION_DEFINITION)return n(E.name&&E.name.value);if(E.kind===Z.FRAGMENT_DEFINITION)return r(E.name.value)}return __DEV__&&V.error("Could not find operation or fragment"),null},s=0,o=e.definitions.length-1;o>=0;--o)e.definitions[o].kind===Z.OPERATION_DEFINITION&&++s;var a=vG(t),u=t.some(function(y){return y.remove}),l=function(y){return u&&y&&y.some(a)},c=new Map,h=!1,f={enter:function(y){if(l(y.directives))return h=!0,null}},d=xi(e,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(y,w,E,_,T){var k=i(T);k&&k.variables.add(y.name.value)}},FragmentSpread:{enter:function(y,w,E,_,T){if(l(y.directives))return h=!0,null;var k=i(T);k&&k.fragmentSpreads.add(y.name.value)}},FragmentDefinition:{enter:function(y,w,E,_){c.set(JSON.stringify(_),y)},leave:function(y,w,E,_){var T=c.get(JSON.stringify(_));if(y===T)return y;if(s>0&&y.selectionSet.selections.every(function(k){return k.kind===Z.FIELD&&k.name.value==="__typename"}))return r(y.name.value).removed=!0,h=!0,null}},Directive:{leave:function(y){if(a(y))return h=!0,null}}});if(!h)return e;var p=function(y){return y.transitiveVars||(y.transitiveVars=new Set(y.variables),y.removed||y.fragmentSpreads.forEach(function(w){p(r(w)).transitiveVars.forEach(function(E){y.transitiveVars.add(E)})})),y},m=new Set;d.definitions.forEach(function(y){y.kind===Z.OPERATION_DEFINITION?p(n(y.name&&y.name.value)).fragmentSpreads.forEach(function(w){m.add(w)}):y.kind===Z.FRAGMENT_DEFINITION&&s===0&&!r(y.name.value).removed&&m.add(y.name.value)}),m.forEach(function(y){p(r(y)).fragmentSpreads.forEach(function(w){m.add(w)})});var b=function(y){return!!(!m.has(y)||r(y).removed)},g={enter:function(y){if(b(y.name.value))return null}};return yG(xi(d,{FragmentSpread:g,FragmentDefinition:g,OperationDefinition:{leave:function(y){if(y.variableDefinitions){var w=p(n(y.name&&y.name.value)).transitiveVars;if(w.size<y.variableDefinitions.length)return N(N({},y),{variableDefinitions:y.variableDefinitions.filter(function(E){return w.has(E.variable.name.value)})})}}}}))}var bS=Object.assign(function(t){return xi(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===Z.OPERATION_DEFINITION)){var i=e.selections;if(i){var s=i.some(function(a){return ta(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!s){var o=r;if(!(ta(o)&&o.directives&&o.directives.some(function(a){return a.name.value==="export"})))return N(N({},e),{selections:ap(ap([],i,!0),[qk],!1)})}}}}}})},{added:function(t){return t===qk}}),wG={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(n){return n.name.value==="key"}))&&__DEV__&&V.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function bG(t){return _L([wG],Fg(t))}function EG(t){var e=Mg(t),n=e.operation;if(n==="query")return t;var r=xi(t,{OperationDefinition:{enter:function(i){return N(N({},i),{operation:"query"})}}});return r}function SG(t){Fg(t);var e=_L([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var _G=Object.prototype.hasOwnProperty;function Wk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ES(t)}function ES(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new $s,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var IG=function(t,e,n){return this.merge(t[n],e[n])},$s=function(){function t(e){e===void 0&&(e=IG),this.reconciler=e,this.isObject=Ze,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return Ze(n)&&Ze(e)?(Object.keys(n).forEach(function(o){if(_G.call(e,o)){var a=e[o];if(n[o]!==a){var u=r.reconciler.apply(r,ap([e,n,o],i,!1));u!==a&&(e=r.shallowCopyForMerge(e),e[o]=u)}}else e=r.shallowCopyForMerge(e),e[o]=n[o]}),e):n},t.prototype.shallowCopyForMerge=function(e){return Ze(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=N({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function TG(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=kG(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(t,e){if(t){if(typeof t=="string")return Qk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qk(t,e)}}function Qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SS(t,e,n){return e&&Hk(t.prototype,e),n&&Hk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var _S=function(){return typeof Symbol=="function"},IS=function(t){return _S()&&Boolean(Symbol[t])},TS=function(t){return IS(t)?Symbol[t]:"@@"+t};_S()&&!IS("observable")&&(Symbol.observable=Symbol("observable"));var CG=TS("iterator"),Uw=TS("observable"),IL=TS("species");function jp(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function kl(t){var e=t.constructor;return e!==void 0&&(e=e[IL],e===null&&(e=void 0)),e!==void 0?e:Ue}function xG(t){return t instanceof Ue}function Fu(t){Fu.log?Fu.log(t):setTimeout(function(){throw t})}function Ed(t){Promise.resolve().then(function(){try{t()}catch(e){Fu(e)}})}function TL(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=jp(e,"unsubscribe");n&&n.call(e)}}catch(r){Fu(r)}}function Vw(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function OG(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(kL(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function kL(t,e,n){t._state="running";var r=t._observer;try{var i=jp(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(Vw(t),i)i.call(r,n);else throw n;break;case"complete":Vw(t),i&&i.call(r);break}}catch(s){Fu(s)}t._state==="closed"?TL(t):t._state==="running"&&(t._state="ready")}function fv(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],Ed(function(){return OG(t)});return}kL(t,e,n)}}var NG=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new AG(this);try{this._cleanup=r.call(void 0,i)}catch(s){i.error(s)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(Vw(this),TL(this))},SS(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),AG=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){fv(this._subscription,"next",r)},e.error=function(r){fv(this._subscription,"error",r)},e.complete=function(){fv(this._subscription,"complete")},SS(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Ue=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new NG(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(s,o){if(typeof r!="function"){o(new TypeError(r+" is not a function"));return}function a(){u.unsubscribe(),s()}var u=i.subscribe({next:function(l){try{r(l,a)}catch(c){o(c),u.unsubscribe()}},error:o,complete:s})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this);return new s(function(o){return i.subscribe({next:function(a){try{a=r(a)}catch(u){return o.error(u)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this);return new s(function(o){return i.subscribe({next:function(a){try{if(!r(a))return}catch(u){return o.error(u)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this),o=arguments.length>1,a=!1,u=arguments[1],l=u;return new s(function(c){return i.subscribe({next:function(h){var f=!a;if(a=!0,!f||o)try{l=r(l,h)}catch(d){return c.error(d)}else l=h},error:function(h){c.error(h)},complete:function(){if(!a&&!o)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(l),c.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=kl(this);return new a(function(u){var l,c=0;function h(f){l=f.subscribe({next:function(d){u.next(d)},error:function(d){u.error(d)},complete:function(){c===s.length?(l=void 0,u.complete()):h(a.from(s[c++]))}})}return h(r),function(){l&&(l.unsubscribe(),l=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this);return new s(function(o){var a=[],u=i.subscribe({next:function(c){if(r)try{c=r(c)}catch(f){return o.error(f)}var h=s.from(c).subscribe({next:function(f){o.next(f)},error:function(f){o.error(f)},complete:function(){var f=a.indexOf(h);f>=0&&a.splice(f,1),l()}});a.push(h)},error:function(c){o.error(c)},complete:function(){l()}});function l(){u.closed&&a.length===0&&o.complete()}return function(){a.forEach(function(c){return c.unsubscribe()}),u.unsubscribe()}})},e[Uw]=function(){return this},t.from=function(r){var i=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var s=jp(r,Uw);if(s){var o=s.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return xG(o)&&o.constructor===i?o:new i(function(a){return o.subscribe(a)})}if(IS("iterator")&&(s=jp(r,CG),s))return new i(function(a){Ed(function(){if(!a.closed){for(var u=TG(s.call(r)),l;!(l=u()).done;){var c=l.value;if(a.next(c),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){Ed(function(){if(!a.closed){for(var u=0;u<r.length;++u)if(a.next(r[u]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=typeof this=="function"?this:t;return new o(function(a){Ed(function(){if(!a.closed){for(var u=0;u<i.length;++u)if(a.next(i[u]),a.closed)return;a.complete()}})})},SS(t,null,[{key:IL,get:function(){return this}}]),t}();_S()&&Object.defineProperty(Ue,Symbol("extensions"),{value:{symbol:Uw,hostReportError:Fu},configurable:!0});function RG(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var Na;typeof self<"u"?Na=self:typeof window<"u"?Na=window:typeof pt<"u"?Na=pt:typeof d1<"u"?Na=d1:Na=Function("return this")();RG(Na);var Gk=Ue.prototype,Kk="@@observable";Gk[Kk]||(Gk[Kk]=function(){return this});var PG=Object.prototype.toString;function CL(t){return jw(t)}function jw(t,e){switch(PG.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,s){n[s]=jw(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=jw(t[i],e)}),r}default:return t}}function DG(t){var e=new Set([t]);return e.forEach(function(n){Ze(n)&&LG(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){Ze(n[r])&&e.add(n[r])})}),t}function LG(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function hh(t){return __DEV__&&DG(t),t}function fc(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function dv(t,e,n){return new Ue(function(r){var i=r.next,s=r.error,o=r.complete,a=0,u=!1,l={then:function(d){return new Promise(function(p){return p(d())})}};function c(d,p){return d?function(m){++a;var b=function(){return d(m)};l=l.then(b,b).then(function(g){--a,i&&i.call(r,g),u&&h.complete()},function(g){throw--a,g}).catch(function(g){s&&s.call(r,g)})}:function(m){return p&&p.call(r,m)}}var h={next:c(e,i),error:c(n,s),complete:function(){u=!0,a||o&&o.call(r)}},f=t.subscribe(h);return function(){return f.unsubscribe()}})}var eo=typeof WeakMap=="function"&&Jn(function(){return navigator.product})!=="ReactNative",xL=typeof WeakSet=="function",kS=typeof Symbol=="function"&&typeof Symbol.for=="function",$g=kS&&Symbol.asyncIterator,FG=typeof Jn(function(){return window.document.createElement})=="function",MG=Jn(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,$G=FG&&!MG;function OL(t){function e(n){Object.defineProperty(t,n,{value:Ue})}return kS&&Symbol.species&&e(Symbol.species),e("@@species"),t}function Yk(t){return t&&typeof t.then=="function"}var Wl=function(t){or(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,s){r.resolve=i,r.reject=s}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),fc(r.observers,"next",i))},error:function(i){var s=r.sub;s!==null&&(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),fc(r.observers,"error",i))},complete:function(){var i=r,s=i.sub,o=i.sources,a=o===void 0?[]:o;if(s!==null){var u=a.shift();u?Yk(u)?u.then(function(l){return r.sub=l.subscribe(r.handlers)}):r.sub=u.subscribe(r.handlers):(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),fc(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new Ue(n)]),Yk(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(s){return s(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,s){r||(r=!0,n(i,s))})},e}(Ue);OL(Wl);function uu(t){return"incremental"in t}function UG(t){return"hasNext"in t&&"data"in t}function VG(t){return uu(t)||UG(t)}function NL(t,e){var n=t,r=new $s;return uu(e)&&On(e.incremental)&&e.incremental.forEach(function(i){for(var s=i.data,o=i.path,a=o.length-1;a>=0;--a){var u=o[a],l=!isNaN(+u),c=l?[]:{};c[u]=s,s=c}n=r.merge(n,s)}),n}function Sd(t){var e=Bw(t);return On(e)}function Bw(t){var e=On(t.errors)?t.errors.slice(0):[];return uu(t)&&On(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function Yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(i){var s=r[i];s!==void 0&&(n[i]=s)})}),n}var Jk=new Map;function qw(t){var e=Jk.get(t)||1;return Jk.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function jG(t){var e=qw("stringifyForDisplay");return JSON.stringify(t,function(n,r){return r===void 0?e:r}).split(JSON.stringify(e)).join("<undefined>")}function lu(t,e){return Yh(t,e,e.variables&&{variables:N(N({},t&&t.variables),e.variables)})}function Xk(t){return new Ue(function(e){e.error(t)})}var zw=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function BG(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw __DEV__?new Oe("illegal argument: ".concat(i)):new Oe(27)}return t}function qG(t,e){var n=N({},t),r=function(s){typeof s=="function"?n=N(N({},n),s(n)):n=N(N({},n),s)},i=function(){return N({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function zG(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?$w(e.query)||void 0:""),e}function Zk(t,e){return e?e(t):Ue.of()}function Cl(t){return typeof t=="function"?new to(t):t}function Af(t){return t.request.length<=1}var WG=function(t){or(e,t);function e(n,r){var i=t.call(this,n)||this;return i.link=r,i}return e}(Error),to=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Ue.of()})},t.from=function(e){return e.length===0?t.empty():e.map(Cl).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=Cl(n),s=Cl(r||new t(Zk));return Af(i)&&Af(s)?new t(function(o){return e(o)?i.request(o)||Ue.of():s.request(o)||Ue.of()}):new t(function(o,a){return e(o)?i.request(o,a)||Ue.of():s.request(o,a)||Ue.of()})},t.execute=function(e,n){return e.request(qG(n.context,zG(BG(n))))||Ue.of()},t.concat=function(e,n){var r=Cl(e);if(Af(r))return __DEV__&&V.warn(new WG("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Cl(n);return Af(i)?new t(function(s){return r.request(s,function(o){return i.request(o)||Ue.of()})||Ue.of()}):new t(function(s,o){return r.request(s,function(a){return i.request(a,o)||Ue.of()})||Ue.of()})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(Zk)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw __DEV__?new Oe("request is not implemented"):new Oe(22)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),QG=to.split,Ww=to.execute,HG="3.7.9";function GG(t){return!!t.body}function KG(t){return!!t.getReader}function YG(t){return!!($g&&t[Symbol.asyncIterator])}function JG(t){return!!t.stream}function XG(t){return!!t.arrayBuffer}function ZG(t){return!!t.pipe}function eK(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function tK(t){var e=null,n=null,r=!1,i=[],s=[];function o(h){if(!n){if(s.length){var f=s.shift();if(Array.isArray(f)&&f[0])return f[0]({value:h,done:!1})}i.push(h)}}function a(h){n=h;var f=s.slice();f.forEach(function(d){d[1](h)}),!e||e()}function u(){r=!0;var h=s.slice();h.forEach(function(f){f[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",o),t.removeListener("error",a),t.removeListener("end",u),t.removeListener("finish",u),t.removeListener("close",u)},t.on("data",o),t.on("error",a),t.on("end",u),t.on("finish",u),t.on("close",u);function l(){return new Promise(function(h,f){if(n)return f(n);if(i.length)return h({value:i.shift(),done:!1});if(r)return h({value:void 0,done:!0});s.push([h,f])})}var c={next:function(){return l()}};return $g&&(c[Symbol.asyncIterator]=function(){return this}),c}function nK(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(s){r({value:s,done:!1})}).catch(i)}))}};return $g&&(n[Symbol.asyncIterator]=function(){return this}),n}function eC(t){var e={next:function(){return t.read()}};return $g&&(e[Symbol.asyncIterator]=function(){return this}),e}function rK(t){var e=t;if(GG(t)&&(e=t.body),YG(e))return eK(e);if(KG(e))return eC(e.getReader());if(JG(e))return eC(e.stream().getReader());if(XG(e))return nK(e.arrayBuffer());if(ZG(e))return tK(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var tC=Object.prototype.hasOwnProperty;function iK(t,e){var n,r,i;return Gi(this,void 0,void 0,function(){var s,o,a,u,l,c,h,f,d,p,m,b,g,y,w,E,_,T,k,x;return Ki(this,function(M){switch(M.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");s=new TextDecoder("utf-8"),o=(n=t.headers)===null||n===void 0?void 0:n.get("content-type"),a="boundary=",u=o!=null&&o.includes(a)?o==null?void 0:o.substring((o==null?void 0:o.indexOf(a))+a.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",l="--".concat(u),c="",h=rK(t),f=!0,M.label=1;case 1:return f?[4,h.next()]:[3,3];case 2:for(d=M.sent(),p=d.value,m=d.done,b=typeof p=="string"?p:s.decode(p),f=!m,c+=b,g=c.indexOf(l);g>-1;){if(y=void 0,x=[c.slice(0,g),c.slice(g+l.length)],y=x[0],c=x[1],y.trim()){if(w=y.indexOf(`\r
\r
`),E=sK(y.slice(0,w)),_=E["content-type"],_&&_.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");T=y.slice(w);try{k=AL(t,T.replace(`\r
`,"")),(Object.keys(k).length>1||"data"in k||"incremental"in k||"errors"in k)&&((r=e.next)===null||r===void 0||r.call(e,k))}catch(C){CS(C,e)}}g=c.indexOf(l)}return[3,1];case 3:return(i=e.complete)===null||i===void 0||i.call(e),[2]}})})}function sK(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),s=n.slice(r+1).trim();e[i]=s}}),e}function AL(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};zw(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function CS(t,e){var n,r;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((n=e.next)===null||n===void 0||n.call(e,t.result)),(r=e.error)===null||r===void 0||r.call(e,t))}function oK(t,e,n){aK(e)(t).then(function(r){var i,s;(i=n.next)===null||i===void 0||i.call(n,r),(s=n.complete)===null||s===void 0||s.call(n)}).catch(function(r){return CS(r,n)})}function aK(t){return function(e){return e.text().then(function(n){return AL(e,n)}).then(function(n){return e.status>=300&&zw(e,n,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(n)&&!tC.call(n,"data")&&!tC.call(n,"errors")&&zw(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var Qw=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=__DEV__?new Oe("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new Oe(24);throw r.parseError=i,r}return n},uK={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},lK={accept:"*/*","content-type":"application/json"},cK={method:"POST"},hK={http:uK,headers:lK,options:cK},fK=function(t,e){return e(t)};function dK(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},s={};n.forEach(function(h){i=N(N(N({},i),h.options),{headers:N(N({},i.headers),h.headers)}),h.credentials&&(i.credentials=h.credentials),s=N(N({},s),h.http)}),i.headers&&(i.headers=pK(i.headers,s.preserveHeaderCase));var o=t.operationName,a=t.extensions,u=t.variables,l=t.query,c={operationName:o,variables:u};return s.includeExtensions&&(c.extensions=a),s.includeQuery&&(c.query=e(l,bL)),{options:i,body:c}}function pK(t,e){if(!e){var n=Object.create(null);return Object.keys(Object(t)).forEach(function(s){n[s.toLowerCase()]=t[s]}),n}var r=Object.create(null);Object.keys(Object(t)).forEach(function(s){r[s.toLowerCase()]={originalName:s,value:t[s]}});var i=Object.create(null);return Object.keys(r).forEach(function(s){i[r[s].originalName]=r[s].value}),i}var mK=function(t){if(!t&&typeof fetch>"u")throw __DEV__?new Oe(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new Oe(23)},gK=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},yK=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function vK(t,e){var n=[],r=function(h,f){n.push("".concat(h,"=").concat(encodeURIComponent(f)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=Qw(e.variables,"Variables map")}catch(h){return{parseError:h}}r("variables",i)}if(e.extensions){var s=void 0;try{s=Qw(e.extensions,"Extensions map")}catch(h){return{parseError:h}}r("extensions",s)}var o="",a=t,u=t.indexOf("#");u!==-1&&(o=t.substr(u),a=t.substr(0,u));var l=a.indexOf("?")===-1?"?":"&",c=a+l+n.join("&")+o;return{newURI:c}}var nC=Jn(function(){return fetch}),wK=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,s=i===void 0?fK:i,o=t.includeExtensions,a=t.preserveHeaderCase,u=t.useGETForQueries,l=t.includeUnusedVariables,c=l===void 0?!1:l,h=ir(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&mK(r||nC);var f={http:{includeExtensions:o,preserveHeaderCase:a},options:h.fetchOptions,credentials:h.credentials,headers:h.headers};return new to(function(d){var p=yK(d,n),m=d.getContext(),b={};if(m.clientAwareness){var g=m.clientAwareness,y=g.name,w=g.version;y&&(b["apollographql-client-name"]=y),w&&(b["apollographql-client-version"]=w)}var E=N(N({},b),m.headers),_={http:m.http,options:m.fetchOptions,credentials:m.credentials,headers:E},T=dK(d,s,hK,f,_),k=T.options,x=T.body;if(x.variables&&!c){var M=new Set(Object.keys(x.variables));xi(d.query,{Variable:function(P,Y,B){B&&B.kind!=="VariableDefinition"&&M.delete(P.name.value)}}),M.size&&(x.variables=N({},x.variables),M.forEach(function(P){delete x.variables[P]}))}var C;if(!k.signal){var oe=gK(),pe=oe.controller,ce=oe.signal;C=pe,C&&(k.signal=ce)}var G=function(P){return P.kind==="OperationDefinition"&&P.operation==="mutation"};if(u&&!d.query.definitions.some(G)&&(k.method="GET"),pS(["defer"],d.query)&&(k.headers=k.headers||{},k.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),k.method==="GET"){var he=vK(p,x),re=he.newURI,X=he.parseError;if(X)return Xk(X);p=re}else try{k.body=Qw(x,"Payload")}catch(P){return Xk(P)}return new Ue(function(P){var Y=r||Jn(function(){return fetch})||nC;return Y(p,k).then(function(B){var ae;d.setContext({response:B});var q=(ae=B.headers)===null||ae===void 0?void 0:ae.get("content-type");return q!==null&&/^multipart\/mixed/i.test(q)?iK(B,P):oK(B,d,P)}).catch(function(B){return CS(B,P)}),function(){C&&C.abort()}})})},RL=function(t){or(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,wK(n).request)||this;return r.options=n,r}return e}(to),PL=Object.prototype,rC=PL.toString,bK=PL.hasOwnProperty,iC=Function.prototype.toString,Hw=new Map;function Qe(t,e){try{return Gw(t,e)}finally{Hw.clear()}}function Gw(t,e){if(t===e)return!0;var n=rC.call(t),r=rC.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(oC(t,e))return!0;var i=sC(t),s=sC(e),o=i.length;if(o!==s.length)return!1;for(var a=0;a<o;++a)if(!bK.call(e,i[a]))return!1;for(var a=0;a<o;++a){var u=i[a];if(!Gw(t[u],e[u]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t=="".concat(e);case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(oC(t,e))return!0;for(var l=t.entries(),c=n==="[object Map]";;){var h=l.next();if(h.done)break;var f=h.value,d=f[0],p=f[1];if(!e.has(d)||c&&!Gw(p,e.get(d)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{var m=t.byteLength;if(m===e.byteLength)for(;m--&&t[m]===e[m];);return m===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var b=iC.call(t);return b!==iC.call(e)?!1:!_K(b,SK)}}return!1}function sC(t){return Object.keys(t).filter(EK,t)}function EK(t){return this[t]!==void 0}var SK="{ [native code] }";function _K(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function oC(t,e){var n=Hw.get(t);if(n){if(n.has(e))return!0}else Hw.set(t,n=new Set);return n.add(e),!1}var IK=function(){return Object.create(null)},DL=Array.prototype,TK=DL.forEach,kK=DL.slice,Jh=function(){function t(e,n){e===void 0&&(e=!0),n===void 0&&(n=IK),this.weakness=e,this.makeData=n}return t.prototype.lookup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var n=this;return TK.call(e,function(r){return n=n.getChildTrie(r)}),n.data||(n.data=this.makeData(kK.call(e)))},t.prototype.getChildTrie=function(e){var n=this.weakness&&CK(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r},t}();function CK(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Ut=null,aC={},xK=1,OK=function(){return function(){function t(){this.id=["slot",xK++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Ut;e;e=e.parent)if(this.id in e.slots){var n=e.slots[this.id];if(n===aC)break;return e!==Ut&&(Ut.slots[this.id]=n),!0}return Ut&&(Ut.slots[this.id]=aC),!1},t.prototype.getValue=function(){if(this.hasValue())return Ut.slots[this.id]},t.prototype.withValue=function(e,n,r,i){var s,o=(s={__proto__:null},s[this.id]=e,s),a=Ut;Ut={parent:a,slots:o};try{return n.apply(i,r)}finally{Ut=a}},t.bind=function(e){var n=Ut;return function(){var r=Ut;try{return Ut=n,e.apply(this,arguments)}finally{Ut=r}}},t.noContext=function(e,n,r){if(Ut){var i=Ut;try{return Ut=null,e.apply(r,n)}finally{Ut=i}}else return e.apply(r,n)},t}()};function uC(t){try{return t()}catch{}}var pv="@wry/context:Slot",NK=uC(function(){return globalThis})||uC(function(){return pt})||Object.create(null),lC=NK,Ug=lC[pv]||Array[pv]||function(t){try{Object.defineProperty(lC,pv,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(OK());Ug.bind;Ug.noContext;function AK(){}var RK=function(){function t(e,n){e===void 0&&(e=1/0),n===void 0&&(n=AK),this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var n=this.getNode(e);return n&&n.value},t.prototype.getNode=function(e){var n=this.map.get(e);if(n&&n!==this.newest){var r=n.older,i=n.newer;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n},t.prototype.set=function(e,n){var r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1},t}(),Vg=new Ug,mv,PK=Object.prototype.hasOwnProperty,xS=(mv=Array.from,mv===void 0?function(t){var e=[];return t.forEach(function(n){return e.push(n)}),e}:mv);function Bp(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var fh=[],DK=100;function Mu(t,e){if(!t)throw new Error(e||"assertion failure")}function LK(t,e){var n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function LL(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function FK(t){return t.slice(0)}var MK=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!Us(this))return cC(this),this.value[0]},t.prototype.recompute=function(e){return Mu(!this.recomputing,"already recomputing"),cC(this),Us(this)?$K(this,e):LL(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,FL(this),Bp(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),jL(this),OS(this,function(n,r){n.setDirty(),BL(n,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=fh.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(xS(this.deps).forEach(function(n){return n.delete(e)}),this.deps.clear(),fh.push(this.deps),this.deps=null)},t.count=0,t}();function cC(t){var e=Vg.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),Us(t)?$L(e,t):UL(e,t),e}function $K(t,e){return jL(t),Vg.withValue(t,UK,[t,e]),jK(t,e)&&VK(t),LL(t.value)}function UK(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(n){t.value[1]=n}t.recomputing=!1}function Us(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function VK(t){t.dirty=!1,!Us(t)&&ML(t)}function FL(t){OS(t,$L)}function ML(t){OS(t,UL)}function OS(t,e){var n=t.parents.size;if(n)for(var r=xS(t.parents),i=0;i<n;++i)e(r[i],t)}function $L(t,e){Mu(t.childValues.has(e)),Mu(Us(e));var n=!Us(t);if(!t.dirtyChildren)t.dirtyChildren=fh.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&FL(t)}function UL(t,e){Mu(t.childValues.has(e)),Mu(!Us(e));var n=t.childValues.get(e);n.length===0?t.childValues.set(e,FK(e.value)):LK(n,e.value)||t.setDirty(),VL(t,e),!Us(t)&&ML(t)}function VL(t,e){var n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(fh.length<DK&&fh.push(n),t.dirtyChildren=null))}function jL(t){t.childValues.size>0&&t.childValues.forEach(function(e,n){BL(t,n)}),t.forgetDeps(),Mu(t.dirtyChildren===null)}function BL(t,e){e.parents.delete(t),t.childValues.delete(e),VL(t,e)}function jK(t,e){if(typeof t.subscribe=="function")try{Bp(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var BK={setDirty:!0,dispose:!0,forget:!0};function qL(t){var e=new Map,n=t&&t.subscribe;function r(i){var s=Vg.getValue();if(s){var o=e.get(i);o||e.set(i,o=new Set),s.dependOn(o),typeof n=="function"&&(Bp(o),o.unsubscribe=n(i))}}return r.dirty=function(s,o){var a=e.get(s);if(a){var u=o&&PK.call(BK,o)?o:"setDirty";xS(a).forEach(function(l){return l[u]()}),e.delete(s),Bp(a)}},r}function zL(){var t=new Jh(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}zL();var gv=new Set;function qp(t,e){e===void 0&&(e=Object.create(null));var n=new RK(e.max||Math.pow(2,16),function(l){return l.dispose()}),r=e.keyArgs,i=e.makeCacheKey||zL(),s=function(){var l=i.apply(null,r?r.apply(null,arguments):arguments);if(l===void 0)return t.apply(null,arguments);var c=n.get(l);c||(n.set(l,c=new MK(t)),c.subscribe=e.subscribe,c.forget=function(){return n.delete(l)});var h=c.recompute(Array.prototype.slice.call(arguments));return n.set(l,c),gv.add(n),Vg.hasValue()||(gv.forEach(function(f){return f.clean()}),gv.clear()),h};Object.defineProperty(s,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1});function o(l){var c=n.get(l);c&&c.setDirty()}s.dirtyKey=o,s.dirty=function(){o(i.apply(null,arguments))};function a(l){var c=n.get(l);if(c)return c.peek()}s.peekKey=a,s.peek=function(){return a(i.apply(null,arguments))};function u(l){return n.delete(l)}return s.forgetKey=u,s.forget=function(){return u(i.apply(null,arguments))},s.makeCacheKey=i,s.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(s)}var qK=function(){function t(){this.getFragmentDoc=qp(tG)}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(N(N({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(N(N({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=ir(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,s=e.fragmentName,o=ir(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,s),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),s=n(i);return s==null?i:(r.writeQuery(N(N({},e),{data:s})),s)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),s=n(i);return s==null?i:(r.writeFragment(N(N({},e),{data:s})),s)}})},t}(),WL=function(t){or(e,t);function e(n,r,i,s){var o,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=s,Array.isArray(a.path)){a.missing=a.message;for(var u=a.path.length-1;u>=0;--u)a.missing=(o={},o[a.path[u]]=a.missing,o)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error),kt=Object.prototype.hasOwnProperty;function xl(t){return t==null}function QL(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=xl(r)?xl(i)?void 0:{_id:i}:{id:r}),xl(r)&&!xl(i)&&(r=i),!xl(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var HL={dataIdFromObject:QL,addTypename:!0,resultCaching:!0,canonizeResults:!1};function zK(t){return Yh(HL,t)}function GL(t){var e=t.canonizeResults;return e===void 0?HL.canonizeResults:e}function WK(t,e){return Ae(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var KL=/^[_a-z][_0-9a-z]*/i;function Vs(t){var e=t.match(KL);return e?e[0]:t}function Kw(t,e,n){return Ze(e)?ot(e)?e.every(function(r){return Kw(t,r,n)}):t.selections.every(function(r){if(ta(r)&&Dg(r,n)){var i=ea(r);return kt.call(e,i)&&(!r.selectionSet||Kw(r.selectionSet,e[i],n))}return!0}):!1}function Wa(t){return Ze(t)&&!Ae(t)&&!ot(t)}function QK(){return new $s}function YL(t,e){var n=mS(vS(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var _d=Object.create(null),yv=function(){return _d},hC=Object.create(null),dh=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,s){return hh(Ae(i)?r.get(i.__ref,s):i&&i[s])},this.canRead=function(i){return Ae(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,s){if(typeof i=="string")return au(i);if(Ae(i))return i;var o=r.policies.identify(i)[0];if(o){var a=au(o);return s&&r.merge(o,i),a}}}return t.prototype.toObject=function(){return N({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),kt.call(this.data,e)){var r=this.data[e];if(r&&kt.call(r,n))return r[n]}if(n==="__typename"&&kt.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof zi)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),kt.call(this.data,e))return this.data[e];if(this instanceof zi)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;Ae(e)&&(e=e.__ref),Ae(n)&&(n=n.__ref);var s=typeof e=="string"?this.lookup(i=e):e,o=typeof n=="string"?this.lookup(i=n):n;if(o){__DEV__?V(typeof i=="string","store.merge expects a string ID"):V(typeof i=="string",1);var a=new $s(GK).merge(s,o);if(this.data[i]=a,a!==s&&(delete this.refs[i],this.group.caching)){var u=Object.create(null);s||(u.__exists=1),Object.keys(o).forEach(function(l){if(!s||s[l]!==a[l]){u[l]=1;var c=Vs(l);c!==l&&!r.policies.hasKeyArgs(a.__typename,c)&&(u[c]=1),a[l]===void 0&&!(r instanceof zi)&&delete a[l]}}),u.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete u.__typename,Object.keys(u).forEach(function(l){return r.group.dirty(i,l)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var s=Object.create(null),o=!1,a=!0,u={DELETE:_d,INVALIDATE:hC,isReference:Ae,toReference:this.toReference,canRead:this.canRead,readField:function(l,c){return r.policies.readField(typeof l=="string"?{fieldName:l,from:c||au(e)}:l,{store:r})}};if(Object.keys(i).forEach(function(l){var c=Vs(l),h=i[l];if(h!==void 0){var f=typeof n=="function"?n:n[l]||n[c];if(f){var d=f===yv?_d:f(hh(h),N(N({},u),{fieldName:c,storeFieldName:l,storage:r.getStorage(e,l)}));d===hC?r.group.dirty(e,l):(d===_d&&(d=void 0),d!==h&&(s[l]=d,o=!0,h=d))}h!==void 0&&(a=!1)}}),o)return this.merge(e,s),a&&(this instanceof zi?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,s=this.lookup(e);if(s){var o=this.getFieldValue(s,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:o,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=yv,i):yv)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(kt.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof zi&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){kt.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(s){e&&kt.call(e,s)||n.delete(s)}),e){var r=e.__META,i=ir(e,["__META"]);Object.keys(i).forEach(function(s){n.merge(s,i[s])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof zi?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(o){kt.call(r,o)&&(Object.keys(e.findChildRefIds(o)).forEach(n.add,n),delete r[o])});var i=Object.keys(r);if(i.length){for(var s=this;s instanceof zi;)s=s.parent;i.forEach(function(o){return s.delete(o)})}return i},t.prototype.findChildRefIds=function(e){if(!kt.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(s){Ae(s)&&(n[s.__ref]=!0),Ze(s)&&Object.keys(s).forEach(function(o){var a=s[o];Ze(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),JL=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?qL():null,this.keyMaker=new Jh(eo)},t.prototype.depend=function(e,n){if(this.d){this.d(vv(e,n));var r=Vs(n);r!==n&&this.d(vv(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(vv(e,n),n==="__exists"?"forget":"setDirty")},t}();function vv(t,e){return e+"#"+t}function fC(t,e){dc(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){or(r,n);function r(i){var s=i.policies,o=i.resultCaching,a=o===void 0?!0:o,u=i.seed,l=n.call(this,s,new JL(a))||this;return l.stump=new HK(l),l.storageTrie=new Jh(eo),u&&l.replace(u),l}return r.prototype.addLayer=function(i,s){return this.stump.addLayer(i,s)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(dh||(dh={}));var zi=function(t){or(e,t);function e(n,r,i,s){var o=t.call(this,r.policies,s)||this;return o.id=n,o.parent=r,o.replay=i,o.group=s,i(o),o}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(s){var o=r.data[s],a=i.lookup(s);a?o?o!==a&&Object.keys(o).forEach(function(u){Qe(o[u],a[u])||r.group.dirty(s,u)}):(r.group.dirty(s,"__exists"),Object.keys(a).forEach(function(u){r.group.dirty(s,u)})):r.delete(s)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return N(N({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return kt.call(this.data,n)?N(N({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(dh),HK=function(t){or(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new JL(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(zi);function GK(t,e,n){var r=t[n],i=e[n];return Qe(r,i)?r:i}function dc(t){return!!(t instanceof dh&&t.group.caching)}function KK(t){return Ze(t)?ot(t)?t.slice(0):N({__proto__:Object.getPrototypeOf(t)},t):t}var Yw=function(){function t(){this.known=new(xL?WeakSet:Set),this.pool=new Jh(eo),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return Ze(e)&&this.known.has(e)},t.prototype.pass=function(e){if(Ze(e)){var n=KK(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(Ze(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var s=e.map(this.admit,this),o=this.pool.lookupArray(s);return o.array||(this.known.add(o.array=s),__DEV__&&Object.freeze(s)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),u=[a],l=this.sortedKeys(e);u.push(l.json);var c=u.length;l.sorted.forEach(function(d){u.push(n.admit(e[d]))});var o=this.pool.lookupArray(u);if(!o.object){var h=o.object=Object.create(a);this.known.add(h),l.sorted.forEach(function(d,p){h[d]=u[c+p]}),__DEV__&&Object.freeze(h)}return o.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}(),Po=Object.assign(function(t){if(Ze(t)){Jw===void 0&&dC();var e=Jw.admit(t),n=Xw.get(e);return n===void 0&&Xw.set(e,n=JSON.stringify(e)),n}return JSON.stringify(t)},{reset:dC}),Jw,Xw;function dC(){Jw=new Yw,Xw=new(eo?WeakMap:Map)}function pC(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var YK=function(){function t(e){var n=this;this.knownResults=new(eo?WeakMap:Map),this.config=Yh(e,{addTypename:e.addTypename!==!1,canonizeResults:GL(e)}),this.canon=e.canon||new Yw,this.executeSelectionSet=qp(function(r){var i,s=r.context.canonizeResults,o=pC(r);o[3]=!s;var a=(i=n.executeSelectionSet).peek.apply(i,o);return a?s?N(N({},a),{result:n.canon.admit(a.result)}):a:(fC(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:pC,makeCacheKey:function(r,i,s,o){if(dc(s.store))return s.store.makeCacheKey(r,Ae(i)?i.__ref:i,s.varString,o)}}),this.executeSubSelectedArray=qp(function(r){return fC(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var i=r.field,s=r.array,o=r.context;if(dc(o.store))return o.store.makeCacheKey(i,s,o.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Yw},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,s=i===void 0?"ROOT_QUERY":i,o=e.variables,a=e.returnPartialData,u=a===void 0?!0:a,l=e.canonizeResults,c=l===void 0?this.config.canonizeResults:l,h=this.config.cache.policies;o=N(N({},wS(EL(r))),o);var f=au(s),d=this.executeSelectionSet({selectionSet:Mg(r).selectionSet,objectOrReference:f,enclosingRef:f,context:N({store:n,query:r,policies:h,variables:o,varString:Po(o),canonizeResults:c},YL(r,this.config.fragments))}),p;if(d.missing&&(p=[new WL(JK(d.missing),d.missing,r,o)],!u))throw p[0];return{result:d.result,complete:!p,missing:p}},t.prototype.isFresh=function(e,n,r,i){if(dc(i.store)&&this.knownResults.get(e)===r){var s=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(s&&e===s.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,o=e.context;if(Ae(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=o.variables,u=o.policies,l=o.store,c=l.getFieldValue(i,"__typename"),h=[],f,d=new $s;this.config.addTypename&&typeof c=="string"&&!u.rootIdsByTypename[c]&&h.push({__typename:c});function p(w,E){var _;return w.missing&&(f=d.merge(f,(_={},_[E]=w.missing,_))),w.result}var m=new Set(r.selections);m.forEach(function(w){var E,_;if(Dg(w,a))if(ta(w)){var T=u.readField({fieldName:w.name.value,field:w,variables:o.variables,from:i},o),k=ea(w);T===void 0?bS.added(w)||(f=d.merge(f,(E={},E[k]="Can't find field '".concat(w.name.value,"' on ").concat(Ae(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),E))):ot(T)?T=p(n.executeSubSelectedArray({field:w,array:T,enclosingRef:s,context:o}),k):w.selectionSet?T!=null&&(T=p(n.executeSelectionSet({selectionSet:w.selectionSet,objectOrReference:T,enclosingRef:Ae(T)?T:s,context:o}),k)):o.canonizeResults&&(T=n.canon.pass(T)),T!==void 0&&h.push((_={},_[k]=T,_))}else{var x=gS(w,o.lookupFragment);if(!x&&w.kind===Z.FRAGMENT_SPREAD)throw __DEV__?new Oe("No fragment named ".concat(w.name.value)):new Oe(5);x&&u.fragmentMatches(x,c)&&x.selectionSet.selections.forEach(m.add,m)}});var b=ES(h),g={result:b,missing:f},y=o.canonizeResults?this.canon.admit(g):hh(g);return y.result&&this.knownResults.set(y.result,r),y},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,s=e.enclosingRef,o=e.context,a,u=new $s;function l(c,h){var f;return c.missing&&(a=u.merge(a,(f={},f[h]=c.missing,f))),c.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(c,h){return c===null?null:ot(c)?l(n.executeSubSelectedArray({field:r,array:c,enclosingRef:s,context:o}),h):r.selectionSet?l(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:c,enclosingRef:Ae(c)?c:s,context:o}),h):(__DEV__&&XK(o.store,r,c),c)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function JK(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function XK(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){Ze(i)&&(__DEV__?V(!Ae(i),"Missing selection set for object of type ".concat(WK(t,i)," returned for query field ").concat(e.name.value)):V(!Ae(i),6),Object.values(i).forEach(r.add,r))})}}var NS=new Ug,mC=new WeakMap;function pc(t){var e=mC.get(t);return e||mC.set(t,e={vars:new Set,dep:qL()}),e}function gC(t){pc(t).vars.forEach(function(e){return e.forgetCache(t)})}function ZK(t){pc(t).vars.forEach(function(e){return e.attachCache(t)})}function eY(t){var e=new Set,n=new Set,r=function(s){if(arguments.length>0){if(t!==s){t=s,e.forEach(function(u){pc(u).dep.dirty(r),tY(u)});var o=Array.from(n);n.clear(),o.forEach(function(u){return u(t)})}}else{var a=NS.getValue();a&&(i(a),pc(a).dep(r))}return t};r.onNextChange=function(s){return n.add(s),function(){n.delete(s)}};var i=r.attachCache=function(s){return e.add(s),pc(s).vars.add(r),r};return r.forgetCache=function(s){return e.delete(s)},r}function tY(t){t.broadcastWatches&&t.broadcastWatches()}var yC=Object.create(null);function AS(t){var e=JSON.stringify(t);return yC[e]||(yC[e]=Object.create(null))}function vC(t){var e=AS(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(o,a){return r.readField(a,o)},s=r.keyObject=RS(t,function(o){var a=cu(r.storeObject,o,i);return a===void 0&&n!==r.storeObject&&kt.call(n,o[0])&&(a=cu(n,o,ZL)),__DEV__?V(a!==void 0,"Missing field '".concat(o.join("."),"' while extracting keyFields from ").concat(JSON.stringify(n))):V(a!==void 0,2),a});return"".concat(r.typename,":").concat(JSON.stringify(s))})}function wC(t){var e=AS(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,s=r.variables,o=r.fieldName,a=RS(t,function(l){var c=l[0],h=c.charAt(0);if(h==="@"){if(i&&On(i.directives)){var f=c.slice(1),d=i.directives.find(function(g){return g.name.value===f}),p=d&&Lg(d,s);return p&&cu(p,l.slice(1))}return}if(h==="$"){var m=c.slice(1);if(s&&kt.call(s,m)){var b=l.slice(0);return b[0]=m,cu(s,b)}return}if(n)return cu(n,l)}),u=JSON.stringify(a);return(n||u!=="{}")&&(o+=":"+u),o})}function RS(t,e){var n=new $s;return XL(t).reduce(function(r,i){var s,o=e(i);if(o!==void 0){for(var a=i.length-1;a>=0;--a)o=(s={},s[i[a]]=o,s);r=n.merge(r,o)}return r},Object.create(null))}function XL(t){var e=AS(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,s){ot(i)?(XL(i).forEach(function(o){return n.push(r.concat(o))}),r.length=0):(r.push(i),ot(t[s+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function ZL(t,e){return t[e]}function cu(t,e,n){return n=n||ZL,eF(e.reduce(function r(i,s){return ot(i)?i.map(function(o){return r(o,s)}):i&&n(i,s)},t))}function eF(t){return Ze(t)?ot(t)?t.map(eF):RS(Object.keys(t).sort(),function(e){return cu(t,e)}):t}yS.setStringify(Po);function Zw(t){return t.args!==void 0?t.args:t.field?Lg(t.field,t.variables):null}var nY=function(){},bC=function(t,e){return e.fieldName},EC=function(t,e,n){var r=n.mergeObjects;return r(t,e)},SC=function(t,e){return e},rY=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=N({dataIdFromObject:QL},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,s=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=n&&n.storeObject||e,a=N(N({},n),{typename:s,storeObject:o,readField:n&&n.readField||function(){var f=PS(arguments,o);return i.readField(f,{store:i.cache.data,variables:f.variables})}}),u,l=s&&this.getTypePolicy(s),c=l&&l.keyFn||this.config.dataIdFromObject;c;){var h=c(e,a);if(ot(h))c=vC(h);else{u=h;break}}return u=u?String(u):void 0,a.keyObject?[u,a.keyObject]:[u]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],s=i.queryType,o=i.mutationType,a=i.subscriptionType,u=ir(i,["queryType","mutationType","subscriptionType"]);s&&n.setRootTypename("Query",r),o&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),kt.call(n.toBeAdded,r)?n.toBeAdded[r].push(u):n.toBeAdded[r]=[u]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),s=n.keyFields,o=n.fields;function a(u,l){u.merge=typeof l=="function"?l:l===!0?EC:l===!1?SC:u.merge}a(i,n.merge),i.keyFn=s===!1?nY:ot(s)?vC(s):typeof s=="function"?s:i.keyFn,o&&Object.keys(o).forEach(function(u){var l=r.getFieldPolicy(e,u,!0),c=o[u];if(typeof c=="function")l.read=c;else{var h=c.keyArgs,f=c.read,d=c.merge;l.keyFn=h===!1?bC:ot(h)?wC(h):typeof h=="function"?h:l.keyFn,typeof f=="function"&&(l.read=f),a(l,d)}l.read&&l.merge&&(l.keyFn=l.keyFn||bC)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(__DEV__?V(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):V(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var s=i.match(KL);(!s||s[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!kt.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(o){var a=n.getTypePolicy(o),u=a.fields,l=ir(a,["fields"]);Object.assign(r,l),Object.assign(r.fields,u)})}var s=this.toBeAdded[e];return s&&s.length&&s.splice(0).forEach(function(o){n.updateTypePolicy(e,o)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var s=this;if(!e.typeCondition)return!0;if(!n)return!1;var o=e.typeCondition.name.value;if(n===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(n,!0),u=[a],l=function(p){var m=s.getSupertypeSet(p,!1);m&&m.size&&u.indexOf(m)<0&&u.push(m)},c=!!(r&&this.fuzzySubtypes.size),h=!1,f=0;f<u.length;++f){var d=u[f];if(d.has(o))return a.has(o)||(h&&__DEV__&&V.warn("Inferring subtype ".concat(n," of supertype ").concat(o)),a.add(o)),!0;d.forEach(l),c&&f===u.length-1&&Kw(e.selectionSet,r,i)&&(c=!1,h=!0,this.fuzzySubtypes.forEach(function(p,m){var b=n.match(p);b&&b[0]===n&&l(m)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),s,o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},u=Zw(e);o;){var l=o(u,a);if(ot(l))o=wC(l);else{s=l||r;break}}return s===void 0&&(s=e.field?fG(e.field,e.variables):yS(r,Zw(e))),s===!1?r:r===Vs(s)?s:r+":"+s},t.prototype.readField=function(e,n){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var s=n.store.getFieldValue(r,"__typename");s&&(e.typename=s)}var o=this.getStoreFieldName(e),a=Vs(o),u=n.store.getFieldValue(r,o),l=this.getFieldPolicy(e.typename,a,!1),c=l&&l.read;if(c){var h=_C(this,r,e,n,n.store.getStorage(Ae(r)?r.__ref:r,o));return NS.withValue(this.cache,c,[u,h])}return u}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s},t.prototype.runMergeFunction=function(e,n,r,i,s){var o=r.field,a=r.typename,u=r.merge;return u===EC?tF(i.store)(e,n):u===SC?n:(i.overwrite&&(e=void 0),u(e,n,_C(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:i.variables},i,s||Object.create(null))))},t}();function _C(t,e,n,r,i){var s=t.getStoreFieldName(n),o=Vs(s),a=n.variables||r.variables,u=r.store,l=u.toReference,c=u.canRead;return{args:Zw(n),field:n.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:Ae,toReference:l,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(PS(arguments,e,a),r)},mergeObjects:tF(r.store)}}function PS(t,e,n){var r=t[0],i=t[1],s=t.length,o;return typeof r=="string"?o={fieldName:r,from:s>1?i:e}:(o=N({},r),kt.call(o,"from")||(o.from=e)),__DEV__&&o.from===void 0&&__DEV__&&V.warn("Undefined 'from' passed to readField with arguments ".concat(jG(Array.from(t)))),o.variables===void 0&&(o.variables=n),o}function tF(t){return function(n,r){if(ot(n)||ot(r))throw __DEV__?new Oe("Cannot automatically merge arrays"):new Oe(4);if(Ze(n)&&Ze(r)){var i=t.getFieldValue(n,"__typename"),s=t.getFieldValue(r,"__typename"),o=i&&s&&i!==s;if(o)return r;if(Ae(n)&&Wa(r))return t.merge(n.__ref,r),n;if(Wa(n)&&Ae(r))return t.merge(n,r.__ref),r;if(Wa(n)&&Wa(r))return N(N({},n),r)}return r}}function wv(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:N(N({},t),{clientOnly:e,deferred:n})),i}var iY=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,s=n.result,o=n.dataId,a=n.variables,u=n.overwrite,l=Kh(i),c=QK();a=N(N({},wS(l)),a);var h=N(N({store:e,written:Object.create(null),merge:function(d,p){return c.merge(d,p)},variables:a,varString:Po(a)},YL(i,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:s||Object.create(null),dataId:o,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:h});if(!Ae(f))throw __DEV__?new Oe("Could not identify object ".concat(JSON.stringify(s))):new Oe(7);return h.incomingById.forEach(function(d,p){var m=d.storeObject,b=d.mergeTree,g=d.fieldNodeSet,y=au(p);if(b&&b.map.size){var w=r.applyMerges(b,y,m,h);if(Ae(w))return;m=w}if(__DEV__&&!h.overwrite){var E=Object.create(null);g.forEach(function(k){k.selectionSet&&(E[k.name.value]=!0)});var _=function(k){return E[Vs(k)]===!0},T=function(k){var x=b&&b.map.get(k);return Boolean(x&&x.info&&x.info.merge)};Object.keys(m).forEach(function(k){_(k)&&!T(k)&&sY(y,m,k,h.store)})}e.merge(p,m)}),e.retain(f.__ref),f},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,s=e.selectionSet,o=e.context,a=e.mergeTree,u=this.cache.policies,l=Object.create(null),c=r&&u.rootTypenamesById[r]||Mw(i,s,o.fragmentMap)||r&&o.store.get(r,"__typename");typeof c=="string"&&(l.__typename=c);var h=function(){var w=PS(arguments,l,o.variables);if(Ae(w.from)){var E=o.incomingById.get(w.from.__ref);if(E){var _=u.readField(N(N({},w),{from:E.storeObject}),o);if(_!==void 0)return _}}return u.readField(w,o)},f=new Set;this.flattenFields(s,i,o,c).forEach(function(w,E){var _,T=ea(E),k=i[T];if(f.add(E),k!==void 0){var x=u.getStoreFieldName({typename:c,fieldName:E.name.value,field:E,variables:w.variables}),M=IC(a,x),C=n.processFieldValue(k,E,E.selectionSet?wv(w,!1,!1):w,M),oe=void 0;E.selectionSet&&(Ae(C)||Wa(C))&&(oe=h("__typename",C));var pe=u.getMergeFunction(c,E.name.value,oe);pe?M.info={field:E,typename:c,merge:pe}:TC(a,x),l=w.merge(l,(_={},_[x]=C,_))}else __DEV__&&!w.clientOnly&&!w.deferred&&!bS.added(E)&&!u.getReadFunction(c,E.name.value)&&__DEV__&&V.error("Missing field '".concat(ea(E),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var d=u.identify(i,{typename:c,selectionSet:s,fragmentMap:o.fragmentMap,storeObject:l,readField:h}),p=d[0],m=d[1];r=r||p,m&&(l=o.merge(l,m))}catch(w){if(!r)throw w}if(typeof r=="string"){var b=au(r),g=o.written[r]||(o.written[r]=[]);if(g.indexOf(s)>=0||(g.push(s),this.reader&&this.reader.isFresh(i,b,s,o)))return b;var y=o.incomingById.get(r);return y?(y.storeObject=o.merge(y.storeObject,l),y.mergeTree=e1(y.mergeTree,a),f.forEach(function(w){return y.fieldNodeSet.add(w)})):o.incomingById.set(r,{storeObject:l,mergeTree:zp(a)?void 0:a,fieldNodeSet:f}),b}return l},t.prototype.processFieldValue=function(e,n,r,i){var s=this;return!n.selectionSet||e===null?__DEV__?CL(e):e:ot(e)?e.map(function(o,a){var u=s.processFieldValue(o,n,r,IC(i,a));return TC(i,a),u}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=Mw(n,e,r.fragmentMap));var s=new Map,o=this.cache.policies,a=new Jh(!1);return function u(l,c){var h=a.lookup(l,c.clientOnly,c.deferred);h.visited||(h.visited=!0,l.selections.forEach(function(f){if(Dg(f,r.variables)){var d=c.clientOnly,p=c.deferred;if(!(d&&p)&&On(f.directives)&&f.directives.forEach(function(g){var y=g.name.value;if(y==="client"&&(d=!0),y==="defer"){var w=Lg(g,r.variables);(!w||w.if!==!1)&&(p=!0)}}),ta(f)){var m=s.get(f);m&&(d=d&&m.clientOnly,p=p&&m.deferred),s.set(f,wv(r,d,p))}else{var b=gS(f,r.lookupFragment);if(!b&&f.kind===Z.FRAGMENT_SPREAD)throw __DEV__?new Oe("No fragment named ".concat(f.name.value)):new Oe(8);b&&o.fragmentMatches(b,i,n,r.variables)&&u(b.selectionSet,wv(r,d,p))}}}))}(e,r),s},t.prototype.applyMerges=function(e,n,r,i,s){var o,a=this;if(e.map.size&&!Ae(r)){var u=!ot(r)&&(Ae(n)||Wa(n))?n:void 0,l=r;u&&!s&&(s=[Ae(u)?u.__ref:u]);var c,h=function(f,d){return ot(f)?typeof d=="number"?f[d]:void 0:i.store.getFieldValue(f,String(d))};e.map.forEach(function(f,d){var p=h(u,d),m=h(l,d);if(m!==void 0){s&&s.push(d);var b=a.applyMerges(f,p,m,i,s);b!==m&&(c=c||new Map,c.set(d,b)),s&&V(s.pop()===d)}}),c&&(r=ot(l)?l.slice(0):N({},l),c.forEach(function(f,d){r[d]=f}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,s&&(o=i.store).getStorage.apply(o,s)):r},t}(),nF=[];function IC(t,e){var n=t.map;return n.has(e)||n.set(e,nF.pop()||{map:new Map}),n.get(e)}function e1(t,e){if(t===e||!e||zp(e))return t;if(!t||zp(t))return e;var n=t.info&&e.info?N(N({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,s={info:n,map:i};if(r){var o=new Set(e.map.keys());t.map.forEach(function(a,u){s.map.set(u,e1(a,e.map.get(u))),o.delete(u)}),o.forEach(function(a){s.map.set(a,e1(e.map.get(a),t.map.get(a)))})}return s}function zp(t){return!t||!(t.info||t.map.size)}function TC(t,e){var n=t.map,r=n.get(e);r&&zp(r)&&(nF.push(r),n.delete(e))}var kC=new Set;function sY(t,e,n,r){var i=function(h){var f=r.getFieldValue(h,n);return typeof f=="object"&&f},s=i(t);if(s){var o=i(e);if(o&&!Ae(s)&&!Qe(s,o)&&!Object.keys(s).every(function(h){return r.getFieldValue(o,h)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),u=Vs(n),l="".concat(a,".").concat(u);if(!kC.has(l)){kC.add(l);var c=[];!ot(s)&&!ot(o)&&[s,o].forEach(function(h){var f=r.getFieldValue(h,"__typename");typeof f=="string"&&!c.includes(f)&&c.push(f)}),__DEV__&&V.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(a,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(l,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(s).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(o).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var oY=function(t){or(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=eY,r.txCount=0,r.config=zK(n),r.addTypename=!!r.config.addTypename,r.policies=new rY({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new dh.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,s=this.config.fragments;this.storeWriter=new iY(this,this.storeReader=new YK({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:GL(this.config),canon:n?void 0:i&&i.canon,fragments:s}),s),this.maybeBroadcastWatch=qp(function(o,a){return r.broadcastWatch(o,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(o){var a=o.optimistic?r.optimisticData:r.data;if(dc(a)){var u=o.optimistic,l=o.id,c=o.variables;return a.makeCacheKey(o.query,o.callback,Po({optimistic:u,id:l,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(N(N({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(s){if(s instanceof WL)return null;throw s}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(kt.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(N(N({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||ZK(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&gC(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){Po.reset();var r=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(Ae(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){__DEV__&&V.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(kt.call(n,"id"))return!1;n=N(N({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),Po.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),gC(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,s=n.optimistic,o=s===void 0?!0:s,a=n.removeOptimistic,u=n.onWatchUpdated,l,c=function(f){var d=r,p=d.data,m=d.optimisticData;++r.txCount,f&&(r.data=r.optimisticData=f);try{return l=i(r)}finally{--r.txCount,r.data=p,r.optimisticData=m}},h=new Set;return u&&!this.txCount&&this.broadcastWatches(N(N({},n),{onWatchUpdated:function(f){return h.add(f),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,c):o===!1?c(this.data):c(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),u&&h.size?(this.broadcastWatches(N(N({},n),{onWatchUpdated:function(f,d){var p=u.call(this,f,d);return p!==!1&&h.delete(f),p}})),h.size&&h.forEach(function(f){return r.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(n),l},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){if(this.addTypename){var r=this.typenameDocumentCache.get(n);return r||(r=bS(n),this.typenameDocumentCache.set(n,r),this.typenameDocumentCache.set(r,r)),r}return n},e.prototype.transformForLink=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,s=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,s,i)===!1)||(!i||!Qe(i.result,s.result))&&n.callback(n.lastDiff=s,i)},e}(qK);function aY(t){return t.hasOwnProperty("graphQLErrors")}var uY=function(t){var e="";if(On(t.graphQLErrors)||On(t.clientErrors)){var n=(t.graphQLErrors||[]).concat(t.clientErrors||[]);n.forEach(function(r){var i=r?r.message:"Error message not found.";e+="".concat(i,`
`)})}return t.networkError&&(e+="".concat(t.networkError.message,`
`)),e=e.replace(/\n$/,""),e},xr=function(t){or(e,t);function e(n){var r=n.graphQLErrors,i=n.clientErrors,s=n.networkError,o=n.errorMessage,a=n.extraInfo,u=t.call(this,o)||this;return u.name="ApolloError",u.graphQLErrors=r||[],u.clientErrors=i||[],u.networkError=s||null,u.message=o||uY(u),u.extraInfo=a,u.__proto__=e.prototype,u}return e}(Error),Te;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(Te||(Te={}));function ph(t){return t?t<7:!1}var lY=Object.assign,cY=Object.hasOwnProperty,t1=function(t){or(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,s=n.options,o=t.call(this,function(b){try{var g=b._subscription._observer;g&&!g.error&&(g.error=hY)}catch{}var y=!o.observers.size;o.observers.add(b);var w=o.last;return w&&w.error?b.error&&b.error(w.error):w&&w.result&&b.next&&b.next(w.result),y&&o.reobserve().catch(function(){}),function(){o.observers.delete(b)&&!o.observers.size&&o.tearDownQuery()}})||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=i,o.queryManager=r,o.isTornDown=!1;var a=r.defaultOptions.watchQuery,u=a===void 0?{}:a,l=u.fetchPolicy,c=l===void 0?"cache-first":l,h=s.fetchPolicy,f=h===void 0?c:h,d=s.initialFetchPolicy,p=d===void 0?f==="standby"?c:f:d;o.options=N(N({},s),{initialFetchPolicy:p,fetchPolicy:f}),o.queryId=i.queryId||r.generateQueryId();var m=Kh(o.query);return o.queryName=m&&m.name&&m.name.value,o}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var s={next:function(a){r(a),n.observers.delete(s),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){o.unsubscribe()},0)},error:i},o=n.subscribe(s)})},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||Te.ready,s=N(N({},r),{loading:ph(i),networkStatus:i}),o=this.options.fetchPolicy,a=o===void 0?"cache-first":o;if(!(a==="network-only"||a==="no-cache"||a==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var u=this.queryInfo.getDiff();(u.complete||this.options.returnPartialData)&&(s.data=u.result),Qe(s.data,{})&&(s.data=void 0),u.complete?(delete s.partial,u.complete&&s.networkStatus===Te.loading&&(a==="cache-first"||a==="cache-only")&&(s.networkStatus=Te.ready,s.loading=!1)):s.partial=!0,__DEV__&&!u.complete&&!this.options.partialRefetch&&!s.loading&&!s.data&&!s.error&&iF(u.missing)}return n&&this.updateLastResult(s),s},e.prototype.isDifferentFromLastResult=function(n,r){return!this.last||!Qe(this.last.result,n)||r&&!Qe(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||Qe(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},s=this.options.fetchPolicy;if(s==="cache-and-network"?i.fetchPolicy=s:s==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&n&&cY.call(n,"variables")){var o=EL(this.query),a=o.variableDefinitions;(!a||!a.some(function(u){return u.variable.name.value==="variables"}))&&__DEV__&&V.warn("Called refetch(".concat(JSON.stringify(n),") for query ").concat(((r=o.name)===null||r===void 0?void 0:r.value)||JSON.stringify(o),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return n&&!Qe(this.options.variables,n)&&(i.variables=this.options.variables=N(N({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,Te.refetch)},e.prototype.fetchMore=function(n){var r=this,i=N(N({},n.query?n:N(N(N(N({},this.options),{query:this.query}),n),{variables:N(N({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId(),o=this.queryInfo,a=o.networkStatus;o.networkStatus=Te.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(s,i,Te.fetchMore).then(function(l){return r.queryManager.removeQuery(s),o.networkStatus===Te.fetchMore&&(o.networkStatus=a),r.queryManager.cache.batch({update:function(c){var h=n.updateQuery;h?c.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(f){return h(f,{fetchMoreResult:l.data,variables:i.variables})}):c.writeQuery({query:i.query,variables:i.variables,data:l.data})},onWatchUpdated:function(c){u.add(c.query)}}),l}).finally(function(){u.has(r.query)||rF(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(s){var o=n.updateQuery;o&&r.updateQuery(function(a,u){var l=u.variables;return o(a,{subscriptionData:s,variables:l})})},error:function(s){if(n.onError){n.onError(s);return}__DEV__&&V.error("Unhandled GraphQL subscription error",s)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.setVariables=function(n){return Qe(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},Te.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,s=n(i,{variables:this.variables});s&&(r.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,s=i===void 0?"cache-first":i,o=r.initialFetchPolicy,a=o===void 0?s:o;s==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(s,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,n,r)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,s=r.options.pollInterval;if(!s){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===s)){__DEV__?V(s,"Attempted to start a polling query without a polling interval."):V(s,13);var o=i||(this.pollingInfo={});o.interval=s;var a=function(){n.pollingInfo&&(ph(n.queryInfo.networkStatus)?u():n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},Te.poll).then(u,u))},u=function(){var l=n.pollingInfo;l&&(clearTimeout(l.timeout),l.timeout=setTimeout(a,l.interval))};u()}}},e.prototype.updateLastResult=function(n,r){return r===void 0&&(r=this.variables),this.last=N(N({},this.last),{result:this.queryManager.assumeImmutableResults?n:CL(n),variables:r}),On(n.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(n,r){var i=this;this.isTornDown=!1;var s=r===Te.refetch||r===Te.fetchMore||r===Te.poll,o=this.options.variables,a=this.options.fetchPolicy,u=Yh(this.options,n||{}),l=s?u:lY(this.options,u);s||(this.updatePolling(),n&&n.variables&&!Qe(n.variables,o)&&l.fetchPolicy!=="standby"&&l.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",l),r===void 0&&(r=Te.setVariables)));var c=l.variables&&N({},l.variables),h=this.fetch(l,r),f={next:function(d){i.reportResult(d,c)},error:function(d){i.reportError(d,c)}};return s||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=f),h.addObserver(f),h.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError();(i||this.isDifferentFromLastResult(n,r))&&((i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),fc(this.observers,"next",n))},e.prototype.reportError=function(n,r){var i=N(N({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:Te.error,loading:!1});this.updateLastResult(i,r),fc(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Ue);OL(t1);function rF(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,typeof r=="function"?r.apply(this,arguments):n}}):t.reobserve()}function hY(t){__DEV__&&V.error("Unhandled error",t.message,t.stack)}function iF(t){__DEV__&&t&&__DEV__&&V.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var sF=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,s=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=Wk(n.resolvers,r)}):this.resolvers=Wk(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var n=e.document,r=e.remoteResult,i=e.context,s=e.variables,o=e.onlyRunForcedResolvers,a=o===void 0?!1:o;return Gi(this,void 0,void 0,function(){return Ki(this,function(u){return n?[2,this.resolveDocument(n,r.data,i,s,this.fragmentMatcher,a).then(function(l){return N(N({},r),{data:l.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return pS(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return SG(e)},t.prototype.prepareContext=function(e){var n=this.cache;return N(N({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e,n,r){return n===void 0&&(n={}),r===void 0&&(r={}),Gi(this,void 0,void 0,function(){return Ki(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,n)||{},this.prepareContext(r),n).then(function(s){return N(N({},n),s.exportedVariables)})]:[2,N({},n)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return xi(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return dS}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:EG(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n,r,i,s,o){return r===void 0&&(r={}),i===void 0&&(i={}),s===void 0&&(s=function(){return!0}),o===void 0&&(o=!1),Gi(this,void 0,void 0,function(){var a,u,l,c,h,f,d,p,m,b,g;return Ki(this,function(y){return a=Mg(e),u=vS(e),l=mS(u),c=this.collectSelectionsToResolve(a,l),h=a.operation,f=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",d=this,p=d.cache,m=d.client,b={fragmentMap:l,context:N(N({},r),{cache:p,client:m}),variables:i,fragmentMatcher:s,defaultOperationType:f,exportedVariables:{},selectionsToResolve:c,onlyRunForcedResolvers:o},g=!1,[2,this.resolveSelectionSet(a.selectionSet,g,n,b).then(function(w){return{result:w,exportedVariables:b.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return Gi(this,void 0,void 0,function(){var s,o,a,u,l,c=this;return Ki(this,function(h){return s=i.fragmentMap,o=i.context,a=i.variables,u=[r],l=function(f){return Gi(c,void 0,void 0,function(){var d,p;return Ki(this,function(m){return!n&&!i.selectionsToResolve.has(f)?[2]:Dg(f,a)?ta(f)?[2,this.resolveField(f,n,r,i).then(function(b){var g;typeof b<"u"&&u.push((g={},g[ea(f)]=b,g))})]:(mG(f)?d=f:(d=s[f.name.value],__DEV__?V(d,"No fragment named ".concat(f.name.value)):V(d,11)),d&&d.typeCondition&&(p=d.typeCondition.name.value,i.fragmentMatcher(r,p,o))?[2,this.resolveSelectionSet(d.selectionSet,n,r,i).then(function(b){u.push(b)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(l)).then(function(){return ES(u)})]})})},t.prototype.resolveField=function(e,n,r,i){return Gi(this,void 0,void 0,function(){var s,o,a,u,l,c,h,f,d,p=this;return Ki(this,function(m){return r?(s=i.variables,o=e.name.value,a=ea(e),u=o!==a,l=r[a]||r[o],c=Promise.resolve(l),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(h=r.__typename||i.defaultOperationType,f=this.resolvers&&this.resolvers[h],f&&(d=f[u?o:a],d&&(c=Promise.resolve(NS.withValue(this.cache,d,[r,Lg(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,c.then(function(b){var g,y;if(b===void 0&&(b=l),e.directives&&e.directives.forEach(function(E){E.name.value==="export"&&E.arguments&&E.arguments.forEach(function(_){_.name.value==="as"&&_.value.kind==="StringValue"&&(i.exportedVariables[_.value.value]=b)})}),!e.selectionSet||b==null)return b;var w=(y=(g=e.directives)===null||g===void 0?void 0:g.some(function(E){return E.name.value==="client"}))!==null&&y!==void 0?y:!1;if(Array.isArray(b))return p.resolveSubSelectedArray(e,n||w,b,i);if(e.selectionSet)return p.resolveSelectionSet(e.selectionSet,n||w,b,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var s=this;return Promise.all(r.map(function(o){if(o===null)return null;if(Array.isArray(o))return s.resolveSubSelectedArray(e,n,o,i);if(e.selectionSet)return s.resolveSelectionSet(e.selectionSet,n,o,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(o){return!Array.isArray(o)},i=this.selectionsToResolveCache;function s(o){if(!i.has(o)){var a=new Set;i.set(o,a),xi(o,{Directive:function(u,l,c,h,f){u.name.value==="client"&&f.forEach(function(d){r(d)&&Bk(d)&&a.add(d)})},FragmentSpread:function(u,l,c,h,f){var d=n[u.name.value];__DEV__?V(d,"No fragment named ".concat(u.name.value)):V(d,12);var p=s(d);p.size>0&&(f.forEach(function(m){r(m)&&Bk(m)&&a.add(m)}),a.add(u),p.forEach(function(m){a.add(m)}))}})}return i.get(o)}return s(e)},t}(),Qa=new(eo?WeakMap:Map);function bv(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return Qa.set(t,(Qa.get(t)+1)%1e15),n.apply(this,arguments)})}function CC(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Ev=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Qa.has(r)||(Qa.set(r,0),bv(r,"evict"),bv(r,"modify"),bv(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||Te.loading;return this.variables&&this.networkStatus!==Te.loading&&!Qe(this.variables,e.variables)&&(n=Te.setVariables),Qe(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){CC(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var n=this.getDiffOptions(e);if(this.lastDiff&&Qe(n,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(n);return this.updateLastDiff(i,n),i},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Qe(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0)))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():rF(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;CC(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(ph(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(n){return n.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=N(N({},this.getDiffOptions(e)),{watcher:this,callback:function(s){return n.setDiff(s)}});(!this.lastWatch||!Qe(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===Qa.get(this.cache)&&Qe(n,r.variables)&&Qe(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var s=this,o=new $s,a=On(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&On(e.incremental)){var u=NL(this.getDiff().result,e);e.data=u}else if("hasNext"in e&&e.hasNext){var l=this.getDiff();e.data=o.merge(l.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(n1(e,r.errorPolicy)?this.cache.performTransaction(function(c){if(s.shouldWrite(e,r.variables))c.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),s.lastWrite={result:e,variables:r.variables,dmCount:Qa.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete){e.data=s.lastDiff.diff.result;return}var h=s.getDiffOptions(r.variables),f=c.diff(h);s.stopped||s.updateWatch(r.variables),s.updateLastDiff(f,h),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Te.ready},t.prototype.markError=function(e){return this.networkStatus=Te.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function n1(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!Sd(t);return!r&&n&&t.data&&(r=!0),r}var fY=Object.prototype.hasOwnProperty,dY=function(){function t(e){var n=e.cache,r=e.link,i=e.defaultOptions,s=e.queryDeduplication,o=s===void 0?!1:s,a=e.onBroadcast,u=e.ssrMode,l=u===void 0?!1:u,c=e.clientAwareness,h=c===void 0?{}:c,f=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(eo?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=n,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=o,this.clientAwareness=h,this.localState=f||new sF({cache:n}),this.ssrMode=l,this.assumeImmutableResults=!!d,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new Oe("QueryManager stopped while query was in flight"):new Oe(14))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var n,r,i=e.mutation,s=e.variables,o=e.optimisticResponse,a=e.updateQueries,u=e.refetchQueries,l=u===void 0?[]:u,c=e.awaitRefetchQueries,h=c===void 0?!1:c,f=e.update,d=e.onQueryUpdated,p=e.fetchPolicy,m=p===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.fetchPolicy)||"network-only":p,b=e.errorPolicy,g=b===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.errorPolicy)||"none":b,y=e.keepRootFields,w=e.context;return Gi(this,void 0,void 0,function(){var E,_,T,k,x,M;return Ki(this,function(C){switch(C.label){case 0:return __DEV__?V(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):V(i,15),__DEV__?V(m==="network-only"||m==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):V(m==="network-only"||m==="no-cache",16),E=this.generateMutationId(),_=this.transform(i),T=_.document,k=_.hasClientExports,i=this.cache.transformForLink(T),s=this.getVariables(i,s),k?[4,this.localState.addExportedVariables(i,s,w)]:[3,2];case 1:s=C.sent(),C.label=2;case 2:return x=this.mutationStore&&(this.mutationStore[E]={mutation:i,variables:s,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:E,document:i,variables:s,fetchPolicy:m,errorPolicy:g,context:w,updateQueries:a,update:f,keepRootFields:y}),this.broadcastQueries(),M=this,[2,new Promise(function(oe,pe){return dv(M.getObservableFromLink(i,N(N({},w),{optimisticResponse:o}),s,!1),function(ce){if(Sd(ce)&&g==="none")throw new xr({graphQLErrors:Bw(ce)});x&&(x.loading=!1,x.error=null);var G=N({},ce);return typeof l=="function"&&(l=l(G)),g==="ignore"&&Sd(G)&&delete G.errors,M.markMutationResult({mutationId:E,result:G,document:i,variables:s,fetchPolicy:m,errorPolicy:g,context:w,update:f,updateQueries:a,awaitRefetchQueries:h,refetchQueries:l,removeOptimistic:o?E:void 0,onQueryUpdated:d,keepRootFields:y})}).subscribe({next:function(ce){M.broadcastQueries(),(!("hasNext"in ce)||ce.hasNext===!1)&&oe(ce)},error:function(ce){x&&(x.loading=!1,x.error=ce),o&&M.cache.removeOptimistic(E),M.broadcastQueries(),pe(ce instanceof xr?ce:new xr({networkError:ce}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,s=[],o=e.fetchPolicy==="no-cache";if(!o&&n1(i,e.errorPolicy)){if(uu(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),uu(i)&&On(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),u=void 0;a.result&&(u=NL(a.result,i)),typeof u<"u"&&(i.data=u,s.push({result:u,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach(function(h,f){var d=h.observableQuery,p=d&&d.queryName;if(!(!p||!fY.call(l,p))){var m=l[p],b=r.queries.get(f),g=b.document,y=b.variables,w=n.diff({query:g,variables:y,returnPartialData:!0,optimistic:!1}),E=w.result,_=w.complete;if(_&&E){var T=m(E,{mutationResult:i,queryName:g&&$w(g)||void 0,queryVariables:y});T&&s.push({result:T,dataId:"ROOT_QUERY",query:g,variables:y})}}})}if(s.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(h){o||s.forEach(function(m){return h.write(m)});var f=e.update,d=!VG(i)||uu(i)&&!i.hasNext;if(f){if(!o){var p=h.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});p.complete&&(i=N(N({},i),{data:p.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}d&&f(h,i,{context:e.context,variables:e.variables})}!o&&!e.keepRootFields&&d&&h.modify({id:"ROOT_MUTATION",fields:function(m,b){var g=b.fieldName,y=b.DELETE;return g==="__typename"?m:y}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(h){return c.push(h)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables):e;return this.cache.recordOptimisticTransaction(function(s){try{r.markMutationResult(N(N({},n),{result:{data:i}}),s)}catch(o){__DEV__&&V.error(o)}},n.mutationId)},t.prototype.fetchQuery=function(e,n,r){return this.fetchQueryObservable(e,n,r).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){var n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=bG(r),s=this.localState.clientQuery(r),o=i&&this.localState.serverQuery(i),a={document:r,hasClientExports:XH(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:s,serverQuery:o,defaultVars:wS(Kh(r)),asQuery:N(N({},r),{definitions:r.definitions.map(function(l){return l.kind==="OperationDefinition"&&l.operation!=="query"?N(N({},l),{operation:"query"}):l})})},u=function(l){l&&!n.has(l)&&n.set(l,a)};u(e),u(r),u(s),u(o)}return n.get(e)},t.prototype.getVariables=function(e,n){return N(N({},this.transform(e).defaultVars),n)},t.prototype.watchQuery=function(e){e=N(N({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var n=new Ev(this),r=new t1({queryManager:this,queryInfo:n,options:e});return this.queries.set(r.queryId,n),n.init({document:r.query,observableQuery:r,variables:r.variables}),r},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),__DEV__?V(e.query,"query option is required. You must specify your GraphQL document in the query option."):V(e.query,17),__DEV__?V(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):V(e.query.kind==="Document",18),__DEV__?V(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):V(!e.returnPartialData,19),__DEV__?V(!e.pollInterval,"pollInterval option only supported on watchQuery."):V(!e.pollInterval,20),this.fetchQuery(n,e).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Oe("Store reset while query was in flight (not completed in link chain)"):new Oe(21)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=Te.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(o){typeof o=="string"?i.set(o,!1):nG(o)?i.set(n.transform(o).document,!1):Ze(o)&&o.query&&s.add(o)}),this.queries.forEach(function(o,a){var u=o.observableQuery,l=o.document;if(u){if(e==="all"){r.set(a,u);return}var c=u.queryName,h=u.options.fetchPolicy;if(h==="standby"||e==="active"&&!u.hasObservers())return;(e==="active"||c&&i.has(c)||l&&i.has(l))&&(r.set(a,u),c&&i.set(c,!0),l&&i.set(l,!0))}}),s.size&&s.forEach(function(o){var a=qw("legacyOneTimeQuery"),u=n.getQuery(a).init({document:o.query,variables:o.variables}),l=new t1({queryManager:n,queryInfo:u,options:N(N({},o),{fetchPolicy:"network-only"})});V(l.queryId===a),u.setObservableQuery(l),r.set(a,l)}),__DEV__&&i.size&&i.forEach(function(o,a){o||__DEV__&&V.warn("Unknown query ".concat(typeof a=="string"?"named ":"").concat(JSON.stringify(a,null,2)," requested in refetchQueries options.include array"))}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,s){var o=i.options.fetchPolicy;i.resetLastResults(),(e||o!=="standby"&&o!=="cache-only")&&r.push(i.refetch()),n.getQuery(s).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,s=e.errorPolicy,o=e.variables,a=e.context,u=a===void 0?{}:a;r=this.transform(r).document,o=this.getVariables(r,o);var l=function(h){return n.getObservableFromLink(r,u,h).map(function(f){if(i!=="no-cache"&&(n1(f,s)&&n.cache.write({query:r,result:f.data,dataId:"ROOT_SUBSCRIPTION",variables:h}),n.broadcastQueries()),Sd(f))throw new xr({graphQLErrors:f.errors});return f})};if(this.transform(r).hasClientExports){var c=this.localState.addExportedVariables(r,o,u).then(l);return new Ue(function(h){var f=null;return c.then(function(d){return f=d.subscribe(h)},h.error),function(){return f&&f.unsubscribe()}})}return l(o)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i){var s=this,o;i===void 0&&(i=(o=n==null?void 0:n.queryDeduplication)!==null&&o!==void 0?o:this.queryDeduplication);var a,u=this.transform(e).serverQuery;if(u){var l=this,c=l.inFlightLinkObservables,h=l.link,f={query:u,variables:r,operationName:$w(u)||void 0,context:this.prepareContext(N(N({},n),{forceFetch:!i}))};if(n=f.context,i){var d=c.get(u)||new Map;c.set(u,d);var p=Po(r);if(a=d.get(p),!a){var m=new Wl([Ww(h,f)]);d.set(p,a=m),m.beforeNext(function(){d.delete(p)&&d.size<1&&c.delete(u)})}}else a=new Wl([Ww(h,f)])}else a=new Wl([Ue.of({data:{}})]),n=this.prepareContext(n);var b=this.transform(e).clientQuery;return b&&(a=dv(a,function(g){return s.localState.runResolvers({document:b,remoteResult:g,context:n,variables:r})})),a},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(this.transform(e.document).document);return dv(this.getObservableFromLink(s,r.context,r.variables),function(o){var a=Bw(o),u=a.length>0;if(i>=e.lastRequestId){if(u&&r.errorPolicy==="none")throw e.markError(new xr({graphQLErrors:a}));e.markResult(o,s,r,n),e.markReady()}var l={data:o.data,loading:!1,networkStatus:Te.ready};return u&&r.errorPolicy!=="ignore"&&(l.errors=a,l.networkStatus=Te.error),l},function(o){var a=aY(o)?o:new xr({networkError:o});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchQueryObservable=function(e,n,r){var i=this;r===void 0&&(r=Te.loading);var s=this.transform(n.query).document,o=this.getVariables(s,n.variables),a=this.getQuery(e),u=this.defaultOptions.watchQuery,l=n.fetchPolicy,c=l===void 0?u&&u.fetchPolicy||"cache-first":l,h=n.errorPolicy,f=h===void 0?u&&u.errorPolicy||"none":h,d=n.returnPartialData,p=d===void 0?!1:d,m=n.notifyOnNetworkStatusChange,b=m===void 0?!1:m,g=n.context,y=g===void 0?{}:g,w=Object.assign({},n,{query:s,variables:o,fetchPolicy:c,errorPolicy:f,returnPartialData:p,notifyOnNetworkStatusChange:b,context:y}),E=function(k){w.variables=k;var x=i.fetchQueryByPolicy(a,w,r);return w.fetchPolicy!=="standby"&&x.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),x},_=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(k){_(),setTimeout(function(){return T.cancel(k)})});var T=new Wl(this.transform(w.query).hasClientExports?this.localState.addExportedVariables(w.query,w.variables,w.context).then(E):E(w.variables));return T.promise.then(_,_),T},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,s=e.optimistic,o=s===void 0?!1:s,a=e.removeOptimistic,u=a===void 0?o?qw("refetchQueries"):void 0:a,l=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(f,d){c.set(d,{oq:f,lastDiff:n.getQuery(d).getDiff()})});var h=new Map;return r&&this.cache.batch({update:r,optimistic:o&&u||!1,removeOptimistic:u,onWatchUpdated:function(f,d,p){var m=f.watcher instanceof Ev&&f.watcher.observableQuery;if(m){if(l){c.delete(m.queryId);var b=l(m,d,p);return b===!0&&(b=m.refetch()),b!==!1&&h.set(m,b),b}l!==null&&c.set(m.queryId,{oq:m,lastDiff:p,diff:d})}}}),c.size&&c.forEach(function(f,d){var p=f.oq,m=f.lastDiff,b=f.diff,g;if(l){if(!b){var y=p.queryInfo;y.reset(),b=y.getDiff()}g=l(p,b,m)}(!l||g===!0)&&(g=p.refetch()),g!==!1&&h.set(p,g),d.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(d)}),u&&this.cache.removeOptimistic(u),h},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,s=n.query,o=n.variables,a=n.fetchPolicy,u=n.refetchWritePolicy,l=n.errorPolicy,c=n.returnPartialData,h=n.context,f=n.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:this.transform(s).document,variables:o,networkStatus:r});var p=function(){return e.getDiff(o)},m=function(E,_){_===void 0&&(_=e.networkStatus||Te.loading);var T=E.result;__DEV__&&!c&&!Qe(T,{})&&iF(E.missing);var k=function(x){return Ue.of(N({data:x,loading:ph(_),networkStatus:_},E.complete?null:{partial:!0}))};return T&&i.transform(s).hasForcedResolvers?i.localState.runResolvers({document:s,remoteResult:{data:T},context:h,variables:o,onlyRunForcedResolvers:!0}).then(function(x){return k(x.data||void 0)}):l==="none"&&_===Te.refetch&&Array.isArray(E.missing)?k(void 0):k(T)},b=a==="no-cache"?0:r===Te.refetch&&u!=="merge"?1:2,g=function(){return i.getResultsFromLink(e,b,{variables:o,context:h,fetchPolicy:a,errorPolicy:l})},y=f&&typeof d=="number"&&d!==r&&ph(r);switch(a){default:case"cache-first":{var w=p();return w.complete?[m(w,e.markReady())]:c||y?[m(w),g()]:[g()]}case"cache-and-network":{var w=p();return w.complete||c||y?[m(w),g()]:[g()]}case"cache-only":return[m(p(),e.markReady())];case"network-only":return y?[m(p()),g()]:[g()];case"no-cache":return y?[m(e.getDiff()),g()]:[g()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Ev(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return N(N({},n),{clientAwareness:this.clientAwareness})},t}(),xC=!1,pY=function(){function t(e){var n=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,i=e.credentials,s=e.headers,o=e.cache,a=e.ssrMode,u=a===void 0?!1:a,l=e.ssrForceFetchDelay,c=l===void 0?0:l,h=e.connectToDevTools,f=h===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:h,d=e.queryDeduplication,p=d===void 0?!0:d,m=e.defaultOptions,b=e.assumeImmutableResults,g=b===void 0?!1:b,y=e.resolvers,w=e.typeDefs,E=e.fragmentMatcher,_=e.name,T=e.version,k=e.link;if(k||(k=r?new RL({uri:r,credentials:i,headers:s}):to.empty()),!o)throw __DEV__?new Oe(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new Oe(9);if(this.link=k,this.cache=o,this.disableNetworkFetches=u||c>0,this.queryDeduplication=p,this.defaultOptions=m||Object.create(null),this.typeDefs=w,c&&setTimeout(function(){return n.disableNetworkFetches=!1},c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!xC&&f&&__DEV__&&(xC=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var x=window.navigator,M=x&&x.userAgent,C=void 0;typeof M=="string"&&(M.indexOf("Chrome/")>-1?C="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":M.indexOf("Firefox/")>-1&&(C="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),C&&__DEV__&&V.log("Download the Apollo DevTools for a better development experience: "+C)}this.version=HG,this.localState=new sF({cache:o,client:this,resolvers:y,fragmentMatcher:E}),this.queryManager=new dY({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:p,ssrMode:u,clientAwareness:{name:_,version:T},localState:this.localState,assumeImmutableResults:g,onBroadcast:f?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=lu(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=N(N({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=lu(this.defaultOptions.query,e)),__DEV__?V(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):V(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=N(N({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=lu(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},t.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return Ww(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(o,a){r.push(a),i.push(o)});var s=Promise.all(i);return s.queries=r,s.results=i,s.catch(function(o){__DEV__&&V.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(o))}),s},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),Id=new Map,r1=new Map,oF=!0,Wp=!1;function aF(t){return t.replace(/[\s,]+/g," ").trim()}function mY(t){return aF(t.source.body.substring(t.start,t.end))}function gY(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=mY(r.loc),o=r1.get(i);o&&!o.has(s)?oF&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||r1.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),n.push(r))}else n.push(r)}),N(N({},t),{definitions:n})}function yY(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function vY(t){var e=aF(t);if(!Id.has(e)){var n=qH(t,{experimentalFragmentVariables:Wp,allowLegacyFragmentVariables:Wp});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Id.set(e,yY(gY(n)))}return Id.get(e)}function ve(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[s+1]}),vY(r)}function wY(){Id.clear(),r1.clear()}function bY(){oF=!1}function EY(){Wp=!0}function SY(){Wp=!1}var Ol={gql:ve,resetCaches:wY,disableFragmentWarnings:bY,enableExperimentalFragmentVariables:EY,disableExperimentalFragmentVariables:SY};(function(t){t.gql=Ol.gql,t.resetCaches=Ol.resetCaches,t.disableFragmentWarnings=Ol.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Ol.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Ol.disableExperimentalFragmentVariables})(ve||(ve={}));ve.default=ve;var OC=kS?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function DS(){var t=S.createContext[OC];return t||(Object.defineProperty(S.createContext,OC,{value:t=S.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var _Y=function(t){var e=t.client,n=t.children,r=DS();return S.createElement(r.Consumer,null,function(i){return i===void 0&&(i={}),e&&i.client!==e&&(i=Object.assign({},i,{client:e})),__DEV__?V(i.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):V(i.client,29),S.createElement(r.Provider,{value:i},n)})};function LS(t){var e=S.useContext(DS()),n=t||e.client;return __DEV__?V(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):V(!!n,32),n}var NC=!1,IY="useSyncExternalStore",TY=Nd[IY],kY=TY||function(t,e,n){var r=e();__DEV__&&!NC&&r!==e()&&(NC=!0,__DEV__&&V.error("The result of getSnapshot should be cached to avoid an infinite loop"));var i=S.useState({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return $G?S.useLayoutEffect(function(){Object.assign(s,{value:r,getSnapshot:e}),Sv(s)&&o({inst:s})},[t,r,e]):Object.assign(s,{value:r,getSnapshot:e}),S.useEffect(function(){return Sv(s)&&o({inst:s}),t(function(){Sv(s)&&o({inst:s})})},[t]),r};function Sv(t){var e=t.value,n=t.getSnapshot;try{return e!==n()}catch{return!0}}var Kr;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(Kr||(Kr={}));var AC=new Map;function RC(t){var e;switch(t){case Kr.Query:e="Query";break;case Kr.Mutation:e="Mutation";break;case Kr.Subscription:e="Subscription";break}return e}function CY(t){var e=AC.get(t);if(e)return e;var n,r,i;__DEV__?V(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):V(!!t&&!!t.kind,33);for(var s=[],o=[],a=[],u=[],l=0,c=t.definitions;l<c.length;l++){var h=c[l];if(h.kind==="FragmentDefinition"){s.push(h);continue}if(h.kind==="OperationDefinition")switch(h.operation){case"query":o.push(h);break;case"mutation":a.push(h);break;case"subscription":u.push(h);break}}__DEV__?V(!s.length||o.length||a.length||u.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):V(!s.length||o.length||a.length||u.length,34),__DEV__?V(o.length+a.length+u.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(o.length," queries, ").concat(u.length," ")+"subscriptions and ".concat(a.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):V(o.length+a.length+u.length<=1,35),r=o.length?Kr.Query:Kr.Mutation,!o.length&&!a.length&&(r=Kr.Subscription);var f=o.length?o:a.length?a:u;__DEV__?V(f.length===1,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(f.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):V(f.length===1,36);var d=f[0];n=d.variableDefinitions||[],d.name&&d.name.kind==="Name"?i=d.name.value:i="data";var p={name:i,type:r,variables:n};return AC.set(t,p),p}function uF(t,e){var n=CY(t),r=RC(e),i=RC(n.type);__DEV__?V(n.type===e,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(i," was used instead.")):V(n.type===e,37)}var xY=Object.prototype.hasOwnProperty;function PC(t,e){return e===void 0&&(e=Object.create(null)),lF(LS(e.client),t).useQuery(e)}function lF(t,e){var n=S.useRef();(!n.current||t!==n.current.client||e!==n.current.query)&&(n.current=new OY(t,e,n.current));var r=n.current,i=S.useState(0);i[0];var s=i[1];return r.forceUpdate=function(){s(function(o){return o+1})},r}var OY=function(){function t(e,n,r){this.client=e,this.query=n,this.asyncResolveFns=new Set,this.optionsToIgnoreOnce=new(xL?WeakSet:Set),this.ssrDisabledResult=hh({loading:!0,data:void 0,error:void 0,networkStatus:Te.loading}),this.skipStandbyResult=hh({loading:!1,data:void 0,error:void 0,networkStatus:Te.ready}),this.toQueryResultCache=new(eo?WeakMap:Map),uF(n,Kr.Query);var i=r&&r.result,s=i&&i.data;s&&(this.previousData=s)}return t.prototype.forceUpdate=function(){__DEV__&&V.warn("Calling default no-op implementation of InternalState#forceUpdate")},t.prototype.asyncUpdate=function(e){var n=this;return new Promise(function(r,i){var s=n.watchQueryOptions,o=function(){n.asyncResolveFns.delete(r),n.optionsToIgnoreOnce.delete(s),e.removeEventListener("abort",o),i(e.reason)};n.asyncResolveFns.add(r),n.optionsToIgnoreOnce.add(s),e.addEventListener("abort",o),n.forceUpdate()})},t.prototype.useQuery=function(e){var n=this;this.renderPromises=S.useContext(DS()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),i=kY(S.useCallback(function(){if(n.renderPromises)return function(){};var o=function(){var l=n.result,c=r.getCurrentResult();l&&l.loading===c.loading&&l.networkStatus===c.networkStatus&&Qe(l.data,c.data)||n.setResult(c)},a=function(l){var c=r.last;u.unsubscribe();try{r.resetLastResults(),u=r.subscribe(o,a)}finally{r.last=c}if(!xY.call(l,"graphQLErrors"))throw l;var h=n.result;(!h||h&&h.loading||!Qe(l,h.error))&&n.setResult({data:h&&h.data,error:l,loading:!1,networkStatus:Te.error})},u=r.subscribe(o,a);return function(){return u.unsubscribe()}},[r,this.renderPromises,this.client.disableNetworkFetches]),function(){return n.getCurrentResult()},function(){return n.getCurrentResult()});this.unsafeHandlePartialRefetch(i);var s=this.toQueryResult(i);return!s.loading&&this.asyncResolveFns.size&&(this.asyncResolveFns.forEach(function(o){return o(s)}),this.asyncResolveFns.clear()),s},t.prototype.useOptions=function(e){var n,r=this.createWatchQueryOptions(this.queryHookOptions=e),i=this.watchQueryOptions;(this.optionsToIgnoreOnce.has(i)||!Qe(r,i))&&(this.watchQueryOptions=r,i&&this.observable&&(this.optionsToIgnoreOnce.delete(i),this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],n=this.client.defaultOptions.watchQuery;return n&&e.push(n),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(Yh(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(lu)},t.prototype.createWatchQueryOptions=function(e){var n;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var i=ir(e,["skip","ssr","onCompleted","onError","defaultOptions"]),s=Object.assign(i,{query:this.query});if(this.renderPromises&&(s.fetchPolicy==="network-only"||s.fetchPolicy==="cache-and-network")&&(s.fetchPolicy="cache-first"),s.variables||(s.variables={}),r){var o=s.fetchPolicy,a=o===void 0?this.getDefaultFetchPolicy():o,u=s.initialFetchPolicy,l=u===void 0?a:u;Object.assign(s,{initialFetchPolicy:l,fetchPolicy:"standby"})}else s.fetchPolicy||(s.fetchPolicy=((n=this.observable)===null||n===void 0?void 0:n.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return s},t.prototype.getDefaultFetchPolicy=function(){var e,n;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((n=this.client.defaultOptions.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=S.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var n=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var n=this.result;n&&n.data&&(this.previousData=n.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},t.prototype.handleErrorOrCompleted=function(e){var n=this;if(!e.loading){var r=this.toApolloError(e);Promise.resolve().then(function(){r?n.onError(r):e.data&&n.onCompleted(e.data)}).catch(function(i){__DEV__&&V.warn(i)})}},t.prototype.toApolloError=function(e){return On(e.errors)?new xr({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var n=this.toQueryResultCache.get(e);if(n)return n;var r=e.data;e.partial;var i=ir(e,["data","partial"]);return this.toQueryResultCache.set(e,n=N(N(N({data:r},i),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!n.error&&On(e.errors)&&(n.error=new xr({graphQLErrors:e.errors})),n},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:Te.refetch}),this.observable.refetch())},t}(),NY=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function Rf(t,e){var n,r=S.useRef(new Set),i=S.useRef(),s=i.current?lu(e,i.current):e,o=lF(LS(e&&e.client),(n=s==null?void 0:s.query)!==null&&n!==void 0?n:t),a=o.useQuery(N(N({},s),{skip:!i.current})),u=a.observable.options.initialFetchPolicy||o.getDefaultFetchPolicy(),l=Object.assign(a,{called:!!i.current}),c=S.useMemo(function(){for(var f={},d=function(g){var y=l[g];f[g]=function(){return i.current||(i.current=Object.create(null),o.forceUpdate()),y.apply(this,arguments)}},p=0,m=NY;p<m.length;p++){var b=m[p];d(b)}return f},[]);Object.assign(l,c),S.useEffect(function(){return function(){r.current.forEach(function(f){f.abort()})}},[]);var h=S.useCallback(function(f){var d=new AbortController;r.current.add(d),i.current=f?N(N({},f),{fetchPolicy:f.fetchPolicy||u}):{fetchPolicy:u};var p=o.asyncUpdate(d.signal).then(function(m){return r.current.delete(d),Object.assign(m,c)});return p.catch(function(){r.current.delete(d)}),p},[]);return[h,l]}function mh(t,e){var n=LS(e==null?void 0:e.client);uF(t,Kr.Mutation);var r=S.useState({called:!1,loading:!1,client:n}),i=r[0],s=r[1],o=S.useRef({result:i,mutationId:0,isMounted:!0,client:n,mutation:t,options:e});Object.assign(o.current,{client:n,options:e,mutation:t});var a=S.useCallback(function(l){l===void 0&&(l={});var c=o.current,h=c.client,f=c.options,d=c.mutation,p=N(N({},f),{mutation:d});!o.current.result.loading&&!p.ignoreResults&&o.current.isMounted&&s(o.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:h});var m=++o.current.mutationId,b=lu(p,l);return h.mutate(b).then(function(g){var y,w=g.data,E=g.errors,_=E&&E.length>0?new xr({graphQLErrors:E}):void 0;if(m===o.current.mutationId&&!b.ignoreResults){var T={called:!0,loading:!1,data:w,error:_,client:h};o.current.isMounted&&!Qe(o.current.result,T)&&s(o.current.result=T)}var k=l.onCompleted||((y=o.current.options)===null||y===void 0?void 0:y.onCompleted);return k==null||k(g.data,b),g}).catch(function(g){var y;if(m===o.current.mutationId&&o.current.isMounted){var w={loading:!1,error:g,data:void 0,called:!0,client:h};Qe(o.current.result,w)||s(o.current.result=w)}var E=l.onError||((y=o.current.options)===null||y===void 0?void 0:y.onError);if(E)return E(g,b),{data:void 0,errors:g};throw g})},[]),u=S.useCallback(function(){o.current.isMounted&&s({called:!1,loading:!1,client:n})},[]);return S.useEffect(function(){return o.current.isMounted=!0,function(){o.current.isMounted=!1}},[]),[a,N({reset:u},i)]}function AY(t){return new to(function(e,n){var r=ir(e,[]);return new Ue(function(i){var s,o=!1;return Promise.resolve(r).then(function(a){return t(a,e.getContext())}).then(e.setContext).then(function(){o||(s=n(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))}).catch(i.error.bind(i)),function(){o=!0,s&&s.unsubscribe()}})})}function RY(t){return Ze(t)&&"code"in t&&"reason"in t}var PY=function(t){or(e,t);function e(n){var r=t.call(this)||this;return r.client=n,r}return e.prototype.request=function(n){var r=this;return new Ue(function(i){return r.client.subscribe(N(N({},n),{query:bL(n.query)}),{next:i.next.bind(i),complete:i.complete.bind(i),error:function(s){return s instanceof Error?i.error(s):RY(s)?i.error(new Error("Socket closed with event ".concat(s.code," ").concat(s.reason||""))):i.error(new xr({graphQLErrors:Array.isArray(s)?s:[s]}))}})})},e}(to);function gn(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function uo(t){return gn(t)==="object"}function DY(t){return Array.isArray(t)&&t.length>0&&t.every(e=>"message"in e)}function DC(t,e){return t.length<124?t:e}const LY="graphql-transport-ws";var Rn;(function(t){t[t.InternalServerError=4500]="InternalServerError",t[t.InternalClientError=4005]="InternalClientError",t[t.BadRequest=4400]="BadRequest",t[t.BadResponse=4004]="BadResponse",t[t.Unauthorized=4401]="Unauthorized",t[t.Forbidden=4403]="Forbidden",t[t.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",t[t.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",t[t.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",t[t.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",t[t.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(Rn||(Rn={}));var ct;(function(t){t.ConnectionInit="connection_init",t.ConnectionAck="connection_ack",t.Ping="ping",t.Pong="pong",t.Subscribe="subscribe",t.Next="next",t.Error="error",t.Complete="complete"})(ct||(ct={}));function cF(t){if(!uo(t))throw new Error(`Message is expected to be an object, but got ${gn(t)}`);if(!t.type)throw new Error("Message is missing the 'type' property");if(typeof t.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${gn(t.type)}`);switch(t.type){case ct.ConnectionInit:case ct.ConnectionAck:case ct.Ping:case ct.Pong:{if("payload"in t&&!uo(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object or missing, but got "${t.payload}"`);break}case ct.Subscribe:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${gn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!uo(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${gn(t.payload)}`);if(typeof t.payload.query!="string")throw new Error(`"${t.type}" message payload expects the 'query' property to be a string, but got ${gn(t.payload.query)}`);if(t.payload.variables!=null&&!uo(t.payload.variables))throw new Error(`"${t.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${gn(t.payload.variables)}`);if(t.payload.operationName!=null&&gn(t.payload.operationName)!=="string")throw new Error(`"${t.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${gn(t.payload.operationName)}`);if(t.payload.extensions!=null&&!uo(t.payload.extensions))throw new Error(`"${t.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${gn(t.payload.extensions)}`);break}case ct.Next:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${gn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!uo(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${gn(t.payload)}`);break}case ct.Error:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${gn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!DY(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(t.payload)}`);break}case ct.Complete:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${gn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${t.type}"`)}return t}function FY(t,e){return cF(typeof t=="string"?JSON.parse(t,e):t)}function Nl(t,e){return cF(t),JSON.stringify(t,e)}function MY(t){const{url:e,connectionParams:n,lazy:r=!0,onNonLazyError:i=console.error,lazyCloseTimeout:s=0,keepAlive:o=0,disablePong:a,connectionAckWaitTimeout:u=0,retryAttempts:l=5,retryWait:c=async function(he){let re=1e3;for(let X=0;X<he;X++)re*=2;await new Promise(X=>setTimeout(X,re+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:h=Pf,isFatalConnectionProblem:f,on:d,webSocketImpl:p,generateID:m=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,he=>{const re=Math.random()*16|0;return(he=="x"?re:re&3|8).toString(16)})},jsonMessageReplacer:b,jsonMessageReviver:g}=t;let y;if(p){if(!UY(p))throw new Error("Invalid WebSocket implementation provided");y=p}else typeof WebSocket<"u"?y=WebSocket:typeof global<"u"?y=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(y=window.WebSocket||window.MozWebSocket);if(!y)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const w=y,E=(()=>{const G=(()=>{const re={};return{on(X,P){return re[X]=P,()=>{delete re[X]}},emit(X){var P;"id"in X&&((P=re[X.id])===null||P===void 0||P.call(re,X))}}})(),he={connecting:d!=null&&d.connecting?[d.connecting]:[],opened:d!=null&&d.opened?[d.opened]:[],connected:d!=null&&d.connected?[d.connected]:[],ping:d!=null&&d.ping?[d.ping]:[],pong:d!=null&&d.pong?[d.pong]:[],message:d!=null&&d.message?[G.emit,d.message]:[G.emit],closed:d!=null&&d.closed?[d.closed]:[],error:d!=null&&d.error?[d.error]:[]};return{onMessage:G.on,on(re,X){const P=he[re];return P.push(X),()=>{P.splice(P.indexOf(X),1)}},emit(re,...X){for(const P of[...he[re]])P(...X)}}})();function _(G){const he=[E.on("error",re=>{he.forEach(X=>X()),G(re)}),E.on("closed",re=>{he.forEach(X=>X()),G(re)})]}let T,k=0,x,M=!1,C=0,oe=!1;async function pe(){clearTimeout(x);const[G,he]=await(T??(T=new Promise((P,Y)=>(async()=>{if(M){if(await c(C),!k)return T=void 0,Y({code:1e3,reason:"All Subscriptions Gone"});C++}E.emit("connecting");const B=new w(typeof e=="function"?await e():e,LY);let ae,q;function _e(){isFinite(o)&&o>0&&(clearTimeout(q),q=setTimeout(()=>{B.readyState===w.OPEN&&(B.send(Nl({type:ct.Ping})),E.emit("ping",!1,void 0))},o))}_(Ce=>{T=void 0,clearTimeout(ae),clearTimeout(q),Y(Ce),Pf(Ce)&&Ce.code===4499&&(B.close(4499,"Terminated"),B.onerror=null,B.onclose=null)}),B.onerror=Ce=>E.emit("error",Ce),B.onclose=Ce=>E.emit("closed",Ce),B.onopen=async()=>{try{E.emit("opened",B);const Ce=typeof n=="function"?await n():n;if(B.readyState!==w.OPEN)return;B.send(Nl(Ce?{type:ct.ConnectionInit,payload:Ce}:{type:ct.ConnectionInit},b)),isFinite(u)&&u>0&&(ae=setTimeout(()=>{B.close(Rn.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},u)),_e()}catch(Ce){E.emit("error",Ce),B.close(Rn.InternalClientError,DC(Ce instanceof Error?Ce.message:new Error(Ce).message,"Internal client error"))}};let Ie=!1;B.onmessage=({data:Ce})=>{try{const me=FY(Ce,g);if(E.emit("message",me),me.type==="ping"||me.type==="pong"){E.emit(me.type,!0,me.payload),me.type==="pong"?_e():a||(B.send(Nl(me.payload?{type:ct.Pong,payload:me.payload}:{type:ct.Pong})),E.emit("pong",!1,me.payload));return}if(Ie)return;if(me.type!==ct.ConnectionAck)throw new Error(`First message cannot be of type ${me.type}`);clearTimeout(ae),Ie=!0,E.emit("connected",B,me.payload),M=!1,C=0,P([B,new Promise((Q,xe)=>_(xe))])}catch(me){B.onmessage=null,E.emit("error",me),B.close(Rn.BadResponse,DC(me instanceof Error?me.message:new Error(me).message,"Bad response"))}}})())));G.readyState===w.CLOSING&&await he;let re=()=>{};const X=new Promise(P=>re=P);return[G,re,Promise.race([X.then(()=>{if(!k){const P=()=>G.close(1e3,"Normal Closure");isFinite(s)&&s>0?x=setTimeout(()=>{G.readyState===w.OPEN&&P()},s):P()}}),he])]}function ce(G){if(Pf(G)&&($Y(G.code)||[Rn.InternalServerError,Rn.InternalClientError,Rn.BadRequest,Rn.BadResponse,Rn.Unauthorized,Rn.SubprotocolNotAcceptable,Rn.SubscriberAlreadyExists,Rn.TooManyInitialisationRequests].includes(G.code)))throw G;if(oe)return!1;if(Pf(G)&&G.code===1e3)return k>0;if(!l||C>=l||!h(G)||f!=null&&f(G))throw G;return M=!0}return r||(async()=>{for(k++;;)try{const[,,G]=await pe();await G}catch(G){try{if(!ce(G))return}catch(he){return i==null?void 0:i(he)}}})(),{on:E.on,subscribe(G,he){const re=m(G);let X=!1,P=!1,Y=()=>{k--,X=!0};return(async()=>{for(k++;;)try{const[B,ae,q]=await pe();if(X)return ae();const _e=E.onMessage(re,Ie=>{switch(Ie.type){case ct.Next:{he.next(Ie.payload);return}case ct.Error:{P=!0,X=!0,he.error(Ie.payload),Y();return}case ct.Complete:{X=!0,Y();return}}});B.send(Nl({id:re,type:ct.Subscribe,payload:G},b)),Y=()=>{!X&&B.readyState===w.OPEN&&B.send(Nl({id:re,type:ct.Complete},b)),k--,X=!0,ae()},await q.finally(_e);return}catch(B){if(!ce(B))return}})().then(()=>{P||he.complete()}).catch(B=>{he.error(B)}),()=>{X||Y()}},async dispose(){if(oe=!0,T){const[G]=await T;G.close(1e3,"Normal Closure")}},terminate(){T&&E.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Pf(t){return uo(t)&&"code"in t&&"reason"in t}function $Y(t){return[1e3,1001,1006,1005,1012,1013,1013].includes(t)?!1:t>=1e3&&t<=1999}function UY(t){return typeof t=="function"&&"constructor"in t&&"CLOSED"in t&&"CLOSING"in t&&"CONNECTING"in t&&"OPEN"in t}function VY({children:t}){const{state:e}=S.useContext(ni),{user:n}=e,r=new PY(MY({url:"wss://jcolaco.dev/graphql",options:{shouldRetry:!0}})),i=new RL({uri:"https://jcolaco.dev/graphql"}),o=AY((l,{headers:c})=>({headers:{...c,authtoken:n?n.token:""}})).concat(i),a=QG(({query:l})=>{const c=Mg(l);return c.kind==="OperationDefinition"&&c.operation==="subscription"},r,o),u=new pY({link:a,cache:new oY({addTypename:!1}),defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network",errorPolicy:"all"},query:{fetchPolicy:"cache-and-network",errorPolicy:"all"},mutate:{errorPolicy:"all"}}});return v(_Y,{client:u,children:t})}var i1={},jY={get exports(){return i1},set exports(t){i1=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var u in s)e.call(s,u)&&s[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(jY);const BY=i1,_v={};function qY({className:t}){const[e,n]=ke.useState("darkTheme"),r=fg(i=>i.theme);return ke.useEffect(()=>{n(r),document.documentElement.dataset.theme=e},[]),ke.useEffect(()=>{n(r),document.documentElement.dataset.theme=r,localStorage.setItem("theme",r)},[r]),v("div",{className:BY(t,_v.root,e==="darkTheme"?_v.darkTheme:_v.lightTheme)})}function zY(){const t=qu();return S.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null}function hF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=hF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function as(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=hF(t))&&(r&&(r+=" "),r+=e);return r}const mc=t=>typeof t=="number"&&!isNaN(t),na=t=>typeof t=="string",In=t=>typeof t=="function",Td=t=>na(t)||In(t)?t:null,Iv=t=>S.isValidElement(t)||na(t)||In(t)||mc(t);function WY(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function jg(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:u,preventExitTransition:l,done:c,nodeRef:h,isIn:f}=o;const d=r?`${e}--${u}`:e,p=r?`${n}--${u}`:n,m=S.useRef(0);return S.useLayoutEffect(()=>{const b=h.current,g=d.split(" "),y=w=>{w.target===h.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",y),b.removeEventListener("animationcancel",y),m.current===0&&w.type!=="animationcancel"&&b.classList.remove(...g))};b.classList.add(...g),b.addEventListener("animationend",y),b.addEventListener("animationcancel",y)},[]),S.useEffect(()=>{const b=h.current,g=()=>{b.removeEventListener("animationend",g),i?WY(b,c,s):c()};f||(l?g():(m.current=1,b.className+=` ${p}`,b.addEventListener("animationend",g)))},[f]),ke.createElement(ke.Fragment,null,a)}}function LC(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const Gn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Df=t=>{let{theme:e,type:n,...r}=t;return ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Tv={info:function(t){return ke.createElement(Df,{...t},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ke.createElement(Df,{...t},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ke.createElement(Df,{...t},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ke.createElement(Df,{...t},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ke.createElement("div",{className:"Toastify__spinner"})}};function QY(t){const[,e]=S.useReducer(d=>d+1,0),[n,r]=S.useState([]),i=S.useRef(null),s=S.useRef(new Map).current,o=d=>n.indexOf(d)!==-1,a=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:d=>s.get(d)}).current;function u(d){let{containerId:p}=d;const{limit:m}=a.props;!m||p&&a.containerId!==p||(a.count-=a.queue.length,a.queue=[])}function l(d){r(p=>d==null?[]:p.filter(m=>m!==d))}function c(){const{toastContent:d,toastProps:p,staleId:m}=a.queue.shift();f(d,p,m)}function h(d,p){let{delay:m,staleId:b,...g}=p;if(!Iv(d)||function(pe){return!i.current||a.props.enableMultiContainer&&pe.containerId!==a.props.containerId||s.has(pe.toastId)&&pe.updateId==null}(g))return;const{toastId:y,updateId:w,data:E}=g,{props:_}=a,T=()=>l(y),k=w==null;k&&a.count++;const x={..._,style:_.toastStyle,key:a.toastKey++,...g,toastId:y,updateId:w,data:E,closeToast:T,isIn:!1,className:Td(g.className||_.toastClassName),bodyClassName:Td(g.bodyClassName||_.bodyClassName),progressClassName:Td(g.progressClassName||_.progressClassName),autoClose:!g.isLoading&&(M=g.autoClose,C=_.autoClose,M===!1||mc(M)&&M>0?M:C),deleteToast(){const pe=LC(s.get(y),"removed");s.delete(y),Gn.emit(4,pe);const ce=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),ce>0){const G=y==null?a.props.limit:1;if(ce===1||G===1)a.displayedToast++,c();else{const he=G>ce?ce:G;a.displayedToast=he;for(let re=0;re<he;re++)c()}}else e()}};var M,C;x.iconOut=function(pe){let{theme:ce,type:G,isLoading:he,icon:re}=pe,X=null;const P={theme:ce,type:G};return re===!1||(In(re)?X=re(P):S.isValidElement(re)?X=S.cloneElement(re,P):na(re)||mc(re)?X=re:he?X=Tv.spinner():(Y=>Y in Tv)(G)&&(X=Tv[G](P))),X}(x),In(g.onOpen)&&(x.onOpen=g.onOpen),In(g.onClose)&&(x.onClose=g.onClose),x.closeButton=_.closeButton,g.closeButton===!1||Iv(g.closeButton)?x.closeButton=g.closeButton:g.closeButton===!0&&(x.closeButton=!Iv(_.closeButton)||_.closeButton);let oe=d;S.isValidElement(d)&&!na(d.type)?oe=S.cloneElement(d,{closeToast:T,toastProps:x,data:E}):In(d)&&(oe=d({closeToast:T,toastProps:x,data:E})),_.limit&&_.limit>0&&a.count>_.limit&&k?a.queue.push({toastContent:oe,toastProps:x,staleId:b}):mc(m)?setTimeout(()=>{f(oe,x,b)},m):f(oe,x,b)}function f(d,p,m){const{toastId:b}=p;m&&s.delete(m);const g={content:d,props:p};s.set(b,g),r(y=>[...y,b].filter(w=>w!==m)),Gn.emit(4,LC(g,g.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(a.containerId=t.containerId,Gn.cancelEmit(3).on(0,h).on(1,d=>i.current&&l(d)).on(5,u).emit(2,a),()=>{s.clear(),Gn.emit(3,a)}),[]),S.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(d){const p=new Map,m=Array.from(s.values());return t.newestOnTop&&m.reverse(),m.forEach(b=>{const{position:g}=b.props;p.has(g)||p.set(g,[]),p.get(g).push(b)}),Array.from(p,b=>d(b[0],b[1]))},containerRef:i,isToastActive:o}}function FC(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function MC(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function HY(t){const[e,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=S.useRef(t),{autoClose:u,pauseOnHover:l,closeToast:c,onClick:h,closeOnClick:f}=t;function d(E){if(t.draggable){E.nativeEvent.type==="touchstart"&&E.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),document.addEventListener("touchmove",g),document.addEventListener("touchend",y);const _=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=_.getBoundingClientRect(),_.style.transition="",o.x=FC(E.nativeEvent),o.y=MC(E.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=_.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=_.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function p(E){if(o.boundingRect){const{top:_,bottom:T,left:k,right:x}=o.boundingRect;E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=k&&o.x<=x&&o.y>=_&&o.y<=T?b():m()}}function m(){n(!0)}function b(){n(!1)}function g(E){const _=s.current;o.canDrag&&_&&(o.didMove=!0,e&&b(),o.x=FC(E),o.y=MC(E),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),_.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,_.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",y);const E=s.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();E.style.transition="transform 0.2s, opacity 0.2s",E.style.transform=`translate${t.draggableDirection}(0)`,E.style.opacity="1"}}S.useEffect(()=>{a.current=t}),S.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),In(t.onOpen)&&t.onOpen(S.isValidElement(t.children)&&t.children.props),()=>{const E=a.current;In(E.onClose)&&E.onClose(S.isValidElement(E.children)&&E.children.props)}),[]),S.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",b))}),[t.pauseOnFocusLoss]);const w={onMouseDown:d,onTouchStart:d,onMouseUp:p,onTouchEnd:p};return u&&l&&(w.onMouseEnter=b,w.onMouseLeave=m),f&&(w.onClick=E=>{h&&h(E),o.canCloseOnClick&&c()}),{playToast:m,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function fF(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function GY(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:u,progress:l,rtl:c,isIn:h,theme:f}=t;const d=s||u&&l===0,p={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:d?0:1};u&&(p.transform=`scaleX(${l})`);const m=as("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),b=In(o)?o({rtl:c,type:i,defaultClassName:m}):as(m,o);return ke.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:b,style:p,[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{h&&r()}})}const KY=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=HY(t),{closeButton:s,children:o,autoClose:a,onClick:u,type:l,hideProgressBar:c,closeToast:h,transition:f,position:d,className:p,style:m,bodyClassName:b,bodyStyle:g,progressClassName:y,progressStyle:w,updateId:E,role:_,progress:T,rtl:k,toastId:x,deleteToast:M,isIn:C,isLoading:oe,iconOut:pe,closeOnClick:ce,theme:G}=t,he=as("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":ce}),re=In(p)?p({rtl:k,position:d,type:l,defaultClassName:he}):as(he,p),X=!!T||!a,P={closeToast:h,type:l,theme:G};let Y=null;return s===!1||(Y=In(s)?s(P):S.isValidElement(s)?S.cloneElement(s,P):fF(P)),ke.createElement(f,{isIn:C,done:M,position:d,preventExitTransition:n,nodeRef:r},ke.createElement("div",{id:x,onClick:u,className:re,...i,style:m,ref:r},ke.createElement("div",{...C&&{role:_},className:In(b)?b({type:l}):as("Toastify__toast-body",b),style:g},pe!=null&&ke.createElement("div",{className:as("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!oe})},pe),ke.createElement("div",null,o)),Y,ke.createElement(GY,{...E&&!X?{key:`pb-${E}`}:{},rtl:k,theme:G,delay:a,isRunning:e,isIn:C,closeToast:h,hide:c,type:l,style:w,className:y,controlledProgress:X,progress:T||0})))},Bg=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},YY=jg(Bg("bounce",!0));jg(Bg("slide",!0));jg(Bg("zoom"));jg(Bg("flip"));const s1=S.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=QY(t),{className:s,style:o,rtl:a,containerId:u}=t;function l(c){const h=as("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return In(s)?s({position:c,rtl:a,defaultClassName:h}):as(h,Td(s))}return S.useEffect(()=>{e&&(e.current=r.current)},[]),ke.createElement("div",{ref:r,className:"Toastify",id:u},n((c,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return ke.createElement("div",{className:l(c),style:f,key:`container-${c}`},h.map((d,p)=>{let{content:m,props:b}=d;return ke.createElement(KY,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":p+1,"--len":h.length},key:`toast-${b.key}`},m)}))}))});s1.displayName="ToastContainer",s1.defaultProps={position:"top-right",transition:YY,autoClose:5e3,closeButton:fF,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let kv,lo=new Map,Ql=[],JY=1;function dF(){return""+JY++}function XY(t){return t&&(na(t.toastId)||mc(t.toastId))?t.toastId:dF()}function gc(t,e){return lo.size>0?Gn.emit(0,t,e):Ql.push({content:t,options:e}),e.toastId}function Qp(t,e){return{...e,type:e&&e.type||t,toastId:XY(e)}}function Lf(t){return(e,n)=>gc(e,Qp(t,n))}function $e(t,e){return gc(t,Qp("default",e))}$e.loading=(t,e)=>gc(t,Qp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),$e.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=na(i)?$e.loading(i,n):$e.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=(c,h,f)=>{if(h==null)return void $e.dismiss(r);const d={type:c,...a,...n,data:f},p=na(h)?{render:h}:h;return r?$e.update(r,{...d,...p}):$e(p.render,{...d,...p}),f},l=In(t)?t():t;return l.then(c=>u("success",o,c)).catch(c=>u("error",s,c)),l},$e.success=Lf("success"),$e.info=Lf("info"),$e.error=Lf("error"),$e.warning=Lf("warning"),$e.warn=$e.warning,$e.dark=(t,e)=>gc(t,Qp("default",{theme:"dark",...e})),$e.dismiss=t=>{lo.size>0?Gn.emit(1,t):Ql=Ql.filter(e=>t!=null&&e.options.toastId!==t)},$e.clearWaitingQueue=function(t){return t===void 0&&(t={}),Gn.emit(5,t)},$e.isActive=t=>{let e=!1;return lo.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},$e.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=lo.get(s||kv);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={...r,...e,toastId:e.toastId||t,updateId:dF()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,gc(o,s)}},0)},$e.done=t=>{$e.update(t,{progress:1})},$e.onChange=t=>(Gn.on(4,t),()=>{Gn.off(4,t)}),$e.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$e.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Gn.on(2,t=>{kv=t.containerId||t,lo.set(kv,t),Ql.forEach(e=>{Gn.emit(0,e.content,e.options)}),Ql=[]}).on(3,t=>{lo.delete(t.containerId||t),lo.size===0&&Gn.off(0).off(1).off(5)});function FS({timer:t=0,path:e}){const[n,r]=S.useState(t);let i=Ws();return S.useEffect(()=>{t<=0&&i(e)},[]),S.useEffect(()=>{const s=setInterval(()=>{r(o=>--o)},1e3);return n<=0&&i(e),()=>clearInterval(s)},[n]),t===0?v(vh,{}):v("div",{className:"container p5 text-center",children:I("p",{children:["Redirecting page in ",n," seconds"]})})}function ZY(){const{state:t}=S.useContext(ni),[e,n]=S.useState(!1);return S.useEffect(()=>{t.user&&n(!0)},[t.user]),e?v(iA,{}):v(FS,{timer:5,path:"/login"})}function eJ({urlPath:t}){const{state:e}=S.useContext(ni);let n=Ws();return S.useEffect(()=>{e.user&&n(`${t}/dashboard`)},[e.user]),v(iA,{})}const tJ=t=>[v(Hi,{path:`${t.path}`,element:v(FS,{path:`${t.path}${t.routesData[0].path}/`})}),...t.routesData.map(({path:e,type:n,title:r,element:i})=>{let s=v(Hi,{path:`${t.path}${e}`,element:i},r);return n==="private"&&(s=v(Hi,{exact:!0,path:`${t.path}${e}`,element:v(ZY,{urlPath:t.path}),children:v(Hi,{path:`${t.path}${e}`,element:i})},r)),n==="public"&&(s=v(Hi,{exact:!0,path:`${t.path}${e}`,element:v(eJ,{urlPath:t.path}),children:v(Hi,{path:`${t.path}${e}`,element:i})},r)),s})];function Qn(){return v("div",{className:"FireFlame",children:v("div",{className:"mo-fire",children:I("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"10em",height:"8em",viewBox:"0 0 125 189.864",enableBackground:"new 0 0 125 189.864",xmlSpace:"preserve",children:[v("path",{className:"flame-main",fill:"#F36E21",d:`M76.553,186.09c0,0-10.178-2.976-15.325-8.226s-9.278-16.82-9.278-16.82s-0.241-6.647-4.136-18.465\r
	c0,0,3.357,4.969,5.103,9.938c0,0-5.305-21.086,1.712-30.418c7.017-9.333,0.571-35.654-2.25-37.534c0,0,13.07,5.64,19.875,47.54\r
	c6.806,41.899,16.831,45.301,6.088,53.985`}),v("path",{className:"flame-main one",fill:"#F6891F",d:`M61.693,122.257c4.117-15.4,12.097-14.487-11.589-60.872c0,0,32.016,10.223,52.601,63.123\r
	c20.585,52.899-19.848,61.045-19.643,61.582c0.206,0.537-19.401-0.269-14.835-18.532S57.576,137.656,61.693,122.257z`}),v("path",{className:"flame-main two",fill:"#FFD04A",d:`M81.657,79.192c0,0,11.549,24.845,3.626,40.02c-7.924,15.175-21.126,41.899-0.425,64.998\r
	C84.858,184.21,125.705,150.905,81.657,79.192z`}),v("path",{className:"flame-main three",fill:"#FDBA16",d:`M99.92,101.754c0,0-23.208,47.027-12.043,80.072c0,0,32.741-16.073,20.108-45.79\r
	C95.354,106.319,99.92,114.108,99.92,101.754z`}),v("path",{className:"flame-main four",fill:"#F36E21",d:`M103.143,105.917c0,0,8.927,30.753-1.043,46.868c-9.969,16.115-14.799,29.041-14.799,29.041\r
	S134.387,164.603,103.143,105.917z`}),v("path",{className:"flame-main five",fill:"#FDBA16",d:"M62.049,104.171c0,0-15.645,67.588,10.529,77.655C98.753,191.894,69.033,130.761,62.049,104.171z"}),v("path",{className:"flame",fill:"#F36E21",d:"M101.011,112.926c0,0,8.973,10.519,4.556,16.543C99.37,129.735,106.752,117.406,101.011,112.926z"}),v("path",{className:"flame one",fill:"#F36E21",d:"M55.592,126.854c0,0-3.819,13.29,2.699,16.945C64.038,141.48,55.907,132.263,55.592,126.854z"}),v("path",{className:"flame two",fill:"#F36E21",d:"M54.918,104.595c0,0-3.959,6.109-1.24,8.949C56.93,113.256,52.228,107.329,54.918,104.595z"})]})})})}function MS({flames:t=!1,white:e=!1}){return v("div",{className:`ChurrascoLogo ${e?"white":""} ${t?"flamesOn":""}`,children:I("div",{className:"firepit",children:[I("p",{children:["O",v("span",{children:"C"}),v("span",{children:"H"}),v("span",{children:"U"}),v("span",{children:"R"}),v("span",{children:"R"}),"A",v("span",{children:"S"}),"CO"]}),t&&I(vh,{children:[v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{}),v(Qn,{})]})]})})}function nJ(){return I("section",{className:"Opinions",children:[v("h3",{children:"What our clients say"}),I("section",{children:[v("figure",{}),v("figure",{})]})]})}const $C="/assets2/1-175dbfab.jpg",UC="/assets2/2-6fb616d5.jpg",VC="/assets2/3-168c923d.jpg",jC="/assets2/4-f6bf6f91.jpg",BC="/assets2/5-b825b0bb.jpg",qC="/assets2/6-b0b27a5f.jpg",zC="/assets2/7-be3220e7.jpg",WC="/assets2/8-2c70fb2b.jpg",QC="/assets2/9-9bea5124.jpg",HC="/assets2/10-8f74fb1b.jpg",GC="/assets2/11-fdb29125.jpg",KC="/assets2/12-ed7f55c2.jpg",YC="/assets2/13-ff5b649a.jpg",JC="/assets2/14-99b6af62.jpg",XC="/assets2/15-07cb49e2.jpg",ZC="/assets2/16-5c266e44.jpg",ex="/assets2/17-7ebd6690.jpg",tx="/assets2/18-f1ca278e.jpg",nx=[{image:XC,thumbnail:XC,label:"Modern office environment with sleek chairs and furniture."},{image:JC,thumbnail:JC,label:"Spacious office with ergonomic chairs and comfortable furniture."},{image:VC,thumbnail:VC,label:"Vibrant office setting with colorful chairs and furniture."},{image:BC,thumbnail:BC,label:"Contemporary office space with stylish chairs and furniture."},{image:UC,thumbnail:UC,label:"Inviting office atmosphere with cozy chairs and furniture."},{image:jC,thumbnail:jC,label:"Productive workspace with functional chairs and furniture."},{image:qC,thumbnail:qC,label:"Minimalist office design with simple chairs and furniture."},{image:WC,thumbnail:WC,label:"Collaborative office setting with flexible chairs and furniture"},{image:QC,thumbnail:QC,label:"Eco-friendly office with sustainable chairs and furniture."},{image:HC,thumbnail:HC,label:"Dynamic office environment with adjustable chairs and furniture."},{image:GC,thumbnail:GC,label:"Creative workspace with unique chairs and furniture."},{image:KC,thumbnail:KC,label:"Executive office with luxurious chairs and furniture."},{image:YC,thumbnail:YC,label:"Tech-focused office with modern chairs and furniture."},{image:zC,thumbnail:zC,label:"Casual office atmosphere with laid-back chairs and furniture."},{image:$C,thumbnail:$C,label:"Inspiring office environment with motivational chairs and furniture."},{image:ZC,thumbnail:ZC,label:"Sophisticated office setting with elegant chairs and furniture."},{image:ex,thumbnail:ex,label:"Open-concept office space with airy chairs and furniture."},{image:tx,thumbnail:tx,label:"Futuristic office design with high-tech chairs and furniture."}];function pF(){return I("div",{className:"PhotoGallery",children:[v("div",{id:"gallery",children:nx.map((t,e)=>I("div",{children:[v("img",{src:t.thumbnail}),v("a",{href:`#lightbox-${e+1}`,children:t.label})]},e+1))}),nx.map((t,e)=>v("div",{className:"lightbox",id:`lightbox-${e+1}`,children:I("div",{className:"content",children:[v("img",{src:t.image}),v("div",{className:"title",children:v("b",{children:t.label})}),v("a",{className:"close",href:"#gallery"})]})},e+1))]})}function rJ(){return I("div",{className:"Home",children:[I("div",{className:"parallax",children:[v("figure",{}),v("figcaption",{children:v(MS,{flames:!1})})]}),v("h2",{children:"Savor the Art of Charcoal-Grilled Chicken at Our Elegant Downtown Lisbon Restaurant"}),I("main",{children:[I("section",{className:"menus",children:[I("article",{children:[v("h3",{children:"Menu"}),I("div",{children:[v("p",{children:`Experience charcoal-grilled perfection and indulge in our delicious chicken specialty at our downtown Lisbon restaurant. From succulent pork medallions to must-try seafood dishes like grilled octopus and Portuguese-style "Bacalhau," our menu offers a variety of flavors to satisfy your cravings. Don't forget to pair your meal with our house wine, available in various sizes. Click below to see our full menu and savor the taste of our expertly crafted dishes.`}),v(jt,{to:"/app/menu",children:"Menu"})]})]}),v("article",{children:v("figure",{})})]}),I("section",{className:"reservations",children:[v("article",{children:v("figure",{})}),I("article",{children:[v("h3",{children:"Reservations"}),I("div",{children:[v("p",{children:"Come experience the mouthwatering aromas of our specialty dishes at our cozy downtown Lisbon restaurant. Our outdoor terrace, nestled in an original old-fashioned building, provides the perfect atmosphere for a delightful dining experience. Savor our expertly crafted charcoal-grilled chicken, seafood dishes, and cooked meats, and immerse yourself in a charming and peaceful environment. Book your reservations now and join us for an unforgettable culinary journey."}),v(jt,{to:"/app/reservation",children:"Reserve a table"})]})]})]})]}),v(nJ,{}),v(pF,{})]})}function mF(){return I("div",{className:"ContactsSection",children:[v("h3",{children:"Contacts"}),I("section",{className:"links",children:[I("a",{href:"tel:+351217540421",children:[v("figure",{className:"phone"}),"Tel: ",Xn.data.tel]}),I("a",{href:"tel:+351919224090",children:[v("figure",{className:"mobile"}),"Tlm: ",Xn.data.tel]}),I("a",{href:"mailto:online@ergoface-lda.com?subject=consulta_online",children:[v("figure",{className:"email"}),"E-mail: ",Xn.data.email]}),I("a",{href:"https://ergoface-lda.com",children:[v("figure",{className:"web"}),"https://o-churrasco.pt"]})]}),I("span",{children:[v("figure",{className:"location"}),I("p",{children:[Xn.data.address,", ",v("br",{}),Xn.data.pCode,", Portugal ",v("br",{})]})]}),I("span",{children:[v("figure",{className:"calendar"}),I("p",{children:["Todos os dias ",v("br",{}),"12:0016:30h, 18:3023:30h"]})]})]})}function iJ(){window.scrollTo(0,0)}function $S(t){return!!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)}function gF(t){const e=/^(9[1236]\d{7}|2\d{8})$/;return!!t.match(e)}function sJ(t){if(t){const e={};for(let n=0;n<t.length;n++){const r=t[n].type;e[r]||(e[r]=[]),e[r].push(t[n])}return Object.values(e)}}function oJ(t){return!t||t===""?"NN":t.getInitials().capitalize()}String.prototype.getInitials=function(t){if(typeof t>"u")var t=!0;var e=this.replace(/[^a-zA-Z- ]/g,"").match(/\b\w/g);return t?e.join(""):e};String.prototype.capitalize=function(){return this.toLowerCase().replace(/\b\w/g,function(t){return t.toUpperCase()})};const aJ=t=>(t==null?void 0:t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\u00c7\u00e7]/g,"c").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"))||"";function uJ(){const[t,e]=S.useState(!1),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState("reservation"),[u,l]=S.useState(""),[c,h]=S.useState(""),[f,d]=S.useState(""),[p,m]=S.useState(""),b=S.useRef(),g=S.useRef();function y(){let C="";return u.trim()===""?C="a mensagem":gF(n.trim())?o.trim()===""?C="o assunto":o==="booking"&&i.trim()===""?C="os lugares":c.trim()===""?C="o nome":$S(f.trim())?C="":C="o email":C="o telefone",m(C),C===""}function w(){h(""),d(""),r(""),s(""),l("")}const E=C=>{C.preventDefault(),y()&&(e(!0),setTimeout(()=>{w(),e(!1)},"20000"))};function _(C){h(C.target.value),p==="o nome"&&C.target.value&&m("")}function T(C){C.target.value.length<10&&(r(C.target.value),p==="o telefone"&&C.target.value&&m(""))}function k(C){C.target.value.length<3&&(s(C.target.value),p==="os lugares"&&C.target.value&&m(""))}function x(C){l(C.target.value),p==="a mensagem"&&C.target.value&&m("")}function M(C){d(C.target.value),p==="o email"&&C.target.value&&m("")}return v("div",{className:"ContactsFormVintage",children:I("div",{id:"container",children:[v("h1",{children:" Keep in Touch "}),v("div",{className:"underline"}),v("div",{className:"icon_wrapper",children:I("svg",{className:"icon",viewBox:"0 0 145.192 145.192",children:[v("path",{d:"M126.82,32.694c-2.804,0-5.08,2.273-5.08,5.075v2.721c-1.462,0-2.646,1.185-2.646,2.647v1.995    c0,1.585,1.286,2.873,2.874,2.873h20.577c1.462,0,2.646-1.185,2.646-2.647v-3.041c0-1.009-0.816-1.825-1.823-1.825v-2.722    c0-2.802-2.276-5.075-5.079-5.075h-1.985v-3.829c0-3.816-3.095-6.912-6.913-6.912h-0.589h-20.45c0-2.67-2.164-4.835-4.833-4.835    H56.843c-2.67,0-4.835,2.165-4.835,4.835H34.356v-3.384h-9.563v3.384v1.178h-7.061v1.416c-2.67,0.27-10.17,1.424-13.882,5.972    c-1.773,2.17-2.44,4.791-1.983,7.793c0.463,3.043,1.271,6.346,2.128,9.841c2.354,9.616,5.024,20.515,0.549,28.077    C2.647,79.44-3.125,90.589,2.201,99.547c4.123,6.935,13.701,10.44,28.5,10.44c1.186,0,2.405-0.023,3.658-0.068v9.028h-0.296    c-2.516,0-4.558,2.039-4.558,4.558v4.566h100.04v-4.564c0-2.519-2.039-4.558-4.558-4.558h-0.297V84.631h0.297    c2.519,0,4.558-2.037,4.558-4.556v-0.009c0-2.516-2.039-4.556-4.556-4.556l-36.786-0.009V61.973c0-2.193-1.777-3.971-3.972-3.971    v-4.711h0.456c1.629,0,2.952-1.32,2.952-2.949h14.227V34.459h1.658c2.672,0,4.834-2.165,4.834-4.834h20.45v3.069H126.82z     M34.06,75.511c-2.518,0-4.558,2.04-4.558,4.556v0.009c0,2.519,2.042,4.556,4.558,4.556h0.296v24.12l-0.042-1.168    c-15.994,0.574-26.122-2.523-30.106-9.229C-0.464,90.5,4.822,80.347,6.55,77.423c4.964-8.382,2.173-19.774-0.29-29.825    c-0.843-3.442-1.639-6.696-2.088-9.638c-0.354-2.35,0.129-4.3,1.484-5.958c3.029-3.714,9.509-4.805,12.076-5.1v1.233h7.061v1.49    v2.684c-2.403,1.114-4.153,2.997-4.676,5.237H18.15c-0.584,0-1.056,0.474-1.056,1.056v0.83c0,0.584,0.475,1.056,1.056,1.056h1.984    c0.561,2.18,2.304,3.999,4.658,5.092v0.029c0,0-2.282,20.823,16.479,22.099v1.102c0,1.177,0.955,2.133,2.133,2.133h3.297    c1.178,0,2.133-0.956,2.133-2.133V50.135c0-1.177-0.955-2.132-2.133-2.132h-3.297c-1.178,0-2.133,0.955-2.133,2.132    c-1.575-0.235-5.532-1.17-6.635-4.547c2.36-1.092,4.109-2.913,4.669-5.097h1.308c0.722,0,1.309-0.584,1.309-1.308v-0.578    c0-0.584-0.475-1.056-1.056-1.056h-1.539c-0.542-2.332-2.416-4.271-4.968-5.363v-2.559h17.651c0,2.67,2.166,4.835,4.836,4.835 h2.392v15.88h13.639c0,1.629,1.321,2.949,2.951,2.949h0.899v4.711c-2.194,0-3.972,1.778-3.972,3.971v13.529L34.06,75.511z     M95.188,101.78c0,8.655-7.012,15.665-15.664,15.665c-8.653,0-15.667-7.01-15.667-15.665c0-8.647,7.014-15.664,15.667-15.664    C88.177,86.116,95.188,93.132,95.188,101.78z M97.189,45.669h-9.556c0-0.896-0.726-1.62-1.619-1.62H74.494    c-0.896,0-1.621,0.727-1.621,1.62h-8.967v-11.21h33.283V45.669z"}),v("path",{d:"M70.865,101.78c0,4.774,3.886,8.657,8.66,8.657c4.774,0,8.657-3.883,8.657-8.657c0-4.773-3.883-8.656-8.657-8.656    C74.751,93.124,70.865,97.006,70.865,101.78z"})]})}),t&&v("section",{className:"feedback",children:I("p",{children:["Thank you for choosing to dine with us! ",v("span",{children:c}),".",v("br",{}),v("br",{}),"We have received your request and will do our best to accommodate your desired date and time. We will contact you shortly to confirm your booking. If you have any questions or concerns, please feel free to contact us at any time.",v("br",{})," We look forward to welcoming you and hope to see you soon!"]})}),!t&&I("form",{ref:b,id:"contact_form",children:[I("div",{className:"name",children:[v("label",{htmlFor:"name"}),v("input",{type:"text",placeholder:"My name is",name:"name",id:"name_input",onBlur:C=>h(C.target.value.trim()),onChange:_,value:c})]}),I("div",{className:"email",children:[v("label",{htmlFor:"email"}),v("input",{type:"email",placeholder:"My e-mail is",name:"email",id:"email_input",onBlur:C=>d(C.target.value.trim()),onChange:M,value:f})]}),I("div",{className:"telephone",children:[v("label",{htmlFor:"name"}),v("input",{type:"number",placeholder:"My telephone is",name:"telephone",id:"telephone_input",onBlur:C=>r(C.target.value.trim()),onChange:T,value:n})]}),o==="booking"&&v("div",{className:"seats",children:v("input",{type:"number",placeholder:"seats...",name:"seats",id:"seats_input",onBlur:C=>s(C.target.value.trim()),onChange:k,value:i})}),I("div",{className:"subject",children:[v("label",{htmlFor:"subject"}),I("select",{value:o,onChange:C=>a(C.target.value),name:"subject",id:"subject_input",children:[v("option",{value:"booking",children:"I'd like to book a reservation"}),v("option",{value:"experience",children:"I'd like to share my experience"}),v("option",{value:"proposal",children:"I'd like to make a proposal"}),v("option",{value:"question",children:"I'd like to ask"})]})]}),I("div",{className:"message",children:[v("label",{htmlFor:"message"}),v("textarea",{name:"message",placeholder:"I'd like to...",id:"message_input",cols:"30",rows:"5",onBlur:C=>l(C.target.value.trim()),onChange:x,value:u})]}),I("footer",{children:[v("span",{className:"errorInput",ref:g,children:p!==""?`Escreva ${p}`:""}),v("button",{type:"submit",onClick:E,id:"sendLetter",children:"Enviar"})]})]})]})})}function lJ(){return I("div",{className:"Contacts",children:[v("h2",{children:"Contacts"}),I("main",{children:[v(uJ,{}),I("div",{children:[v(mF,{}),v("div",{className:"map-responsive",children:v("iframe",{src:"https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12452.283855267495!2d-9.1405638!3d38.7161797!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd1933812eb63bb5%3A0x254c12266a7a5ed2!2sO%20Churrasco!5e0!3m2!1spt-PT!2spt!4v1679146553625!5m2!1spt-PT!2spt",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})]})}var cJ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},fJ=function(e){return hJ[e]},dJ=function(e){return e.replace(cJ,fJ)};function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ix(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var sx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:dJ};function pJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};sx=ix(ix({},sx),t)}function Sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ox(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rL(r.key),r)}}function _r(t,e,n){return e&&ox(t.prototype,e),n&&ox(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var mJ={type:"3rdParty",init:function(e){pJ(e.options.react)}};S.createContext();(function(){function t(){Sr(this,t),this.usedNamespaces={}}return _r(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t})();function gJ(t){if(Array.isArray(t))return t}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yJ(t,e){if(t){if(typeof t=="string")return ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ax(t,e)}}function vJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJ(){return I("div",{className:"AboutUs",children:[v("h2",{children:"About us"}),I("section",{children:[v("div",{className:"parallax",children:v("figure",{})}),I("div",{children:[v("p",{children:"Welcome to our classic restaurant in Lisbon, where our specialty is the delicious charcoal-grilled chicken barbecue. Our restaurant is steeped in history and offers top-notch service with experienced staff who have been with us for years. Our magnificent outdoor terrace is the perfect place to enjoy your meal while taking in the vibrant energy of Lisbon."}),v("p",{children:"Specializing in grilled dishes from Rua das Portas de Santo Anto, we pride ourselves on serving some of the best roasted and spit-roasted chicken in Lisbon. Our attentive staff dressed in traditional attire will ensure you receive your desired portion and keep the rest warm for you to enjoy. You can choose between thinly sliced or round-cut potatoes and select from a variety of dishes such as Indian-style curry or Viana-style cod, both of which are award-winning. We are the perfect choice for those looking for an authentic dining experience in Portas de Santo Anto."}),v("p",{children:"At our restaurant, we aim to provide our customers with a warm and intimate dining experience while maintaining a professional standard. Whether you're a local or a tourist, we guarantee that you'll have an unforgettable meal with us. So come and join us, and taste the best grilled chicken in Lisbon!"})]})]}),v(pF,{})]})}const qg=`
    _id
    label
    email
`,ya=`
    _id
    label
    normalizedLabel
    family
    images {
        url
        label
        description
        public_id
    }
    postedBy {
        _id
        username
    }
`,va=`
    _id
    postedBy {
        _id
        username
    }
    label
    type
    family
    code
    url
    about
    supplier
    supplierRef
    notes
    price_purchase
    price_sale
    images {
        url
        label
        description
        public_id
    }
    services
    related_codes
    related_families
    related_articles
`,zg=`
    _id
    name
    username
    email
    images {
        url
        public_id
    }
    about
    createdAt
    updatedAt
`,yF=ve`
    mutation userCreate($input: UserCreateInput!) {
        userCreate (input: $input){
            username
            email
        }
    }
`,bJ=ve`
mutation userUpdate($input: UserUpdateInput!) {
        userUpdate(input: $input) {
            ${zg}
        }
    }
`,EJ=ve`
    mutation articleCreate($input: ArticleCreateInput!) {
        articleCreate(input: $input) {
            ${va}
        }
    }
`;ve`
    mutation articleUpdate($input: ArticleUpdateInput!) {
        articleUpdate(input: $input) {
            ${va}
        }
    }
`;ve`
    mutation articleDelete($articleId: String!) {
        articleDelete(articleId: $articleId) {
            _id
        }
    }
`;const SJ=ve`
    mutation familyCreate($input: FamilyCreateInput!) {
        familyCreate(input: $input) {
            ${ya}
        }
    }
`;ve`
    mutation familyUpdate($input: FamilyUpdateInput!) {
        familyUpdate(input: $input) {
            ${ya}
        }
    }
`;ve`
    mutation familyDelete($familyId: String!) {
        familyDelete(familyId: $familyId) {
            _id
        }
    }
`;ve`
    mutation newsSubscriptionCreate($input: NewsSubscriptionCreateInput!) {
        newsSubscriptionCreate(input: $input) {
            ${qg}
        }
    }
`;ve`
    mutation newsSubscriptionUpdate($input: NewsSubscriptionUpdateInput!) {
        newsSubscriptionUpdate(input: $input) {
            ${qg}
        }
    }
`;ve`
    mutation newsSubscriptionDelete($newsSubscriptionId: String!) {
        newsSubscriptionDelete(newsSubscriptionId: $newsSubscriptionId) {
            _id
        }
    }
`;const _J="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg";function IJ(){let t=Ws();const{dispatch:e}=S.useContext(ni),n=S.useRef(),[r,i]=S.useState(),[s,o]=S.useState(""),[a,u]=S.useState(""),[l,c]=S.useState(""),[h,f]=S.useState(""),[d,p]=S.useState(),[m,b]=S.useState(!1),[g,y]=S.useState(!1),[w,E]=S.useState(!1),[_]=mh(yF,{onCompleted:()=>console.info("User Created"),onError:q=>console.error(q.graphqQLError[0].message)});S.useEffect(()=>{B()},[]),S.useEffect(()=>{d&&(console.info(d),_({variables:{input:{email:d.email,name:d.displayName,images:[{public_id:`google_${d.uid}`,url:d.photoURL,label:"googlePic"}]}}}),t("/app/dashboard"))},[d]);const T=q=>{q==null||q.preventDefault(),auth.signInWithPopup(googleAuthProvider).then(async _e=>{const Ie=await _e.user.getIdTokenResult();e({type:"LOGGED_IN_USER",payload:{email:_e.user.email,token:Ie.token}}),console.log("auth.currentUser"),console.log(auth.currentUser),p(auth.currentUser)})},k=async q=>{q.preventDefault(),b(!0);const _e={url:"https://jcolaco.dev/account/login",handleCodeInApp:!0};await auth.sendPasswordResetEmail(a,_e).then(()=>{u(""),b(!1),toast.success(`Email is sent to ${a}. Click on the link to reset your password`)}).catch(Ie=>{console.log("error on password forgot email",Ie)})},x=async()=>{b(!0);try{if((await auth.createUserWithEmailAndPassword(a,l)).user.email){let _e=auth.currentUser;await _e.updatePassword(l);const Ie=await _e.getIdTokenResult();e({type:"LOGGED_IN_USER",payload:{email:_e.email,token:Ie.token}}),_({variables:{input:{name:s,email:a,password:l}}}),t(appData.path)}}catch(q){console.error("register complete error",q.message),toast.error(q.message)}b(!1)},M=async()=>{b(!0);try{await auth.signInWithEmailAndPassword(a,l).then(async q=>{const{user:_e}=q,Ie=await _e.getIdTokenResult();e({type:"LOGGED_IN_USER",payload:{email:_e.email,token:Ie.token}}),_({variables:{input:{name:s,email:a,password:l}}}),t("/app/dashboard")})}catch(q){console.error("login error",q),toast.error(q.message),b(!1)}};function C(q){q.preventDefault(),ae()&&Y()}function oe(q){q.preventDefault(),w?k(q):M()}function pe(q){q.preventDefault(),E(!w)}function ce(q){q.preventDefault();const _e=a;B(),g&&u(_e),y(!1),n.current.classList.toggle("right-panel-active")}function G(q){o(q.target.value),h==="name"&&q.target.value&&f("")}function he(q){u(q.target.value),h==="email"&&q.target.value&&f("")}function re(q){c(q.target.value),h==="password"&&q.target.value&&f("")}function X(q){fetch("https://jcolaco.dev/recaptcha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:q})}).then(async _e=>(i(await _e.json().then(Ie=>Ie.validation)),_e)).catch(_e=>_e)}const{executeRecaptcha:P}=HQ(),Y=S.useCallback(async()=>{if(!P){console.log("Execute recaptcha not yet available");return}const q=await P("SignUp");X(q)},[P]);S.useEffect(()=>{r&&h===""&&(x().then(q=>{q&&y(!0)}),i(!1))},[r]);function B(){u(""),c(""),o(""),f(""),E(!1)}function ae(){let q="";return s.trim()===""?q="name":$S(a)?l.trim().length<6?q="password":q="":q="email",f(q),q===""}return v("div",{className:"SignInUp",children:I("div",{ref:n,className:"container",id:"container",children:[v("div",{className:"form-container sign-up-container",children:I("form",{onSubmit:C,children:[v("h1",{children:"Create Account"}),v("input",{type:"text",placeholder:"Name",value:s,onChange:G,disabled:m||g}),v("input",{type:"email",placeholder:"Email",value:a,onChange:he,disabled:m||g}),v("input",{type:"password",placeholder:"Password",value:l,onChange:re,disabled:m||g}),v("button",{disabled:m||h||g,children:"Sign Up"}),h&&I("span",{className:"errorInput",children:["Please enter a valid ",h]}),g&&I("span",{className:"createdInput",children:[v("strong",{children:"Congratulation!"})," ",v("br",{}),"You're account is created! ",v("br",{})," ",v("br",{}),"Sign in with your new account! ",v("br",{}),"Remember to activate it by following the Link sent to your email!"]})]})}),v("div",{className:"form-container sign-in-container",children:I("form",{onSubmit:oe,children:[v("h1",{children:w?"Forgot Password":"Sign in"}),v("div",{className:"social-container",children:!w&&v(vh,{children:v("button",{onClick:T,style:{backgroundImage:`url(${_J})`},children:"Login with google"})})}),v("span",{children:w?"enter your account email":"or use your account"}),I("section",{className:"inputSection",children:[v("input",{type:"email",placeholder:"Email",value:a,onChange:q=>u(q.target.value),disabled:m}),!w&&v("input",{type:"password",placeholder:"Password",value:l,onChange:q=>c(q.target.value),disabled:m})]}),v("span",{className:"forgotSpan",disabled:m,onClick:pe,children:w?"Remembered your password?":"Forgot your password?"}),v("button",{disabled:m,children:w?"Recover password":"Sign In"})]})}),v("div",{className:"overlay-container",children:I("div",{className:"overlay",children:[I("div",{className:"overlay-panel overlay-left",children:[v("h1",{children:"Welcome Back!"}),v("p",{children:"To keep connected with us please login with your personal info"}),v("button",{disabled:m,onClick:ce,className:"ghost",id:"signIn",children:"Sign In"})]}),I("div",{className:"overlay-panel overlay-right",children:[v("h1",{children:"Hello, Friend!"}),v("p",{children:"Enter your personal details and start journey with us"}),v("button",{disabled:m,onClick:ce,className:"ghost",id:"signUp",children:"Sign Up"})]})]})})]})})}const TJ=()=>{const{dispatch:t}=S.useContext(ni),[e,n]=S.useState(""),[r,i]=S.useState(""),[s,o]=S.useState(),[a,u]=S.useState(""),[l,c]=S.useState(!1),[h]=mh(yF,{onCompleted:()=>console.log("User Created"),onError:g=>console.log(g.graphqQLError[0].message)});let f=Ws();return S.useEffect(()=>{s&&(console.log(s),h({variables:{input:{email:s.email,name:s.displayName,images:[{public_id:`google_${s.uid}`,url:s.photoURL,label:"googlePic"}]}}}),f("/app/dashboard"))},[s]),v("div",{children:v(IJ,{setNameInput:u,setEmailInput:n,setPasswordInput:i,nameInput:a,emailInput:e,passwordInput:r,loading:l,handleForgotSubmit:async g=>{g.preventDefault(),c(!0);const y={url:"https://jcolaco.dev/account/login",handleCodeInApp:!0};await ai.sendPasswordResetEmail(e,y).then(()=>{n(""),c(!1),$e.success(`Email is sent to ${e}. Click on the link to reset your password`)}).catch(w=>{console.log("error on password forgot email",w)})},handleSignInSubmit:async()=>{c(!0);try{await ai.signInWithEmailAndPassword(e,r).then(async g=>{const{user:y}=g,w=await y.getIdTokenResult();t({type:"LOGGED_IN_USER",payload:{email:y.email,token:w.token}}),h({variables:{input:{name:a,email:e,password:r}}}),f("/app/dashboard")})}catch(g){console.log("login error",g),$e.error(g.message),c(!1)}},handleSignUpSubmit:async()=>{c(!0);try{if((await ai.createUserWithEmailAndPassword(e,r)).user.email){let y=ai.currentUser;await y.updatePassword(r);const w=await y.getIdTokenResult();t({type:"LOGGED_IN_USER",payload:{email:y.email,token:w.token}}),h({variables:{input:{name:a,email:e,password:r}}}),f(Xn.path)}}catch(g){console.log("register complete error",g.message),$e.error(g.message)}c(!1)},handleGoogleSignInClick:g=>{g==null||g.preventDefault(),ai.signInWithPopup(K7).then(async y=>{const w=await y.user.getIdTokenResult();t({type:"LOGGED_IN_USER",payload:{email:y.user.email,token:w.token}}),console.log("auth.currentUser"),console.log(ai.currentUser),o(ai.currentUser)})}})})},kJ=ve`
  query {
    allUsers {
        ${zg}
    }
  }
`;ve`
    query publicProfile($username: String!) {
        publicProfile(username: $username) {
            ${zg}
        }
    }
`;const CJ=ve`
  query {
    profile {
      ${zg}
    }
  }
`;ve`
    query search($query: String!){
        search(query: $query) {
            ${va}
        }
    }
`;ve`
  query {
    totalArticles
  }
`;ve`
  query allArticles($page: Int, $perPage: Int) {
    allArticles(page: $page, perPage: $perPage) {
        ${va}
    }
  }
`;ve`
  query singleArticle($articleId: String!) {
    singleArticle(articleId: $articleId) {
        ${va}
    }
  }
`;ve`
  query {
    articlesByUser {
        ${va}
    }
  }
`;ve`
  query {
    totalFamilies
  }
`;ve`
  query allFamilies {
    allFamilies {
        ${ya}
    }
  }
`;const xJ=ve`
  query familiesFromFamily($familyId: String!) {
    familiesFromFamily(familyId: $familyId) {
        ${ya}
    }
  }
`;ve`
  query familyIdFromLabelsPath($labelsPath: [String]) {
    familyIdFromLabelsPath(labelsPath: $labelsPath) {
        ${ya}
    }
  }
`;const OJ=ve`
  query parentsFromFamily($familyId: String!) {
    parentsFromFamily(familyId: $familyId) {
        ${ya}
    }
  }
`,NJ=ve`
  query articlesFromFamily($familyId: String!) {
    articlesFromFamily(familyId: $familyId) {
        ${va}
    }
  }
`,AJ=ve`
  query singleFamily($familyId: String!) {
    singleFamily(familyId: $familyId) {
        ${ya}
    }
  }
`;ve`
  query singleNewsSubscription($newsSubscriptionId: String!) {
    singleNewsSubscription(newsSubscriptionId: $newsSubscriptionId) {
        ${qg}
    }
  }
`;ve`
  query allNewsSubscriptions {
    allNewsSubscriptions {
        ${qg}
    }
  }
`;ve`
  query {
    totalNewsSubscriptions
  }
`;const RJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA79JREFUeF7t3U9u00AUx/FvJapWrcoGCfZcoCuO0D87eoGuYQ0XgAN0TfdwAHb0zyl6AA4ACzZtKqqKP3ohkZLgscf2zPOo/nmZjDvP7zNvZhLF7hrDHVvACXAMbA8XhnvPE+AT8Aa4Xe19zT2cfx2eAQcD9V1St+fA4WJA3iDrwDWwUVJWBo7lDtgB7i0Ob5CfwqjkN5RNbxBNU/WlOJ2+vCrEFnBbzHTUZ2DbC+QUeBWIxXYaR8DVCLR2gc+ADdCq49QL5CawtTWMMW155wg2W1ShTLxA/gRGxD5wOYLKWL3EPeCi6rqHBnkGfB8hyFPgm0DKkRdIORbTSAQikOUMhBZ1rSErI0WL+jCloylrmLwHexWIQLSG1I0BVYgqRBWiCimsCgQikPgM6IPhcq60qMePHZeWAnFJc3wng4PEhzqOlgIpzFkgAiksA4WF41YhX4EXwI/CElBaOC4ghvF8duVPhFI7BrKDLGLMIxFK2CQrSBWGUOonyWwgdRgW0i/gUWkTeAHxZAFpwvg9+5mo3YKgI/N3WcLoN8SSVogw+mHY2clAhNEfIxmIMNJgJAERRjqM3iDCSIvRC0QY6TE6gwgjD0YnEGHkw2gNIoy8GK1AhJEfIxokBuMxoO+m4tHs+7yq36Q1flJvwogPQS0XM/AeeFeRkloQe7LAS+UxSwY6gYR+5pklwpH9UYEUBm7TlaGsHpqyBoLqBGKxalHPI9ZpypqH0oRiWzhte9vBdd72tkGxxynps0g7mFZryGrjmEoRiiNIzJqiX5Q4gwilX8Kbzm786iT0BzR9NaW22/udQVQp3RLedFYvEKE0pbf9+71BhNI+6XVnJAERSjqUZCBCSYOSFEQo/VGSgwilH0oWkBgU3bBTDZcNpAlF9xkOABJCEUZ4WstaIfNudVt0/LriAjKvFD04oBnGDaQ5FLWwDAiksHEgEIEUloHCwhm8QvQQzOURIRBVyHIGVCGqkMJqQiACqcuApixViCpEFRI/BrTtjc+VS0uBuKQ5vhOBxOfKpaVAXNIc34lA4nPl0lIgLmmO70Qg8blyaSkQlzTHd1IsyD5wGX8dD6blHnBRdTVe/y36ZvaU69UYbgOvP5jMBy5kAmxVvDfxAvkAvA4EZyhHwNVDVwB2AXvYTxWGXf6pF4gFYKNCR30Gtr1ALIwz4EAiwQycA4eeIBaJPQFiQyj/ZeAO2LRXvUHWgWuhLIEYxg5wPwTIPJIvVp6qFKbT1GIevCtksW9b6E+A45FtfW1z8xF4C9gOc+n4Cw//N0qjbsKZAAAAAElFTkSuQmCC";function PJ({setPageIndex:t=r=>r,pageIndex:e=0,accountPages:n=[]}){const r=fg(l=>l.headerHeight),{dispatch:i}=S.useContext(ni),s=S.useRef();let o=Ws();S.useEffect(()=>{t(0)},[]),S.useEffect(()=>{console.log(r),s.current.style.top=r},[r]),S.useEffect(()=>{const l=s.current.querySelectorAll(".sidebar-list-item");for(let c of l)c.dataset.index==e?c.classList.add("active"):c.classList.remove("active")},[e]);function a(l){l.preventDefault(),t(l.currentTarget.dataset.index)}const u=l=>{ai.signOut(),i({type:"LOGGED_IN_USER",payload:null}),o("/app")};return I("div",{className:"sidebar",children:[I("div",{className:"sidebar-header",children:[v("div",{className:"app-icon"}),"my Office"]}),I("ul",{ref:s,className:"sidebar-list",children:[n.map((l,c)=>v("li",{"data-index":c,onClick:a,className:`sidebar-list-item ${c===0&&"active"}`,children:I("span",{children:[l.icon,v("span",{children:l.label})]})},c)),v("li",{children:v(jt,{to:"/app",className:"sidebar-list-item logout",onClick:u,children:I("span",{children:[v("img",{src:RJ,alt:"logout"}),v("span",{children:"Log out"})]})})})]})]})}const Lr={logo:v("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:v("path",{fill:"currentColor",d:"M507.606 371.054a187.217 187.217 0 00-23.051-19.606c-17.316 19.999-37.648 36.808-60.572 50.041-35.508 20.505-75.893 31.452-116.875 31.711 21.762 8.776 45.224 13.38 69.396 13.38 49.524 0 96.084-19.286 131.103-54.305a15 15 0 004.394-10.606 15.028 15.028 0 00-4.395-10.615zM27.445 351.448a187.392 187.392 0 00-23.051 19.606C1.581 373.868 0 377.691 0 381.669s1.581 7.793 4.394 10.606c35.019 35.019 81.579 54.305 131.103 54.305 24.172 0 47.634-4.604 69.396-13.38-40.985-.259-81.367-11.206-116.879-31.713-22.922-13.231-43.254-30.04-60.569-50.039zM103.015 375.508c24.937 14.4 53.928 24.056 84.837 26.854-53.409-29.561-82.274-70.602-95.861-94.135-14.942-25.878-25.041-53.917-30.063-83.421-14.921.64-29.775 2.868-44.227 6.709-6.6 1.576-11.507 7.517-11.507 14.599 0 1.312.172 2.618.512 3.885 15.32 57.142 52.726 100.35 96.309 125.509zM324.148 402.362c30.908-2.799 59.9-12.454 84.837-26.854 43.583-25.159 80.989-68.367 96.31-125.508.34-1.267.512-2.573.512-3.885 0-7.082-4.907-13.023-11.507-14.599-14.452-3.841-29.306-6.07-44.227-6.709-5.022 29.504-15.121 57.543-30.063 83.421-13.588 23.533-42.419 64.554-95.862 94.134zM187.301 366.948c-15.157-24.483-38.696-71.48-38.696-135.903 0-32.646 6.043-64.401 17.945-94.529-16.394-9.351-33.972-16.623-52.273-21.525-8.004-2.142-16.225 2.604-18.37 10.605-16.372 61.078-4.825 121.063 22.064 167.631 16.325 28.275 39.769 54.111 69.33 73.721zM324.684 366.957c29.568-19.611 53.017-45.451 69.344-73.73 26.889-46.569 38.436-106.553 22.064-167.631-2.145-8.001-10.366-12.748-18.37-10.605-18.304 4.902-35.883 12.176-52.279 21.529 11.9 30.126 17.943 61.88 17.943 94.525.001 64.478-23.58 111.488-38.702 135.912zM266.606 69.813c-2.813-2.813-6.637-4.394-10.615-4.394a15 15 0 00-10.606 4.394c-39.289 39.289-66.78 96.005-66.78 161.231 0 65.256 27.522 121.974 66.78 161.231 2.813 2.813 6.637 4.394 10.615 4.394s7.793-1.581 10.606-4.394c39.248-39.247 66.78-95.96 66.78-161.231.001-65.256-27.511-121.964-66.78-161.231z"})}),home:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-home",children:[v("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),v("polyline",{points:"9 22 9 12 15 12 15 22"})]}),products:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[v("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),v("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),v("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),pieChart:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-pie-chart",children:[v("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),v("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),inbox:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-inbox",children:[v("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),v("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),notifications:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bell",children:[v("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),v("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),sort:v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512",children:v("path",{fill:"currentColor",d:"M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"})}),dotsMoreButton:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-vertical",children:[v("circle",{cx:"12",cy:"12",r:"1"}),v("circle",{cx:"12",cy:"5",r:"1"}),v("circle",{cx:"12",cy:"19",r:"1"})]}),moon:I("svg",{className:"moon",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"24",height:"24",viewBox:"0 0 24 24",children:[v("defs",{}),v("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})]})};function DJ({title:t="title",darkMode:e=!0,setDarkMode:n=r=>r}){S.useEffect(()=>{document.documentElement.classList.toggle("light")},[e]);function r(i){i.preventDefault(),n(!e)}return I("div",{className:"Header",children:[v("h1",{className:"headerText",children:t}),v("button",{onClick:r,className:`mode-switch ${e?"dark":"light"}`,title:"Switch Theme",children:Lr.moon})]})}function LJ({gridListStyle:t="list",setGridListStyle:e=n=>n}){const n=S.useRef(),r=S.useRef(),i=S.useRef();function s(){n.current.classList.toggle("active")}function o(a){a.preventDefault(),e(a.currentTarget.dataset.style)}return I("div",{className:"actions",children:[v("input",{className:"search-bar",placeholder:"Search...",type:"text"}),I("div",{className:"actions-wrapper",children:[I("div",{className:"filter-button-wrapper",children:[I("button",{onClick:s,className:"action-button filter jsFilter",children:[v("span",{children:"Filter"}),v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-filter",children:v("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})]}),I("div",{ref:n,className:"filter-menu",children:[v("label",{children:"Category"}),I("select",{children:[v("option",{children:"All Categories"}),v("option",{children:"Furniture"}),v("option",{children:"Decoration"}),v("option",{children:"Kitchen"}),v("option",{children:"Bathroom"})]}),v("label",{children:"Status"}),I("select",{children:[v("option",{children:"All Status"}),v("option",{children:"Active"}),v("option",{children:"Disabled"})]}),I("div",{className:"filter-menu-buttons",children:[v("button",{className:"filter-button reset",children:"Reset"}),v("button",{className:"filter-button apply",children:"Apply"})]})]})]}),v("button",{"data-style":"list",onClick:o,ref:r,className:`action-button list ${t==="list"&&"active"}`,title:"List View",children:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-list",children:[v("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),v("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),v("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),v("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),v("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),v("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),v("button",{"data-style":"grid",ref:i,onClick:o,className:`action-button grid ${t==="grid"&&"active"}`,title:"Grid View",children:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-grid",children:[v("rect",{x:"3",y:"3",width:"7",height:"7"}),v("rect",{x:"14",y:"3",width:"7",height:"7"}),v("rect",{x:"14",y:"14",width:"7",height:"7"}),v("rect",{x:"3",y:"14",width:"7",height:"7"})]})})]})]})}var o1={},FJ={get exports(){return o1},set exports(t){o1=t}};(()=>{var t={d:(s,o)=>{for(var a in o)t.o(o,a)&&!t.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:o[a]})},o:(s,o)=>Object.prototype.hasOwnProperty.call(s,o),r:s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}},e={};function n(s,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}t.r(e),t.d(e,{default:()=>i});var r=function(){function s(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,s)}var o,a;return o=s,a=[{key:"changeHeightWidth",value:function(u,l,c,h,f,d){return c>h&&(u=Math.round(u*h/c),c=h),u>l&&(c=Math.round(c*l/u),u=l),f&&c<f&&(u=Math.round(u*f/c),c=f),d&&u<d&&(c=Math.round(c*d/u),u=d),{height:u,width:c}}},{key:"resizeAndRotateImage",value:function(u,l,c,h,f){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,b=p/100,g=document.createElement("canvas"),y=u.width,w=u.height,E=this.changeHeightWidth(w,c,y,l,h,f);!m||m!==90&&m!==270?(g.width=E.width,g.height=E.height):(g.width=E.height,g.height=E.width),y=E.width,w=E.height;var _=g.getContext("2d");return _.fillStyle="rgba(0, 0, 0, 0)",_.fillRect(0,0,y,w),_.imageSmoothingEnabled&&_.imageSmoothingQuality&&(_.imageSmoothingQuality="high"),m&&(_.rotate(m*Math.PI/180),m===90?_.translate(0,-g.width):m===180?_.translate(-g.width,-g.height):m===270?_.translate(-g.height,0):m!==0&&m!==360||_.translate(0,0)),_.drawImage(u,0,0,y,w),g.toDataURL("image/".concat(d),b)}},{key:"b64toByteArrays",value:function(u,l){for(var c=atob(u.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),h=[],f=0;f<c.length;f+=512){for(var d=c.slice(f,f+512),p=new Array(d.length),m=0;m<d.length;m++)p[m]=d.charCodeAt(m);var b=new Uint8Array(p);h.push(b)}return h}},{key:"b64toBlob",value:function(u,l){var c=this.b64toByteArrays(u,l);return new Blob(c,{type:l,lastModified:new Date})}},{key:"b64toFile",value:function(u,l,c){var h=this.b64toByteArrays(u,c);return new File(h,l,{type:c,lastModified:new Date})}},{key:"createResizedImage",value:function(u,l,c,h,f,d,p){var m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,g=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,y=new FileReader;if(!u)throw Error("File Not Found!");if(u.type&&!u.type.includes("image"))throw Error("File Is NOT Image!");y.readAsDataURL(u),y.onload=function(){var w=new Image;w.src=y.result,w.onload=function(){var E=s.resizeAndRotateImage(w,l,c,b,g,h,f,d),_="image/".concat(h);switch(m){case"blob":var T=s.b64toBlob(E,_);p(T);break;case"base64":p(E);break;case"file":var k=u.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(h.toString()),x=s.b64toFile(E,k,_);p(x);break;default:p(E)}}},y.onerror=function(w){throw Error(w)}}}],a&&n(o,a),s}();const i={imageFileResizer:function(s,o,a,u,l,c,h,f,d,p){return r.createResizedImage(s,o,a,u,l,c,h,f,d,p)}};FJ.exports=e})();function vF(t,e){return function(){return t.apply(e,arguments)}}const{toString:wF}=Object.prototype,{getPrototypeOf:US}=Object,VS=(t=>e=>{const n=wF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Li=t=>(t=t.toLowerCase(),e=>VS(e)===t),Wg=t=>e=>typeof e===t,{isArray:ol}=Array,gh=Wg("undefined");function MJ(t){return t!==null&&!gh(t)&&t.constructor!==null&&!gh(t.constructor)&&ra(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bF=Li("ArrayBuffer");function $J(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bF(t.buffer),e}const UJ=Wg("string"),ra=Wg("function"),EF=Wg("number"),jS=t=>t!==null&&typeof t=="object",VJ=t=>t===!0||t===!1,kd=t=>{if(VS(t)!=="object")return!1;const e=US(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jJ=Li("Date"),BJ=Li("File"),qJ=Li("Blob"),zJ=Li("FileList"),WJ=t=>jS(t)&&ra(t.pipe),QJ=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||wF.call(t)===e||ra(t.toString)&&t.toString()===e)},HJ=Li("URLSearchParams"),GJ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ol(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function SF(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const _F=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:pt)(),IF=t=>!gh(t)&&t!==_F;function a1(){const{caseless:t}=IF(this)&&this||{},e={},n=(r,i)=>{const s=t&&SF(e,i)||i;kd(e[s])&&kd(r)?e[s]=a1(e[s],r):kd(r)?e[s]=a1({},r):ol(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Xh(arguments[r],n);return e}const KJ=(t,e,n,{allOwnKeys:r}={})=>(Xh(e,(i,s)=>{n&&ra(i)?t[s]=vF(i,n):t[s]=i},{allOwnKeys:r}),t),YJ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),JJ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},XJ=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&US(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ZJ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},eX=t=>{if(!t)return null;if(ol(t))return t;let e=t.length;if(!EF(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},tX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&US(Uint8Array)),nX=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},rX=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},iX=Li("HTMLFormElement"),sX=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ux=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),oX=Li("RegExp"),TF=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Xh(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},aX=t=>{TF(t,(e,n)=>{if(ra(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ra(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uX=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ol(t)?r(t):r(String(t).split(e)),n},lX=()=>{},cX=(t,e)=>(t=+t,Number.isFinite(t)?t:e),hX=t=>{const e=new Array(10),n=(r,i)=>{if(jS(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ol(r)?[]:{};return Xh(r,(o,a)=>{const u=n(o,i+1);!gh(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},R={isArray:ol,isArrayBuffer:bF,isBuffer:MJ,isFormData:QJ,isArrayBufferView:$J,isString:UJ,isNumber:EF,isBoolean:VJ,isObject:jS,isPlainObject:kd,isUndefined:gh,isDate:jJ,isFile:BJ,isBlob:qJ,isRegExp:oX,isFunction:ra,isStream:WJ,isURLSearchParams:HJ,isTypedArray:tX,isFileList:zJ,forEach:Xh,merge:a1,extend:KJ,trim:GJ,stripBOM:YJ,inherits:JJ,toFlatObject:XJ,kindOf:VS,kindOfTest:Li,endsWith:ZJ,toArray:eX,forEachEntry:nX,matchAll:rX,isHTMLForm:iX,hasOwnProperty:ux,hasOwnProp:ux,reduceDescriptors:TF,freezeMethods:aX,toObjectSet:uX,toCamelCase:sX,noop:lX,toFiniteNumber:cX,findKey:SF,global:_F,isContextDefined:IF,toJSONObject:hX};var Fr=[],Hn=[],fX=typeof Uint8Array<"u"?Uint8Array:Array,BS=!1;function kF(){BS=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Fr[e]=t[e],Hn[t.charCodeAt(e)]=e;Hn["-".charCodeAt(0)]=62,Hn["_".charCodeAt(0)]=63}function dX(t){BS||kF();var e,n,r,i,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[a-2]==="="?2:t[a-1]==="="?1:0,o=new fX(a*3/4-s),r=s>0?a-4:a;var u=0;for(e=0,n=0;e<r;e+=4,n+=3)i=Hn[t.charCodeAt(e)]<<18|Hn[t.charCodeAt(e+1)]<<12|Hn[t.charCodeAt(e+2)]<<6|Hn[t.charCodeAt(e+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=i&255;return s===2?(i=Hn[t.charCodeAt(e)]<<2|Hn[t.charCodeAt(e+1)]>>4,o[u++]=i&255):s===1&&(i=Hn[t.charCodeAt(e)]<<10|Hn[t.charCodeAt(e+1)]<<4|Hn[t.charCodeAt(e+2)]>>2,o[u++]=i>>8&255,o[u++]=i&255),o}function pX(t){return Fr[t>>18&63]+Fr[t>>12&63]+Fr[t>>6&63]+Fr[t&63]}function mX(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(pX(r));return i.join("")}function lx(t){BS||kF();for(var e,n=t.length,r=n%3,i="",s=[],o=16383,a=0,u=n-r;a<u;a+=o)s.push(mX(t,a,a+o>u?u:a+o));return r===1?(e=t[n-1],i+=Fr[e>>2],i+=Fr[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=Fr[e>>10],i+=Fr[e>>4&63],i+=Fr[e<<2&63],i+="="),s.push(i),s.join("")}function Qg(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+h],h+=f,c-=8);if(s===0)s=1-l;else{if(s===u)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(d?-1:1)*o*Math.pow(2,s-r)}function CF(t,e,n,r,i,s){var o,a,u,l=s*8-i-1,c=(1<<l)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?e+=f/u:e+=f*Math.pow(2,1-h),e*u>=2&&(o++,u/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=a&255,d+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+d]=o&255,d+=p,o/=256,l-=8);t[n+d-p]|=m*128}var gX={}.toString,xF=Array.isArray||function(t){return gX.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var yX=50;F.TYPED_ARRAY_SUPPORT=pt.TYPED_ARRAY_SUPPORT!==void 0?pt.TYPED_ARRAY_SUPPORT:!0;Hp();function Hp(){return F.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function mi(t,e){if(Hp()<e)throw new RangeError("Invalid typed array length");return F.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=F.prototype):(t===null&&(t=new F(e)),t.length=e),t}function F(t,e,n){if(!F.TYPED_ARRAY_SUPPORT&&!(this instanceof F))return new F(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return qS(this,t)}return OF(this,t,e,n)}F.poolSize=8192;F._augment=function(t){return t.__proto__=F.prototype,t};function OF(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?bX(t,e,n,r):typeof e=="string"?wX(t,e,n):EX(t,e)}F.from=function(t,e,n){return OF(null,t,e,n)};F.TYPED_ARRAY_SUPPORT&&(F.prototype.__proto__=Uint8Array.prototype,F.__proto__=Uint8Array);function NF(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function vX(t,e,n,r){return NF(e),e<=0?mi(t,e):n!==void 0?typeof r=="string"?mi(t,e).fill(n,r):mi(t,e).fill(n):mi(t,e)}F.alloc=function(t,e,n){return vX(null,t,e,n)};function qS(t,e){if(NF(e),t=mi(t,e<0?0:zS(e)|0),!F.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}F.allocUnsafe=function(t){return qS(null,t)};F.allocUnsafeSlow=function(t){return qS(null,t)};function wX(t,e,n){if((typeof n!="string"||n==="")&&(n="utf8"),!F.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=AF(e,n)|0;t=mi(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function u1(t,e){var n=e.length<0?0:zS(e.length)|0;t=mi(t,n);for(var r=0;r<n;r+=1)t[r]=e[r]&255;return t}function bX(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return n===void 0&&r===void 0?e=new Uint8Array(e):r===void 0?e=new Uint8Array(e,n):e=new Uint8Array(e,n,r),F.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=F.prototype):t=u1(t,e),t}function EX(t,e){if(ei(e)){var n=zS(e.length)|0;return t=mi(t,n),t.length===0||e.copy(t,0,0,n),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||VX(e.length)?mi(t,0):u1(t,e);if(e.type==="Buffer"&&xF(e.data))return u1(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function zS(t){if(t>=Hp())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Hp().toString(16)+" bytes");return t|0}F.isBuffer=jX;function ei(t){return!!(t!=null&&t._isBuffer)}F.compare=function(e,n){if(!ei(e)||!ei(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,s=0,o=Math.min(r,i);s<o;++s)if(e[s]!==n[s]){r=e[s],i=n[s];break}return r<i?-1:i<r?1:0};F.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(e,n){if(!xF(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return F.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=F.allocUnsafe(n),s=0;for(r=0;r<e.length;++r){var o=e[r];if(!ei(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function AF(t,e){if(ei(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Gp(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return $F(t).length;default:if(r)return Gp(t).length;e=(""+e).toLowerCase(),r=!0}}F.byteLength=AF;function SX(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return RX(this,e,n);case"utf8":case"utf-8":return DF(this,e,n);case"ascii":return NX(this,e,n);case"latin1":case"binary":return AX(this,e,n);case"base64":return xX(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return PX(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}F.prototype._isBuffer=!0;function To(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}F.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)To(this,n,n+1);return this};F.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)To(this,n,n+3),To(this,n+1,n+2);return this};F.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)To(this,n,n+7),To(this,n+1,n+6),To(this,n+2,n+5),To(this,n+3,n+4);return this};F.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?DF(this,0,e):SX.apply(this,arguments)};F.prototype.equals=function(e){if(!ei(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:F.compare(this,e)===0};F.prototype.inspect=function(){var e="",n=yX;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"};F.prototype.compare=function(e,n,r,i,s){if(!ei(e))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),n<0||r>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&n>=r)return 0;if(i>=s)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=r-n,u=Math.min(o,a),l=this.slice(i,s),c=e.slice(n,r),h=0;h<u;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0};function RF(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=F.from(e,r)),ei(e))return e.length===0?-1:cx(t,e,n,r,i);if(typeof e=="number")return e=e&255,F.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):cx(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function cx(t,e,n,r,i){var s=1,o=t.length,a=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,n/=2}function u(d,p){return s===1?d[p]:d.readUInt16BE(p*s)}var l;if(i){var c=-1;for(l=n;l<o;l++)if(u(t,l)===u(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===a)return c*s}else c!==-1&&(l-=l-c),c=-1}else for(n+a>o&&(n=o-a),l=n;l>=0;l--){for(var h=!0,f=0;f<a;f++)if(u(t,l+f)!==u(e,f)){h=!1;break}if(h)return l}return-1}F.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};F.prototype.indexOf=function(e,n,r){return RF(this,e,n,r,!0)};F.prototype.lastIndexOf=function(e,n,r){return RF(this,e,n,r,!1)};function _X(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function IX(t,e,n,r){return Kg(Gp(e,t.length-n),t,n,r)}function PF(t,e,n,r){return Kg($X(e),t,n,r)}function TX(t,e,n,r){return PF(t,e,n,r)}function kX(t,e,n,r){return Kg($F(e),t,n,r)}function CX(t,e,n,r){return Kg(UX(e,t.length-n),t,n,r)}F.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n|0,isFinite(r)?(r=r|0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _X(this,e,n,r);case"utf8":case"utf-8":return IX(this,e,n,r);case"ascii":return PF(this,e,n,r);case"latin1":case"binary":return TX(this,e,n,r);case"base64":return kX(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return CX(this,e,n,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xX(t,e,n){return e===0&&n===t.length?lx(t):lx(t.slice(e,n))}function DF(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=n){var u,l,c,h;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(h=(s&31)<<6|u&63,h>127&&(o=h));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(h=(s&15)<<12|(u&63)<<6|l&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],(u&192)===128&&(l&192)===128&&(c&192)===128&&(h=(s&15)<<18|(u&63)<<12|(l&63)<<6|c&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=a}return OX(r)}var hx=4096;function OX(t){var e=t.length;if(e<=hx)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=hx));return n}function NX(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function AX(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function RX(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=MX(t[s]);return i}function PX(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}F.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(F.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=F.prototype;else{var s=n-e;i=new F(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};function $t(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUIntLE=function(e,n,r){e=e|0,n=n|0,r||$t(e,n,this.length);for(var i=this[e],s=1,o=0;++o<n&&(s*=256);)i+=this[e+o]*s;return i};F.prototype.readUIntBE=function(e,n,r){e=e|0,n=n|0,r||$t(e,n,this.length);for(var i=this[e+--n],s=1;n>0&&(s*=256);)i+=this[e+--n]*s;return i};F.prototype.readUInt8=function(e,n){return n||$t(e,1,this.length),this[e]};F.prototype.readUInt16LE=function(e,n){return n||$t(e,2,this.length),this[e]|this[e+1]<<8};F.prototype.readUInt16BE=function(e,n){return n||$t(e,2,this.length),this[e]<<8|this[e+1]};F.prototype.readUInt32LE=function(e,n){return n||$t(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};F.prototype.readUInt32BE=function(e,n){return n||$t(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};F.prototype.readIntLE=function(e,n,r){e=e|0,n=n|0,r||$t(e,n,this.length);for(var i=this[e],s=1,o=0;++o<n&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*n)),i};F.prototype.readIntBE=function(e,n,r){e=e|0,n=n|0,r||$t(e,n,this.length);for(var i=n,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*n)),o};F.prototype.readInt8=function(e,n){return n||$t(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};F.prototype.readInt16LE=function(e,n){n||$t(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};F.prototype.readInt16BE=function(e,n){n||$t(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};F.prototype.readInt32LE=function(e,n){return n||$t(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};F.prototype.readInt32BE=function(e,n){return n||$t(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};F.prototype.readFloatLE=function(e,n){return n||$t(e,4,this.length),Qg(this,e,!0,23,4)};F.prototype.readFloatBE=function(e,n){return n||$t(e,4,this.length),Qg(this,e,!1,23,4)};F.prototype.readDoubleLE=function(e,n){return n||$t(e,8,this.length),Qg(this,e,!0,52,8)};F.prototype.readDoubleBE=function(e,n){return n||$t(e,8,this.length),Qg(this,e,!1,52,8)};function Nn(t,e,n,r,i,s){if(!ei(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}F.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;Nn(this,e,n,r,s,0)}var o=1,a=0;for(this[n]=e&255;++a<r&&(o*=256);)this[n+a]=e/o&255;return n+r};F.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;Nn(this,e,n,r,s,0)}var o=r-1,a=1;for(this[n+o]=e&255;--o>=0&&(a*=256);)this[n+o]=e/a&255;return n+r};F.prototype.writeUInt8=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,1,255,0),F.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e&255,n+1};function Hg(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}F.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,2,65535,0),F.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):Hg(this,e,n,!0),n+2};F.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,2,65535,0),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):Hg(this,e,n,!1),n+2};function Gg(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>(r?i:3-i)*8&255}F.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,4,4294967295,0),F.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255):Gg(this,e,n,!0),n+4};F.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,4,4294967295,0),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):Gg(this,e,n,!1),n+4};F.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n|0,!i){var s=Math.pow(2,8*r-1);Nn(this,e,n,r,s-1,-s)}var o=0,a=1,u=0;for(this[n]=e&255;++o<r&&(a*=256);)e<0&&u===0&&this[n+o-1]!==0&&(u=1),this[n+o]=(e/a>>0)-u&255;return n+r};F.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n|0,!i){var s=Math.pow(2,8*r-1);Nn(this,e,n,r,s-1,-s)}var o=r-1,a=1,u=0;for(this[n+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[n+o+1]!==0&&(u=1),this[n+o]=(e/a>>0)-u&255;return n+r};F.prototype.writeInt8=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,1,127,-128),F.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=e&255,n+1};F.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,2,32767,-32768),F.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):Hg(this,e,n,!0),n+2};F.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,2,32767,-32768),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):Hg(this,e,n,!1),n+2};F.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,4,2147483647,-2147483648),F.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):Gg(this,e,n,!0),n+4};F.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n|0,r||Nn(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):Gg(this,e,n,!1),n+4};function LF(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function FF(t,e,n,r,i){return i||LF(t,e,n,4),CF(t,e,n,r,23,4),n+4}F.prototype.writeFloatLE=function(e,n,r){return FF(this,e,n,!0,r)};F.prototype.writeFloatBE=function(e,n,r){return FF(this,e,n,!1,r)};function MF(t,e,n,r,i){return i||LF(t,e,n,8),CF(t,e,n,r,52,8),n+8}F.prototype.writeDoubleLE=function(e,n,r){return MF(this,e,n,!0,r)};F.prototype.writeDoubleBE=function(e,n,r){return MF(this,e,n,!1,r)};F.prototype.copy=function(e,n,r,i){if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r,o;if(this===e&&r<n&&n<i)for(o=s-1;o>=0;--o)e[o+n]=this[o+r];else if(s<1e3||!F.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),n);return s};F.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!F.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var o;if(typeof e=="number")for(o=n;o<r;++o)this[o]=e;else{var a=ei(e)?e:Gp(new F(e,i).toString()),u=a.length;for(o=0;o<r-n;++o)this[o+n]=a[o%u]}return this};var DX=/[^+\/0-9A-Za-z-_]/g;function LX(t){if(t=FX(t).replace(DX,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function FX(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function MX(t){return t<16?"0"+t.toString(16):t.toString(16)}function Gp(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function $X(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function UX(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function $F(t){return dX(LX(t))}function Kg(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function VX(t){return t!==t}function jX(t){return t!=null&&(!!t._isBuffer||UF(t)||BX(t))}function UF(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function BX(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&UF(t.slice(0,0))}function be(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}R.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const VF=be.prototype,jF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jF[t]={value:t}});Object.defineProperties(be,jF);Object.defineProperty(VF,"isAxiosError",{value:!0});be.from=(t,e,n,r,i,s)=>{const o=Object.create(VF);return R.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),be.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var qX=typeof self=="object"?self.FormData:window.FormData;const zX=qX;function l1(t){return R.isPlainObject(t)||R.isArray(t)}function BF(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function fx(t,e,n){return t?t.concat(e).map(function(i,s){return i=BF(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function WX(t){return R.isArray(t)&&!t.some(l1)}const QX=R.toFlatObject(R,{},null,function(e){return/^is[A-Z]/.test(e)});function HX(t){return t&&R.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Yg(t,e,n){if(!R.isObject(t))throw new TypeError("target must be an object");e=e||new(zX||FormData),n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!R.isUndefined(b[m])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&HX(e);if(!R.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(R.isDate(p))return p.toISOString();if(!u&&R.isBlob(p))throw new be("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(p)||R.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):F.from(p):p}function c(p,m,b){let g=p;if(p&&!b&&typeof p=="object"){if(R.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(R.isArray(p)&&WX(p)||R.isFileList(p)||R.endsWith(m,"[]")&&(g=R.toArray(p)))return m=BF(m),g.forEach(function(w,E){!(R.isUndefined(w)||w===null)&&e.append(o===!0?fx([m],E,s):o===null?m:m+"[]",l(w))}),!1}return l1(p)?!0:(e.append(fx(b,m,s),l(p)),!1)}const h=[],f=Object.assign(QX,{defaultVisitor:c,convertValue:l,isVisitable:l1});function d(p,m){if(!R.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(p),R.forEach(p,function(g,y){(!(R.isUndefined(g)||g===null)&&i.call(e,g,R.isString(y)?y.trim():y,m,f))===!0&&d(g,m?m.concat(y):[y])}),h.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return d(t),e}function dx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function WS(t,e){this._pairs=[],t&&Yg(t,this,e)}const qF=WS.prototype;qF.append=function(e,n){this._pairs.push([e,n])};qF.toString=function(e){const n=e?function(r){return e.call(this,r,dx)}:dx;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function GX(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zF(t,e,n){if(!e)return t;const r=n&&n.encode||GX,i=n&&n.serialize;let s;if(i?s=i(e,n):s=R.isURLSearchParams(e)?e.toString():new WS(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class KX{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){R.forEach(this.handlers,function(r){r!==null&&e(r)})}}const px=KX,WF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YX=typeof URLSearchParams<"u"?URLSearchParams:WS,JX=FormData,XX=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ZX=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vr={isBrowser:!0,classes:{URLSearchParams:YX,FormData:JX,Blob},isStandardBrowserEnv:XX,isStandardBrowserWebWorkerEnv:ZX,protocols:["http","https","file","blob","url","data"]};function eZ(t,e){return Yg(t,new Vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Vr.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function tZ(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nZ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function QF(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&R.isArray(i)?i.length:o,u?(R.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!R.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&R.isArray(i[o])&&(i[o]=nZ(i[o])),!a)}if(R.isFormData(t)&&R.isFunction(t.entries)){const n={};return R.forEachEntry(t,(r,i)=>{e(tZ(r),i,n,0)}),n}return null}const rZ={"Content-Type":void 0};function iZ(t,e,n){if(R.isString(t))try{return(e||JSON.parse)(t),R.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jg={transitional:WF,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=R.isObject(e);if(s&&R.isHTMLForm(e)&&(e=new FormData(e)),R.isFormData(e))return i&&i?JSON.stringify(QF(e)):e;if(R.isArrayBuffer(e)||R.isBuffer(e)||R.isStream(e)||R.isFile(e)||R.isBlob(e))return e;if(R.isArrayBufferView(e))return e.buffer;if(R.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return eZ(e,this.formSerializer).toString();if((a=R.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Yg(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),iZ(e)):e}],transformResponse:[function(e){const n=this.transitional||Jg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&R.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?be.from(a,be.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};R.forEach(["delete","get","head"],function(e){Jg.headers[e]={}});R.forEach(["post","put","patch"],function(e){Jg.headers[e]=R.merge(rZ)});const QS=Jg,sZ=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oZ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&sZ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},mx=Symbol("internals");function Al(t){return t&&String(t).trim().toLowerCase()}function Cd(t){return t===!1||t==null?t:R.isArray(t)?t.map(Cd):String(t)}function aZ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function uZ(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function gx(t,e,n,r){if(R.isFunction(r))return r.call(this,e,n);if(R.isString(e)){if(R.isString(r))return e.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(e)}}function lZ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function cZ(t,e){const n=R.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Xg{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,l){const c=Al(u);if(!c)throw new Error("header name must be a non-empty string");const h=R.findKey(i,c);(!h||i[h]===void 0||l===!0||l===void 0&&i[h]!==!1)&&(i[h||u]=Cd(a))}const o=(a,u)=>R.forEach(a,(l,c)=>s(l,c,u));return R.isPlainObject(e)||e instanceof this.constructor?o(e,n):R.isString(e)&&(e=e.trim())&&!uZ(e)?o(oZ(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Al(e),e){const r=R.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return aZ(i);if(R.isFunction(n))return n.call(this,i,r);if(R.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Al(e),e){const r=R.findKey(this,e);return!!(r&&(!n||gx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Al(o),o){const a=R.findKey(r,o);a&&(!n||gx(r,r[a],a,n))&&(delete r[a],i=!0)}}return R.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const n=this,r={};return R.forEach(this,(i,s)=>{const o=R.findKey(r,s);if(o){n[o]=Cd(i),delete n[s];return}const a=e?lZ(s):String(s).trim();a!==s&&delete n[s],n[a]=Cd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return R.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[mx]=this[mx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Al(o);r[a]||(cZ(i,o),r[a]=!0)}return R.isArray(e)?e.forEach(s):s(e),this}}Xg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);R.freezeMethods(Xg.prototype);R.freezeMethods(Xg);const wi=Xg;function Cv(t,e){const n=this||QS,r=e||n,i=wi.from(r.headers);let s=r.data;return R.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function HF(t){return!!(t&&t.__CANCEL__)}function Zh(t,e,n){be.call(this,t??"canceled",be.ERR_CANCELED,e,n),this.name="CanceledError"}R.inherits(Zh,be,{__CANCEL__:!0});const hZ=null;function fZ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const dZ=Vr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const u=[];u.push(n+"="+encodeURIComponent(r)),R.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),R.isString(s)&&u.push("path="+s),R.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pZ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mZ(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function GF(t,e){return t&&!pZ(e)?mZ(t,e):e}const gZ=Vr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=R.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function yZ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vZ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),c=r[s];o||(o=l),n[i]=u,r[i]=l;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const d=c&&l-c;return d?Math.round(f*1e3/d):void 0}}function yx(t,e){let n=0;const r=vZ(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,u=r(a),l=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&l?(o-s)/u:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const wZ=typeof XMLHttpRequest<"u",bZ=wZ&&function(t){return new Promise(function(n,r){let i=t.data;const s=wi.from(t.headers).normalize(),o=t.responseType;let a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}R.isFormData(i)&&(Vr.isStandardBrowserEnv||Vr.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let l=new XMLHttpRequest;if(t.auth){const d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(d+":"+p))}const c=GF(t.baseURL,t.url);l.open(t.method.toUpperCase(),zF(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function h(){if(!l)return;const d=wi.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:d,config:t,request:l};fZ(function(g){n(g),u()},function(g){r(g),u()},m),l=null}if("onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(h)},l.onabort=function(){l&&(r(new be("Request aborted",be.ECONNABORTED,t,l)),l=null)},l.onerror=function(){r(new be("Network Error",be.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||WF;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new be(p,m.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,t,l)),l=null},Vr.isStandardBrowserEnv){const d=(t.withCredentials||gZ(c))&&t.xsrfCookieName&&dZ.read(t.xsrfCookieName);d&&s.set(t.xsrfHeaderName,d)}i===void 0&&s.setContentType(null),"setRequestHeader"in l&&R.forEach(s.toJSON(),function(p,m){l.setRequestHeader(m,p)}),R.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&o!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",yx(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",yx(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=d=>{l&&(r(!d||d.type?new Zh(null,t,l):d),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=yZ(c);if(f&&Vr.protocols.indexOf(f)===-1){r(new be("Unsupported protocol "+f+":",be.ERR_BAD_REQUEST,t));return}l.send(i||null)})},xd={http:hZ,xhr:bZ};R.forEach(xd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const EZ={getAdapter:t=>{t=R.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=R.isString(n)?xd[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new be(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(R.hasOwnProp(xd,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!R.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:xd};function xv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zh(null,t)}function vx(t){return xv(t),t.headers=wi.from(t.headers),t.data=Cv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),EZ.getAdapter(t.adapter||QS.adapter)(t).then(function(r){return xv(t),r.data=Cv.call(t,t.transformResponse,r),r.headers=wi.from(r.headers),r},function(r){return HF(r)||(xv(t),r&&r.response&&(r.response.data=Cv.call(t,t.transformResponse,r.response),r.response.headers=wi.from(r.response.headers))),Promise.reject(r)})}const wx=t=>t instanceof wi?t.toJSON():t;function $u(t,e){e=e||{};const n={};function r(l,c,h){return R.isPlainObject(l)&&R.isPlainObject(c)?R.merge.call({caseless:h},l,c):R.isPlainObject(c)?R.merge({},c):R.isArray(c)?c.slice():c}function i(l,c,h){if(R.isUndefined(c)){if(!R.isUndefined(l))return r(void 0,l,h)}else return r(l,c,h)}function s(l,c){if(!R.isUndefined(c))return r(void 0,c)}function o(l,c){if(R.isUndefined(c)){if(!R.isUndefined(l))return r(void 0,l)}else return r(void 0,c)}function a(l,c,h){if(h in e)return r(l,c);if(h in t)return r(void 0,l)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,c)=>i(wx(l),wx(c),!0)};return R.forEach(Object.keys(t).concat(Object.keys(e)),function(c){const h=u[c]||i,f=h(t[c],e[c],c);R.isUndefined(f)&&h!==a||(n[c]=f)}),n}const KF="1.2.4",HS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{HS[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bx={};HS.transitional=function(e,n,r){function i(s,o){return"[Axios v"+KF+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new be(i(o," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!bx[o]&&(bx[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function SZ(t,e,n){if(typeof t!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new be("option "+s+" must be "+u,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+s,be.ERR_BAD_OPTION)}}const c1={assertOptions:SZ,validators:HS},ji=c1.validators;class Kp{constructor(e){this.defaults=e,this.interceptors={request:new px,response:new px}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$u(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&c1.assertOptions(r,{silentJSONParsing:ji.transitional(ji.boolean),forcedJSONParsing:ji.transitional(ji.boolean),clarifyTimeoutError:ji.transitional(ji.boolean)},!1),i!==void 0&&c1.assertOptions(i,{encode:ji.function,serialize:ji.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&R.merge(s.common,s[n.method]),o&&R.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=wi.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(u=u&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let c,h=0,f;if(!u){const p=[vx.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,l),f=p.length,c=Promise.resolve(n);h<f;)c=c.then(p[h++],p[h++]);return c}f=a.length;let d=n;for(h=0;h<f;){const p=a[h++],m=a[h++];try{d=p(d)}catch(b){m.call(this,b);break}}try{c=vx.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}getUri(e){e=$u(this.defaults,e);const n=GF(e.baseURL,e.url);return zF(n,e.params,e.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(e){Kp.prototype[e]=function(n,r){return this.request($u(r||{},{method:e,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request($u(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Kp.prototype[e]=n(),Kp.prototype[e+"Form"]=n(!0)});const Od=Kp;class GS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Zh(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new GS(function(i){e=i}),cancel:e}}}const _Z=GS;function IZ(t){return function(n){return t.apply(null,n)}}function TZ(t){return R.isObject(t)&&t.isAxiosError===!0}const h1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(h1).forEach(([t,e])=>{h1[e]=t});const kZ=h1;function YF(t){const e=new Od(t),n=vF(Od.prototype.request,e);return R.extend(n,Od.prototype,e,{allOwnKeys:!0}),R.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return YF($u(t,i))},n}const _t=YF(QS);_t.Axios=Od;_t.CanceledError=Zh;_t.CancelToken=_Z;_t.isCancel=HF;_t.VERSION=KF;_t.toFormData=Yg;_t.AxiosError=be;_t.Cancel=_t.CanceledError;_t.all=function(e){return Promise.all(e)};_t.spread=IZ;_t.isAxiosError=TZ;_t.mergeConfig=$u;_t.AxiosHeaders=wi;_t.formToJSON=t=>QF(R.isHTMLForm(t)?new FormData(t):t);_t.HttpStatusCode=kZ;_t.default=_t;const Ex=_t;function CZ({image:t,handleImageRemove:e=n=>n}){return v("img",{src:t.url,alt:t.public_id,style:{height:"100px"},className:"img-thumbnail m-3",onClick:()=>e(t.public_id)},t.public_id)}function KS({values:t,loading:e,setLoading:n,setValues:r}){const{state:i}=S.useContext(ni),{images:s}=t;S.useEffect(()=>{},[]);const o=l=>new Promise(c=>{o1.imageFileResizer(l,300,300,"JPEG",100,0,h=>{c(h)},"base64")}),a=async l=>{n(!0);try{const c=l.target.files[0],h=await o(c);Ex.post("https://jcolaco.dev/uploadimages",{image:h},{headers:{authtoken:i.user.token}}).then(f=>{n(!1),console.log("CLOUDINARY UPLOAD",f),r({...t,images:[...s,{...f.data,label:(t==null?void 0:t.label)||"",description:(t==null?void 0:t.description)||""}]})}).catch(f=>{n(!1),console.log("CLOUDINARY UPLOAD FAILED",f)})}catch(c){console.log(c)}},u=l=>{n(!0),Ex.post("https://jcolaco.dev/removeimage",{public_id:l},{headers:{authtoken:i.user.token}}).then(c=>{n(!1);let h=s.filter(f=>f.public_id!==l);r({...t,images:h})}).catch(c=>{n(!1),console.log(c)})};return I("div",{id:"FileUpload",children:[I("section",{className:"uploadSection",children:[I("label",{className:"uploadButton",children:["Upload Image",v("input",{hidden:!0,type:"file",accept:"image/*",onChange:a,placeholder:"Image"})]})," Or click on it to delete"]}),v("section",{className:"images",children:s==null?void 0:s.map(l=>v(CZ,{className:"image",image:l,handleImageRemove:u},l.public_id))})]})}function xZ({handleSubmit:t=a=>a,handleChange:e=a=>a,username:n="",name:r="",email:i="",about:s="",loading:o=!1}){return I("form",{className:"UserProfileForm",onSubmit:t,children:[I("section",{children:[v("label",{htmlFor:"username",children:"Username"}),v("input",{type:"text",name:"username",value:n||"",onChange:e,placeholder:"Username",disabled:o})]}),I("section",{children:[v("label",{htmlFor:"name",children:"Name"}),v("input",{type:"text",name:"name",value:r||"",onChange:e,placeholder:"Name",disabled:o})]}),I("section",{children:[v("label",{htmlFor:"email",children:"Email"}),v("input",{type:"text",name:"email",value:i||"",onChange:e,placeholder:"Email",disabled:!0})]}),I("section",{children:[v("label",{htmlFor:"about",children:"About"}),v("textarea",{name:"about",value:s||"",onChange:e,placeholder:"About",disabled:o})]}),v("button",{type:"submit",disabled:!i||o,children:"Submit"})]})}function OZ({loading:t=!0,setLoading:e=s=>s,values:n={},setValues:r=s=>s,userUpdate:i=s=>s}){return I("div",{className:"Settings",children:[v(KS,{values:n,loading:t,setValues:r,setLoading:e}),n&&v(xZ,{...n,loading:t,handleSubmit:a=>{a.preventDefault(),e(!0),i({variables:{input:n}}),e(!1)},handleChange:a=>{r({...n,[a.target.name]:a.target.value})}}),v(PasswordForgot,{}),v(PasswordUpdate,{})]})}function JF({name:t="",imageUrl:e=""}){return v("div",{className:"Badge1",children:I("figure",{referrerPolicy:"no-referrer",className:`profilePic ${t!==""?"":"flipH"}`,children:[!e&&oJ(t).toUpperCase(),v("img",{referrerPolicy:"no-referrer",src:e,alt:""})]})})}function NZ({loading:t=!0,values:e={}}){var n;return t?v("h4",{className:"text-danger",children:"Loading..."}):I("div",{className:"Home",children:[I("section",{className:"welcome",children:[I("h4",{children:["Welcome ",e.name]}),v(JF,{name:e.name,imageUrl:(n=e==null?void 0:e.images[0])==null?void 0:n.url})]}),v("section",{className:"greeting",children:I("p",{children:["Your account has been created. We're still under construction, but stay tuned for updates and exciting new features coming soon.",v("br",{}),v("br",{}),"Thank you for joining us, and we can't wait for you to be part of our journey.",v("br",{}),"Best regards,"]})})]})}function AZ({usersLoading:t=!0,gridListStyle:e="list",usersData:n=[]}){var s;const r=S.useRef();S.useEffect(()=>{console.log(e),i()},[e]);function i(){console.log(r.current),r.current.classList.toggle("tableView"),r.current.classList.toggle("gridView")}return t?v("h4",{children:"Loading..."}):v("div",{id:"ProductList",children:I("div",{ref:r,className:"products-area-wrapper tableView",children:[I("div",{className:"products-header",children:[I("div",{className:"product-cell image",children:["Users",v("button",{className:"sort-button",children:Lr.sort})]}),I("div",{className:"product-cell",children:["Status",v("button",{className:"sort-button",children:Lr.sort})]}),I("div",{className:"product-cell status",children:["Name",v("button",{className:"sort-button",children:Lr.sort})]}),I("div",{className:"product-cell flex-2",children:["About",v("button",{className:"sort-button",children:Lr.sort})]})]}),(s=n==null?void 0:n.allUsers)==null?void 0:s.map(o=>{var a;return I("div",{className:"products-row",children:[I("div",{className:"product-cell image",children:[v(JF,{name:o.name,imageUrl:(a=o==null?void 0:o.images[0])==null?void 0:a.url}),I("span",{children:["@",o.username]})]}),I("div",{className:"product-cell status",children:[v("span",{className:"cell-label",children:"Status:"}),v("span",{className:"status active",children:"active"})]}),I("div",{className:"product-cell",children:[v("span",{className:"cell-label",children:"Name:"}),o.name]}),I("div",{className:"product-cell flex-2",children:[v("span",{className:"cell-label",children:"About:"}),o.about]})]},o.email)})]})})}function RZ({operation:t="Add",inputError:e="",loading:n=!1,setLoading:r=c=>c,handleFormDisplayToggle:i=c=>c,handleFamilySubmit:s=c=>c,handleFamilyChange:o=c=>c,setInputFamily:a=c=>c,inputFamily:u={label:"",family:"",images:[]},optionsFamily:l={label:"",family:"",images:[]}}){return I("form",{id:"FormFamily",className:"displayNone",onSubmit:s,children:[v("span",{"data-form-id":"FormFamily",className:"close",onClick:i,children:"X"}),I("h3",{children:[t," family"]}),l.label!=="null"&&I("section",{disabled:l.label||n,children:[v("label",{htmlFor:"label",children:"*Label"}),v("input",{type:"text",disabled:l.label||n,value:l.label?l.label:u.label,onChange:o,name:"label",placeholder:"label"})]}),l.family!=="null"&&I("section",{disabled:l.family||n,children:[v("label",{htmlFor:"family",children:"Family"}),v("input",{name:"family",id:"family",disabled:l.family||n,value:l.family?l.family:u.family,placeholder:"family",onChange:o})]}),v(KS,{values:u,setValues:a,loading:n,setLoading:r}),v("span",{className:"formError",children:e&&v("p",{children:`Please add ${e}`})}),I("button",{type:"submit",disabled:n,children:[t," family"]})]})}function PZ({options:t=[],name:e="SelectionBox",disabled:n=!1,inputArticle:r={},setInputArticle:i=s=>s}){const[s,o]=S.useState(""),a=S.useRef();S.useEffect(()=>(document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}),[]),S.useEffect(()=>{i({...r,[e]:s.value})},[s]),S.useEffect(()=>{!t.filter(f=>f.value===r[e])[0]&&o("")},[r]);function u(h){a.current&&!a.current.contains(h.target)&&a.current.classList.contains("focus")&&a.current.classList.remove("focus")}const l=()=>{var h;(h=a.current)==null||h.classList.toggle("focus")},c=h=>{o(h)};return I("div",{className:"SelectionBox",onClick:l,children:[v("span",{name:e,disabled:n,value:s==null?void 0:s.value,onChange:h=>h,children:s.name}),v("ul",{ref:a,children:t.map(h=>v("li",{value:h.value,onClick:()=>c(h),children:h.name},h.value))})]})}function DZ({operation:t="Add",loading:e=!1,setLoading:n=h=>h,handleFormDisplayToggle:r=h=>h,inputError:i="",setInputError:s=h=>h,handleArticleSubmit:o=h=>h,handleArticleChange:a=h=>h,setInputArticle:u=h=>h,inputArticle:l={label:"",type:"",family:"",code:"",url:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",price_purchase:"",price_sale:"",images:[],services:[],related_codes:[],related_families:[],related_articles:[]},optionsArticle:c={code:"",label:"",type:"",family:"",url:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",images:[],services:[],price_purchase:"",price_sale:"",related_codes:[],related_families:[],related_articles:[]}}){const h=[{name:"document_blank",value:"document_blank"},{name:"product",value:"product"},{name:"images",value:"images"}];function f(d){d==null||d.preventDefault();let p="";(l==null?void 0:l.type)==="document_blank"?l.url||(p="an url path to the document"):(l==null?void 0:l.type)==="product"&&l.images.length>0&&(p="an image"),s(p),p||o()}return I("form",{id:"FormArticle",className:"displayNone",onSubmit:f,children:[v("span",{"data-form-id":"FormArticle",className:"close",onClick:r,children:"X"}),I("h3",{children:[t," article"]}),I("div",{className:"group",children:[c.label!=="null"&&I("section",{disabled:c.label||e,children:[v("label",{htmlFor:"label",children:"*Label"}),v("input",{type:"text",name:"label",value:c.label?c.label:l.label,onChange:a,placeholder:"label",disabled:c.label||e})]}),c.type!=="null"&&I("section",{disabled:c.type||e,children:[v("label",{htmlFor:"standard-select",children:"*Type"}),v(PZ,{options:h,name:"type",inputArticle:l,setInputArticle:u,disabled:c.type||e})]}),c.family!=="null"&&I("section",{disabled:c.family||e,children:[v("label",{htmlFor:"family",children:"*Family"}),v("input",{type:"text",name:"family",value:c.family?c.family:l.family,onChange:a,placeholder:"family",disabled:c.family||e})]}),c.url!=="null"&&I("section",{disabled:c.url||e,children:[I("label",{htmlFor:"url",children:[(l==null?void 0:l.type)=="document_blank"&&"*","Url"]}),v("input",{type:"text",name:"url",value:c.url?c.url:l.url,onChange:a,placeholder:"url",disabled:c.url||e})]})]}),I("div",{className:"group",children:[c.code!=="null"&&I("section",{disabled:c.code||e,children:[v("label",{htmlFor:"code",children:"Code"}),v("input",{type:"text",name:"code",value:c.code?c.code:l.code,onChange:a,placeholder:"code",disabled:c.code||e})]}),c.about!=="null"&&I("section",{disabled:c.about||e,children:[v("label",{htmlFor:"about",children:"About"}),v("input",{type:"text",name:"about",value:c.about?c.about:l.about,onChange:a,placeholder:"about",disabled:c.about||e})]}),c.abbr!=="null"&&I("section",{disabled:c.abbr||e,children:[v("label",{htmlFor:"abbr",children:"Abbr"}),v("input",{type:"text",name:"abbr",value:c.abbr?c.abbr:l.abbr,onChange:a,placeholder:"abbr",disabled:c.abbr||e})]}),c.brand!=="null"&&I("section",{disabled:c.brand||e,children:[v("label",{htmlFor:"brand",children:"Brand"}),v("input",{type:"text",name:"brand",value:c.brand?c.brand:l.brand,onChange:a,placeholder:"brand",disabled:c.brand||e})]}),c.supplier!=="null"&&I("section",{disabled:c.supplier||e,children:[v("label",{htmlFor:"supplier",children:"Supplier"}),v("input",{type:"text",name:"supplier",value:c.supplier?c.supplier:l.supplier,onChange:a,placeholder:"supplier",disabled:c.supplier||e})]}),c.supplierRef!=="null"&&I("section",{disabled:c.supplierRef||e,children:[v("label",{htmlFor:"supplierRef",children:"SupplierRef"}),v("input",{type:"text",name:"supplierRef",value:c.supplierRef?c.supplierRef:l.supplierRef,onChange:a,placeholder:"supplierRef",disabled:c.supplierRef||e})]}),c.notes!=="null"&&I("section",{disabled:c.notes||e,children:[v("label",{htmlFor:"notes",children:"Notes"}),v("input",{type:"text",name:"notes",value:c.notes?c.notes:l.notes,onChange:a,placeholder:"notes",disabled:c.notes||e})]}),c.price_purchase!=="null"&&I("section",{disabled:c.price_purchase||e,children:[v("label",{htmlFor:"price_purchase",children:"Purchase price"}),v("input",{type:"text",name:"price_purchase",value:c.price_purchase?c.price_purchase:l.price_purchase,onChange:a,placeholder:"purchase price",disabled:c.price_purchase||e})]}),c.price_sale!=="null"&&I("section",{disabled:c.price_sale||e,children:[v("label",{htmlFor:"price_sale",children:"Sale price"}),v("input",{type:"text",name:"price_sale",value:c.price_sale?c.price_sale:l.price_sale,onChange:a,placeholder:"sale price",disabled:c.price_sale||e})]})]}),v(KS,{values:l,setValues:u,loading:e,setLoading:n}),v("span",{className:"formError",children:i&&v("p",{children:`Please add ${i}`})}),I("button",{type:"submit",disabled:e,children:[t," article"]})]})}const LZ="640f0fdfeeadf8b0f5d5cf64";function FZ({handleFamilyClick:t=i=>i,crumbs:e=[],baseUrl:n="/app",startPath:r=""}){return I("div",{className:"FamilyBreadCrumbs",children:[(e==null?void 0:e.length)>0?v(jt,{className:"breadcrumb","data-id":LZ,onClick:t,to:`${n}${r}`,children:"Incio"}):v("div",{children:v("span",{children:"Incio"})}),e&&e.map((i,s)=>I("div",{children:[v("span",{children:">"}),s<(e==null?void 0:e.length)-1?v(jt,{"data-id":i._id,onClick:t,to:`${n}/${e==null?void 0:e.slice(0,s+1).map(o=>aJ(o.label)).join("/")}`,children:i.label},s):v("span",{children:i.label})]},s))]})}function MZ({headerHeight:t}){const e=S.useRef(),[n,r]=S.useState(!1),[i,s]=S.useState(""),[o,a]=S.useState([]),[u,l]=S.useState(""),[c,h]=S.useState("640f0fdfeeadf8b0f5d5cf64"),[f,d]=S.useState({label:"",family:"",images:[]}),[p,m]=S.useState({code:"",label:"",type:"",family:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",images:[],services:[],price_purchase:"",price_sale:"",related_codes:[],related_families:[],related_articles:[]}),[b,{data:g,loading:y,error:w,refetch:E,called:_}]=Rf(AJ,{variables:{familyId:c},onError:Q=>{console.error("error: ",Q)}}),[T]=mh(SJ,{onCompleted:()=>console.log("Family created"),onError:Q=>console.error("Family create error: ",Q)}),[k]=mh(EJ,{onCompleted:()=>console.log("Article created"),onError:Q=>console.error("Article create error: ",Q)}),[x,{data:M,loading:C,error:oe}]=Rf(xJ,{onError:Q=>console.error("family from Family query error: ",Q),variables:{familyId:c}}),[pe,{data:ce,loading:G,error:he}]=Rf(OJ,{onError:Q=>console.error("parents from Family query error: ",Q),variables:{familyId:c}}),[re,{data:X,loading:P,error:Y}]=Rf(NJ,{onError:Q=>console.error("articles from Family query error: ",Q),variables:{familyId:c}});S.useEffect(()=>{let Q=Array.from(e.current.querySelectorAll(".familyName"));Q==null||Q.map(Ne=>Ne.style.top=`${t+2}px`);let xe=Array.from(e.current.querySelectorAll(".familySubName"));xe==null||xe.map(Ne=>Ne.style.top=`${t+50}px`)},[t]),S.useEffect(()=>{X!=null&&X.articlesFromFamily&&X.articlesFromFamily&&a(sJ(X.articlesFromFamily))},[X]),S.useEffect(()=>{d({...f,family:g==null?void 0:g.singleFamily._id}),m({...p,family:g==null?void 0:g.singleFamily._id})},[g]),S.useEffect(()=>{E({familyId:c}),re({familyId:c}),x({familyId:c}),pe({familyId:c})},[c]);const B=Q=>{d({...f,[Q.target.name]:Q.target.value})},ae=Q=>{m({...p,[Q.target.name]:Q.target.value})},q=Q=>{var Ir;Q==null||Q.preventDefault(),r(!0);const xe={...f,family:g?g.singleFamily._id:"640f0fdfeeadf8b0f5d5cf64"};let Ne="";xe.label?xe.family?!(xe!=null&&xe.images.length)>0&&(Ne="an image"):Ne="a family":Ne="a label",l(Ne),Ne||(T({variables:{input:xe}}),(Ir=e.current.querySelector("#FormFamily"))==null||Ir.classList.add("displayNone")),r(!1)},_e=()=>{d({label:"",family:"",images:[]}),m({code:"",label:"",type:"",family:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",images:[],services:[],price_purchase:"",price_sale:"",related_codes:[],related_families:[],related_articles:[]})},Ie=Q=>{var Ir;Q==null||Q.preventDefault(),r(!0);const xe={...p,family:g?g.singleFamily._id:"640f0fdfeeadf8b0f5d5cf64"};let Ne="";xe.label?xe.family?xe.type?!(xe!=null&&xe.images.length)>0&&(Ne="an image"):Ne="a type":Ne="a family":Ne="a label",l(Ne),Ne||(console.log(xe),k({variables:{input:xe}}),(Ir=e.current.querySelector("#FormArticle"))==null||Ir.classList.add("displayNone")),r(!1)},Ce=Q=>{Q==null||Q.preventDefault(),e.current.querySelector(`#${Q.currentTarget.dataset.formId}`).classList.toggle("displayNone"),_e(),s(Q.currentTarget.dataset.operation||""),l("")},me=Q=>{Q==null||Q.preventDefault(),h(Q.currentTarget.dataset.id)};return I("div",{ref:e,id:"Stock",children:[v("h2",{className:"familyName",children:v(FZ,{startPath:"/dashboard",handleFamilyClick:me,crumbs:ce==null?void 0:ce.parentsFromFamily})}),I("button",{"data-form-id":"FormFamily","data-operation":"add",onClick:Ce,children:[v("span",{}),v("p",{children:"Add Family"})]}),v("section",{className:"submitForm",children:v(RZ,{operation:i,inputError:u,loading:n,setLoading:r,handleFormDisplayToggle:Ce,handleFamilySubmit:q,handleFamilyChange:B,setInputFamily:d,inputFamily:f,optionsFamily:{family:g?g.singleFamily.label:"Incio"}})}),I("section",{children:[v("h3",{className:"familySubName",children:"Familias de artigos: "}),(M==null?void 0:M.familiesFromFamily)&&M.familiesFromFamily.map(Q=>{var xe;return I("article",{className:"family",children:[I("figure",{"data-id":Q._id,onClick:me,children:[v("img",{src:(Q==null?void 0:Q.images)&&((xe=Q==null?void 0:Q.images[0])==null?void 0:xe.url),alt:Q.label}),v("figcaption",{children:Q.label})]}),I("footer",{className:"actionButtons",children:[v("button",{"data-operation":"update","data-form-id":"FormFamily",onClick:Ce,className:"update",children:"Update"}),v("button",{"data-operation":"delete","data-form-id":"FormFamily",onClick:Ce,className:"delete",children:"Delete"})]})]},Q._id)})]}),v("h3",{className:"familySubName",children:"Artigos"}),I("button",{"data-form-id":"FormArticle",onClick:Ce,children:[v("span",{}),v("p",{children:"Add Article"})]}),v("section",{className:"submitForm",children:v(DZ,{operation:i,inputError:u,setInputError:l,loading:n,setLoading:r,handleFormDisplayToggle:Ce,handleArticleSubmit:Ie,handleArticleChange:ae,setInputArticle:m,inputArticle:p,optionsArticle:{family:g?g.singleFamily.label:"Incio"}})}),o==null?void 0:o.map((Q,xe)=>I("div",{children:[v("h3",{children:Q[0].type==="document_blank"?"Catalogos":Q[0].type==="product"?"Produtos":Q[0].type}),v("section",{children:Q==null?void 0:Q.map((Ne,Ir)=>{var ii;return I("article",{className:"article","data-id":Ne._id,children:[v("img",{src:(Ne==null?void 0:Ne.images)&&((ii=Ne==null?void 0:Ne.images[0])==null?void 0:ii.url),alt:Ne.label}),v("p",{children:Ne.label})]},Ne._id)})})]},xe))]})}function $Z(){var x;const t=S.useRef(),[e,n]=S.useState("list"),[r,i]=S.useState(0),[s,o]=S.useState(!0),a=fg(M=>M.headerHeight),{state:u}=S.useContext(ni),{user:l}=u,[c,h]=S.useState({username:"",name:"",email:"",about:"",images:[]}),[f,d]=S.useState(!1),{data:p,loading:m,error:b}=PC(kJ),{data:g,loading:y,error:w,refetch:E}=PC(CJ);S.useMemo(()=>{var M,C;E(),console.log(g),g&&h({...c,username:g.profile.username,name:g.profile.name,email:g.profile.email,about:(M=g.profile)==null?void 0:M.about,images:(C=g.profile)==null?void 0:C.images})},[g]);const[_]=mh(bJ,{update:({profileData:M})=>{console.log("USER UPDATE MUTATION IN PROFILE",M),$e.success("Profile updated")}});S.useEffect(()=>{var M;(M=t.current)!=null&&M.querySelector(".sidebar-list")&&(t.current.querySelector(".sidebar-list").style.top=`${a}px`),console.log(u)},[a]);const T=[{type:"public",icon:Lr.home,label:"Office",element:v(NZ,{loading:f,values:c})},{type:"public",icon:Lr.pieChart,label:"Settings",element:v(OZ,{loading:f,setLoading:d,values:c,setValues:h,userUpdate:_})},{type:"public",icon:Lr.notifications,label:"Notifications",element:v(vh,{})},{type:"admin",icon:Lr.products,label:"Users",element:v(AZ,{usersLoading:m,usersData:p,gridListStyle:e})},{type:"admin",icon:Lr.inbox,label:"Stock",element:v(MZ,{headerHeight:a})}],k=()=>l.email==="o.churrasco.online@gmail.com";return y?v("div",{children:"Loading..."}):v("div",{id:"Dashboard",children:I("div",{ref:t,className:"app-container",children:[v(PJ,{pageIndex:r,setPageIndex:i,accountPages:k()?T:T.filter(M=>M.type==="public")}),I("div",{className:"app-content",children:[v(DJ,{title:T[r].label,darkMode:s,setDarkMode:o}),((x=T[r])==null?void 0:x.label)==="Users"&&v(LJ,{gridListStyle:e,setGridListStyle:n}),T[r].element]})]})})}const UZ=[{type:"1",label:"da Casa"},{type:"2",label:"Douro"},{type:"3",label:"Alentejo"},{type:"4",label:"Do"},{type:"5",label:"Verdes"},{type:"6",label:"Terras do Sado"},{type:"7",label:"Ross"},{type:"8",label:"Espumantes"}],VZ=[{id:"1",family:"menu",type:"1",label:"Jarro 1L (Branco e tinto)",notes:"",price:"12.00"},{id:"2",family:"menu",type:"1",label:"Sangria 1L (Branca e tinta)",notes:"",price:"12.00"},{id:"3",family:"menu",type:"2",label:"Esteva 0,75 L",notes:"",price:"12.00"},{id:"4",family:"menu",type:"2",label:"Esteva 0,375 L",notes:"",price:"12.00"},{id:"5",family:"menu",type:"2",label:"Castelo D'Alba",notes:"",price:"12.00"},{id:"6",family:"menu",type:"2",label:"Quinda da Leda (Casa Ferreirinha)",notes:"",price:"12.00"},{id:"7",family:"menu",type:"2",label:"Duas Quintas (Ramos Pinto)",notes:"",price:"12.00"},{id:"8",family:"menu",type:"2",label:"Crasto",notes:"",price:"12.00"},{id:"9",family:"menu",type:"2",label:"Planalto",notes:"",price:"12.00"},{id:"10",family:"menu",type:"3",label:"Adega de Borba",notes:"",price:"12.00"},{id:"11",family:"menu",type:"3",label:"Defesa",notes:"",price:"12.00"},{id:"12",family:"menu",type:"3",label:"Esporo (Reserva)",notes:"",price:"12.00"},{id:"13",family:"menu",type:"3",label:"Monte dos Pelados",notes:"",price:"12.00"},{id:"14",family:"menu",type:"3",label:"Solar dos Lobos",notes:"",price:"12.00"},{id:"15",family:"menu",type:"3",label:"Monte Velho",notes:"",price:"12.00"},{id:"16",family:"menu",type:"3",label:"Dom Rafael (Herdade do Moucho)",notes:"",price:"12.00"},{id:"17",family:"menu",type:"4",label:"Duque de Viseu",notes:"",price:"12.00"},{id:"18",family:"menu",type:"4",label:"Gro Vasco Do",notes:"",price:"12.00"},{id:"19",family:"menu",type:"5",label:"Casal Garcia",notes:"",price:"12.00"},{id:"21",family:"menu",type:"5",label:"Gazela 0,75 L",notes:"",price:"12.00"},{id:"22",family:"menu",type:"5",label:"Gazela 0,375 L",notes:"",price:"12.00"},{id:"23",family:"menu",type:"5",label:"Muralhas",notes:"",price:"12.00"},{id:"24",family:"menu",type:"5",label:"Ponte Lima",notes:"",price:"12.00"},{id:"25",family:"menu",type:"5",label:"Quinta de Aveleda",notes:"",price:"12.00"},{id:"26",family:"menu",type:"5",label:"Quinta da Lixa",notes:"",price:"12.00"},{id:"27",family:"menu",type:"6",label:"D. Ermelinda",notes:"",price:"12.00"},{id:"28",family:"menu",type:"6",label:"JP",notes:"",price:"12.00"},{id:"29",family:"menu",type:"6",label:"Periquita",notes:"",price:"12.00"},{id:"30",family:"menu",type:"6",label:"Quinta de Camarate",notes:"",price:"12.00"},{id:"31",family:"menu",type:"6",label:"Terras do P",notes:"",price:"12.00"},{id:"32",family:"menu",type:"6",label:"NSE",notes:"",price:"12.00"},{id:"33",family:"menu",type:"7",label:"Casal Mendes",notes:"",price:"12.00"},{id:"34",family:"menu",type:"7",label:"Mateus Ros",notes:"",price:"12.00"},{id:"35",family:"menu",type:"7",label:"Periquita",notes:"",price:"12.00"},{id:"36",family:"menu",type:"8",label:"Asti",notes:"",price:"12.00"},{id:"37",family:"menu",type:"8",label:"Fita Azul",notes:"",price:"12.00"},{id:"38",family:"menu",type:"8",label:"Valmarone",notes:"",price:"12.00"}],jZ=[{type:"1",label:"Refrigerantes"},{type:"2",label:"Alcool"},{type:"3",label:""}],BZ=[{id:"101",family:"menu",type:"1",label:"Coca-Cola",notes:"",price:"12.00"},{id:"102",family:"menu",type:"1",label:"Coca-Cola zero",notes:"",price:"12.00"},{id:"103",family:"menu",type:"1",label:"Sprite",notes:"",price:"12.00"},{id:"104",family:"menu",type:"1",label:"Sprite zero",notes:"",price:"12.00"},{id:"105",family:"menu",type:"1",label:"Fanta laranja",notes:"",price:"12.00"},{id:"106",family:"menu",type:"1",label:"Fanta laranja zero",notes:"",price:"12.00"},{id:"107",family:"menu",type:"1",label:"gua Tnica",notes:"",price:"12.00"},{id:"108",family:"menu",type:"2",label:"fino de cerveja",notes:"",price:"12.00"},{id:"109",family:"menu",type:"2",label:"caneca de cerveja",notes:"",price:"12.00"},{id:"110",family:"menu",type:"2",label:"Copo de vinho",notes:"",price:"12.00"}],qZ=[{type:"1",label:"Doces"},{type:"2",label:"Frutas"},{type:"3",label:"da Casa"}],zZ=[{id:"201",family:"menu",type:"1",label:"Pudim Flan",notes:"",price:"12.00"},{id:"202",family:"menu",type:"1",label:"Mousse de Chocolate",notes:"",price:"12.00"},{id:"203",family:"menu",type:"3",label:"Tachinho da casa",notes:"",price:"12.00"},{id:"203",family:"menu",type:"1",label:"Torta de Laranja",notes:"",price:"12.00"},{id:"204",family:"menu",type:"1",label:"",notes:"",price:"12.00"},{id:"205",family:"menu",type:"1",label:"Toucinho do cu",notes:"",price:"12.00"},{id:"206",family:"menu",type:"1",label:"Trocha de ovos",notes:"",price:"12.00"},{id:"207",family:"menu",type:"2",label:"Ma assada",notes:"",price:"12.00"},{id:"208",family:"menu",type:"2",label:"Salada de frutas",notes:"",price:"12.00"},{id:"209",family:"menu",type:"3",label:"Pudim Flan (Mestre Chico)",notes:"",price:"12.00"},{id:"210",family:"menu",type:"1",label:"",notes:"",price:"12.00"}],WZ=[{type:"1",label:"Especialidade na brasa"},{type:"2",label:"Frutos do mar"},{type:"4",label:"Entradas e saladas"},{type:"3",label:"Carnes da cozinha"},{type:"5",label:"Guarnies extra"}],QZ=[{id:"301",family:"menu",type:"1",label:"Espetada de carnes",notes:"Espetada de carnes com legumes e arroz branco",price:"12.00"},{id:"302",family:"menu",type:"1",label:"Entrecte de vaca (costela)",notes:"Entrecte de vaca grelhado com batata frita e salada",price:"25.50"},{id:"303",family:"menu",type:"1",label:"Costeletas de borrego",notes:"Costeletas de borrego com molho de hortel, legumes e batata gratinada",price:"14.50"},{id:"304",family:"menu",type:"1",label:"Medalhes de porco c/ bacon",notes:"Medalhes de porco com bacon, cogumelos, pur de batata e legumes",price:"13.00"},{id:"305",family:"menu",type:"1",label:"Entrecosto Marinado",notes:"Entrecosto marinado com batata frita, arroz e salada",price:"9.50"},{id:"306",family:"menu",type:"1",label:"Lombo de Vaca",notes:"Lombo de vaca grelhado com molho de pimenta verde, batata frita e salada",price:"22.00"},{id:"307",family:"menu",type:"1",label:"Rump Steak (Vazia)",notes:"Rump steak grelhado com batata frita e legumes",price:"13.00"},{id:"308",family:"menu",type:"1",label:"Lombinho de Porco",notes:"Lombinho de porco grelhado com molho de cogumelos, arroz e legumes",price:"13.00"},{id:"309",family:"menu",type:"1",label:"Churrasco de Coelho",notes:"Churrasco de coelho com batata frita, arroz e salada",price:"13.00"},{id:"310",family:"menu",type:"1",label:"1/2 Frango no Espeto",notes:"Meio frango no espeto com batata frita e salada",price:"13.00"},{id:"311",family:"menu",type:"1",label:"Frango no Espeto",notes:"Frango inteiro no espeto com batata frita e salada",price:"13.00"},{id:"312",family:"menu",type:"2",label:"Polvo Lagareiro",notes:"Polvo grelhado com azeite, alho e batata a murro",price:"13.00"},{id:"313",family:"menu",type:"3",label:"Carne de Porco Alentejana",notes:"",price:"13.00"},{id:"314",family:"menu",type:"2",label:"Gambas Grelhadas ou Cozidas (Kg)",notes:"Deliciosas gambas grelhadas ou cozidas com ingredientes selecionados, apresentadas em pores de 1kg.",price:"13.00"},{id:"315",family:"menu",type:"2",label:"Camaro Tigre Grelhado (Kg)",notes:"Camaro Tigre Grelhado com temperos especiais, servido em pores de 1kg.",price:"13.00"},{id:"316",family:"menu",type:"2",label:"Lulas na Grelha",notes:"Lulas frescas grelhadas com um toque de alho e ervas, perfeitas para um jantar especial.",price:"13.00"},{id:"317",family:"menu",type:"2",label:"Salmo Grelhado",notes:"Salmo fresco grelhado com legumes crocantes e temperos especiais, servido com molho de limo.",price:"13.00"},{id:"318",family:"menu",type:"2",label:"Lulas e Gambas c/Bacon Plancha",notes:"Uma combinao deliciosa de lulas, gambas e bacon, perfeitamente grelhados e temperados, apresentados em pores generosas.",price:"13.00"},{id:"319",family:"menu",type:"2",label:"Bacalhau Moda de Viana",notes:"Bacalhau de alta qualidade cozido com batatas, cebolas e pimentos, temperado com azeite e servido com azeitonas e ovos cozidos.",price:"13.00"},{id:"320",family:"menu",type:"3",label:"O Nosso Bife Especial",notes:"Um bife suculento e saboroso, grelhado na perfeio e servido com batatas fritas e legumes frescos da poca.",price:"13.00"},{id:"321",family:"menu",type:"3",label:"Strogonoff de Vaca",notes:"Carne de vaca tenra e suculenta cozida em molho de creme de leite com cogumelos e servida com arroz e batata palha.",price:"13.00"},{id:"322",family:"menu",type:"3",label:"Caril de Frango Indiana",notes:"Frango macio cozido em molho de caril aromtico com legumes frescos, servido com arroz basmati.",price:"13.00"},{id:"323",family:"menu",type:"3",label:"Escalopes de Vaca ao Madeira",notes:"Deliciosos escalopes de vaca acompanhados com um molho de vinho Madeira e cogumelos frescos.",price:"13.00"},{id:"324",family:"menu",type:"4",label:"Salada Primavera",notes:"Uma deliciosa salada fresca com alface, tomate, cenoura, pepino e vinagrete.",price:"13.00"},{id:"325",family:"menu",type:"4",label:"Cocktail de Gambas",notes:"Camaro cozido, servido com um molho rosa e guarnecido com alface, tomate e limo.",price:"13.00"},{id:"326",family:"menu",type:"4",label:"Sopa de Gambas",notes:"Uma sopa rica e cremosa de gambas, com um toque de coentros.",price:"13.00"},{id:"327",family:"menu",type:"4",label:"Cogumelos Frescos Salt. c/Presunto",notes:"Cogumelos frescos salteados com alho e presunto, temperados com ervas aromticas.",price:"13.00"},{id:"328",family:"menu",type:"4",label:"Salada Especial",notes:"Uma salada com ingredientes frescos e variados, como alface, rcula, tomate seco, queijo feta, nozes e vinagrete balsmico.",price:"13.00"},{id:"329",family:"menu",type:"4",label:"Espargos frios c/ Mayonaise",notes:"Espargos frescos cozidos, servidos com maionese caseira e um toque de limo.",price:"13.00"},{id:"330",family:"menu",type:"4",label:"Ameijoas Bulho Pato",notes:"Ameijoas frescas cozidas em um molho de alho e coentros.",price:"13.00"},{id:"331",family:"menu",type:"4",label:"Gambas al Ajillo",notes:"Camaro salteado com alho e azeite, temperado com pimento e um toque de limo.",price:"13.00"},{id:"332",family:"menu",type:"4",label:"Salmo Fumado Aromatizado",notes:"Salmo fumado com um toque de ervas aromticas, servido com torradas de po integral.",price:"13.00"},{id:"333",family:"menu",type:"4",label:"Presunto Serrano",notes:"Delicioso presunto serrano fatiado, acompanhado com po e azeitonas.",price:"13.00"},{id:"334",family:"menu",type:"5",label:"Esparregado",notes:"Feito com espinafres, azeite e alho",price:"13.00"},{id:"335",family:"menu",type:"5",label:"Batatas Fritas",notes:"Batatas cortadas em palitos finos e fritas at ficarem douradas",price:"13.00"},{id:"336",family:"menu",type:"5",label:"Grelos Salteados",notes:"Grelos salteados em azeite e alho",price:"13.00"}],Sx=[{type:"0",label:"Main dishes",types:WZ,articles:QZ},{type:"1",label:"Desserts",types:qZ,articles:zZ},{type:"2",label:"Beverages",types:jZ,articles:BZ},{type:"3",label:"Wines",types:UZ,articles:VZ}];function XF(){const[t,e]=S.useState(null);S.useEffect(()=>{const o="ordersDB",u=indexedDB.open(o,1);u.onerror=function(l){console.log("Error opening database:",l.target.errorCode)},u.onsuccess=function(l){e(l.target.result)},u.onupgradeneeded=function(l){l.target.result.createObjectStore("orders",{keyPath:"id",autoIncrement:!0})}},[]);function n(o){t&&t.transaction("orders","readwrite").objectStore("orders").add(o)}function r(o){t&&t.transaction("orders","readwrite").objectStore("orders").put(o)}function i(o){t&&t.transaction("orders","readwrite").objectStore("orders").delete(o)}function s(o){if(t){const u=t.transaction("orders","readonly").objectStore("orders").getAll();u.onsuccess=function(l){o(l.target.result)}}}return[n,r,i,s]}function ZF({handleOrderSubmit:t,handleDeleteOrder:e,menuOrders:n=[],dateStamp:r,opened:i=!1}){const[s,o]=S.useState("0"),[a,u]=S.useState(!1);S.useMemo(()=>{let p="0";n==null||n.map(m=>m==null?void 0:m.map(b=>p=f([p,d([b.price,b.qty.toString()])]))),o(p),u(!1)},[n]);const l=p=>{p.preventDefault(),p.currentTarget.parentElement.classList.toggle("open")};function c(p){var m="",b=new Date(p);return m+=b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate()+" "+b.getHours()+":"+b.getMinutes()+"h",m}function h(p){p.preventDefault(),u(!0),e()}function f(p){const m=/(\d+(?:[,.]\d+)?)/g;return p.flatMap(y=>y.match(m)).map(y=>parseFloat(y.replace(",","."))).reduce((y,w)=>y+w,0).toFixed(2)}function d(p){const m=/(\d+(?:[,.]\d+)?)/g;return p.flatMap(y=>y.match(m)).map(y=>parseFloat(y.replace(",","."))).reduce((y,w)=>y*w,1).toFixed(2)}return I("section",{className:`OrderInfo ${i?"open":""}`,children:[v("figure",{onClick:l}),r&&v("span",{className:"dateStamp",children:c(r)}),I("article",{children:[v("h3",{children:"Order info"}),I("div",{children:[n==null?void 0:n.map((p,m)=>(p==null?void 0:p.length)>0&&v("ul",{children:p==null?void 0:p.map((b,g)=>I("li",{className:"menuTab",children:[v("div",{className:"bold",children:`${b.qty}x`}),v("span",{children:b.label}),v("span",{children:b.price})]},g))},m)),I("ul",{children:[I("li",{className:"menuTab totalPrice",children:[v("span",{children:"Total:"}),I("span",{children:[s,""]}),typeof t=="function"&&v("button",{disabled:parseInt(s)<=0,className:"rectangleButton",onClick:t,children:"Save Order"})]}),typeof e=="function"&&v("li",{className:"menuTab",children:v("button",{disabled:a,onClick:h,className:"rectangleButton deleteButton",children:"Delete"})})]})]})]})]})}function HZ(){var c,h;const[t]=XF(),[e,n]=S.useState("0"),[r,i]=S.useState([]),[s,o]=S.useState(Sx),a=f=>{f.preventDefault();const d={...s[parseInt(e)],articles:[s[parseInt(e)].articles.map(p=>p.id===f.currentTarget.dataset.id?f.currentTarget.dataset.action==="add"?{...p,qty:p!=null&&p.qty?p.qty+1:1}:{...p,qty:p!=null&&p.qty?p.qty-1:0}:p)][0]};o(s==null?void 0:s.map(p=>p.type===d.type?d:p))};S.useEffect(()=>{i(s==null?void 0:s.map(f=>f==null?void 0:f.articles.map(d=>d!=null&&d.qty&&(d==null?void 0:d.qty)!==0?d:null).filter(d=>d!==null)))},[s]);const u=f=>{f.preventDefault(),iJ(),n(f.currentTarget.dataset.selection)},l=f=>{f.preventDefault();const d=r.filter(p=>p.length>0&&p);d.length>0&&(t({orders:d,dateStamp:Date.now()}),i([]),o(Sx))};return I("div",{className:"Menu",children:[(r==null?void 0:r.length)>0&&v(ZF,{handleOrderSubmit:l,menuOrders:r}),v("h2",{children:"Menu"}),v("section",{className:"menuSelect",children:v("ul",{children:s==null?void 0:s.map((f,d)=>v("li",{className:`${e===f.type?"active":""}`,"data-selection":f.type,onClick:u,children:f.label},d))})}),v("main",{children:(h=(c=s[parseInt(e)])==null?void 0:c.types)==null?void 0:h.map((f,d)=>{var p;return I("section",{children:[v("h3",{children:f.label}),(p=s[parseInt(e)].articles)==null?void 0:p.map((m,b)=>m.type===f.type&&I("article",{className:`${(m==null?void 0:m.qty)&&(m==null?void 0:m.qty)!=0&&"active"}`,children:[I("div",{className:"menuTab",children:[(m==null?void 0:m.qty)>0&&v("button",{"data-action":"sub","data-id":m.id,onClick:a,children:"-"}),v("div",{className:"bold",children:m!=null&&m.qty?`${m.qty}x`:""}),v("span",{children:m.label}),v("span",{children:m.price}),v("button",{"data-action":"add","data-id":m.id,onClick:a,children:"+"})]}),v("span",{children:m.notes})]},b))]},d)})})]})}function GZ(){const[t,e]=S.useState(!1),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState("reservation"),[u,l]=S.useState(""),[c,h]=S.useState(""),[f,d]=S.useState(""),[p,m]=S.useState(""),b=S.useRef(),g=S.useRef();function y(){let C="";return u.trim()===""?C="a mensagem":gF(n.trim())?o.trim()===""?C="o assunto":i.trim()===""?C="os lugares":c.trim()===""?C="o nome":$S(f.trim())?C="":C="o email":C="o telefone",m(C),C===""}function w(){h(""),d(""),r(""),s(""),l("")}const E=C=>{C.preventDefault(),y()&&(e(!0),setTimeout(()=>{w(),e(!1)},"20000"))};function _(C){h(C.target.value),p==="o nome"&&C.target.value&&m("")}function T(C){C.target.value.length<10&&(r(C.target.value),p==="o telefone"&&C.target.value&&m(""))}function k(C){C.target.value.length<3&&(s(C.target.value),p==="os lugares"&&C.target.value&&m(""))}function x(C){l(C.target.value),p==="a mensagem"&&C.target.value&&m("")}function M(C){d(C.target.value),p==="o email"&&C.target.value&&m("")}return v("div",{className:"ReservationFormVintage",children:I("div",{id:"container",children:[v("h1",{children:" Book a reservation "}),v("div",{className:"underline"}),v("div",{className:"icon_wrapper",children:I("svg",{className:"icon",viewBox:"0 0 145.192 145.192",children:[v("path",{d:"M126.82,32.694c-2.804,0-5.08,2.273-5.08,5.075v2.721c-1.462,0-2.646,1.185-2.646,2.647v1.995    c0,1.585,1.286,2.873,2.874,2.873h20.577c1.462,0,2.646-1.185,2.646-2.647v-3.041c0-1.009-0.816-1.825-1.823-1.825v-2.722    c0-2.802-2.276-5.075-5.079-5.075h-1.985v-3.829c0-3.816-3.095-6.912-6.913-6.912h-0.589h-20.45c0-2.67-2.164-4.835-4.833-4.835    H56.843c-2.67,0-4.835,2.165-4.835,4.835H34.356v-3.384h-9.563v3.384v1.178h-7.061v1.416c-2.67,0.27-10.17,1.424-13.882,5.972    c-1.773,2.17-2.44,4.791-1.983,7.793c0.463,3.043,1.271,6.346,2.128,9.841c2.354,9.616,5.024,20.515,0.549,28.077    C2.647,79.44-3.125,90.589,2.201,99.547c4.123,6.935,13.701,10.44,28.5,10.44c1.186,0,2.405-0.023,3.658-0.068v9.028h-0.296    c-2.516,0-4.558,2.039-4.558,4.558v4.566h100.04v-4.564c0-2.519-2.039-4.558-4.558-4.558h-0.297V84.631h0.297    c2.519,0,4.558-2.037,4.558-4.556v-0.009c0-2.516-2.039-4.556-4.556-4.556l-36.786-0.009V61.973c0-2.193-1.777-3.971-3.972-3.971    v-4.711h0.456c1.629,0,2.952-1.32,2.952-2.949h14.227V34.459h1.658c2.672,0,4.834-2.165,4.834-4.834h20.45v3.069H126.82z     M34.06,75.511c-2.518,0-4.558,2.04-4.558,4.556v0.009c0,2.519,2.042,4.556,4.558,4.556h0.296v24.12l-0.042-1.168    c-15.994,0.574-26.122-2.523-30.106-9.229C-0.464,90.5,4.822,80.347,6.55,77.423c4.964-8.382,2.173-19.774-0.29-29.825    c-0.843-3.442-1.639-6.696-2.088-9.638c-0.354-2.35,0.129-4.3,1.484-5.958c3.029-3.714,9.509-4.805,12.076-5.1v1.233h7.061v1.49    v2.684c-2.403,1.114-4.153,2.997-4.676,5.237H18.15c-0.584,0-1.056,0.474-1.056,1.056v0.83c0,0.584,0.475,1.056,1.056,1.056h1.984    c0.561,2.18,2.304,3.999,4.658,5.092v0.029c0,0-2.282,20.823,16.479,22.099v1.102c0,1.177,0.955,2.133,2.133,2.133h3.297    c1.178,0,2.133-0.956,2.133-2.133V50.135c0-1.177-0.955-2.132-2.133-2.132h-3.297c-1.178,0-2.133,0.955-2.133,2.132    c-1.575-0.235-5.532-1.17-6.635-4.547c2.36-1.092,4.109-2.913,4.669-5.097h1.308c0.722,0,1.309-0.584,1.309-1.308v-0.578    c0-0.584-0.475-1.056-1.056-1.056h-1.539c-0.542-2.332-2.416-4.271-4.968-5.363v-2.559h17.651c0,2.67,2.166,4.835,4.836,4.835 h2.392v15.88h13.639c0,1.629,1.321,2.949,2.951,2.949h0.899v4.711c-2.194,0-3.972,1.778-3.972,3.971v13.529L34.06,75.511z     M95.188,101.78c0,8.655-7.012,15.665-15.664,15.665c-8.653,0-15.667-7.01-15.667-15.665c0-8.647,7.014-15.664,15.667-15.664    C88.177,86.116,95.188,93.132,95.188,101.78z M97.189,45.669h-9.556c0-0.896-0.726-1.62-1.619-1.62H74.494    c-0.896,0-1.621,0.727-1.621,1.62h-8.967v-11.21h33.283V45.669z"}),v("path",{d:"M70.865,101.78c0,4.774,3.886,8.657,8.66,8.657c4.774,0,8.657-3.883,8.657-8.657c0-4.773-3.883-8.656-8.657-8.656    C74.751,93.124,70.865,97.006,70.865,101.78z"})]})}),t&&v("section",{className:"feedback",children:I("p",{children:["Thank you for choosing to dine with us! ",v("span",{children:c}),".",v("br",{}),v("br",{}),"We have received your request and will do our best to accommodate your desired date and time. We will contact you shortly to confirm your booking. If you have any questions or concerns, please feel free to contact us at any time.",v("br",{})," We look forward to welcoming you and hope to see you soon!"]})}),!t&&I("form",{ref:b,id:"contact_form",children:[I("div",{className:"name",children:[v("label",{htmlFor:"name"}),v("input",{type:"text",placeholder:"My name is",name:"name",id:"name_input",onBlur:C=>h(C.target.value.trim()),onChange:_,value:c})]}),I("div",{className:"email",children:[v("label",{htmlFor:"email"}),v("input",{type:"email",placeholder:"My e-mail is",name:"email",id:"email_input",onBlur:C=>d(C.target.value.trim()),onChange:M,value:f})]}),I("div",{className:"telephone",children:[v("label",{htmlFor:"name"}),v("input",{type:"number",placeholder:"My telephone is",name:"telephone",id:"telephone_input",onBlur:C=>r(C.target.value.trim()),onChange:T,value:n})]}),v("div",{className:"seats",children:v("input",{type:"number",placeholder:"seats...",name:"seats",id:"seats_input",onBlur:C=>s(C.target.value.trim()),onChange:k,value:i})}),I("div",{className:"subject",children:[v("label",{htmlFor:"subject"}),v("select",{value:o,onChange:C=>a(C.target.value),name:"subject",id:"subject_input",children:v("option",{value:"reservation",children:"I'd like to make a reservation"})})]}),I("div",{className:"message",children:[v("label",{htmlFor:"message"}),v("textarea",{name:"message",placeholder:"I'd like to...",id:"message_input",cols:"30",rows:"5",onBlur:C=>l(C.target.value.trim()),onChange:x,value:u})]}),I("footer",{children:[v("span",{className:"errorInput",ref:g,children:p!==""?`Escreva ${p}`:""}),v("button",{type:"submit",onClick:E,id:"sendLetter",children:"Enviar"})]})]})]})})}function KZ(){return I("div",{className:"Reservation",children:[v("h2",{children:"Reservation"}),v(GZ,{})]})}function YZ(){const[t,e,n,r]=XF(),[i,s]=S.useState([]);S.useEffect(()=>{let u=null;const l=()=>{r(c=>{s(c.sort(o)),u=setTimeout(l,1e4)})};return(i==null?void 0:i.length)===0&&l(),()=>clearTimeout(u)},[r,i]);const o=(u,l)=>l.dateStamp<u.dateStamp?-1:l.dateStamp>u.dateStamp?1:0,a=u=>{n(u,()=>{r(l=>{s(l.sort(o))})})};return I("div",{className:"Orders",children:[v("h2",{children:"Orders"}),v("section",{className:"orders",children:i==null?void 0:i.map((u,l)=>v(ZF,{handleDeleteOrder:()=>a(u.id),dateStamp:u.dateStamp,menuOrders:u.orders,opened:l===0},l))})]})}function JZ(){return I("div",{className:"Community",children:[v("h2",{children:"Community"}),I("section",{className:"messageInit",children:[v("figure",{}),I("p",{children:["O Churrasco, our restaurant located in the heart of Lisbon, has been making waves in the local food scene since its opening. But don't just take our word for it - we're honored to be featured in several well-respected publications and websites, including TimeOut and various food evaluation sites. Customers have praised our mouth-watering dishes, cozy atmosphere, and top-notch service.",v("br",{})," We invite you to read what they say about us and come experience it for yourself!"]})]}),I("section",{className:"figures",children:[I("div",{className:"avals",children:[v("figure",{className:"avaliations"}),v("figure",{className:"moreAval"})]}),v("figure",{className:"restaurantGuru",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://pt.restaurantguru.com/O-Cantinho-Lisbon-2",children:"https://pt.restaurantguru.com"})})}),v("figure",{className:"timeOut",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.timeout.pt/lisboa/pt/restaurantes/o-churrasco",children:"https://www.timeout.pt"})})}),v("figure",{className:"backstreets",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://culinarybackstreets.com/cities-category/lisbon/2021/o-churrasco-2/",children:"https://culinarybackstreets.com"})})}),v("figure",{className:"comercioComHistoria",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.comerciocomhistoria.gov.pt/listings/restaurante-o-churrasco-3685/",children:"https://www.comerciocomhistoria.gov.pt"})})}),v("figure",{className:"VNG",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.virgiliogomes.com/index.php/restaurantes/127-o-churrasco",children:"http://www.virgiliogomes.com"})})}),v("figure",{className:"tripAdvisor",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.tripadvisor.co/Restaurant_Review-g189158-d1884238-Reviews-Restaurante_O_Churrasco-Lisbon_Lisbon_District_Central_Portugal.html",children:"https://www.tripadvisor.co"})})}),v("figure",{className:"foursquare",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://pt.foursquare.com/v/o-churrasco/4d53e752f9f9b60cfa4728e6?tasteId=53dc4ee5498ea1993c79b17d",children:"https://pt.foursquare.com"})})}),v("figure",{className:"yelp",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.yelp.com/biz/restaurante-o-churrasco-lisboa-2",children:"https://www.yelp.com"})})}),v("figure",{className:"lifecooler",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://lifecooler.com/artigo/comer/restaurante-o-churrasco/330995",children:"https://lifecooler.com"})})})]})]})}const Xn={id:"App",path:"/app",label:"app",data:{name:"O Churrasco",email:"geral@o-churrasco.pt",tel:"21 342 30 59",address:"R. das Portas de Santo Anto 85",pCode:"1150-266 Lisboa"},routesData:[{path:"/home/",type:"",title:"Home",element:v(rJ,{})},{path:"/menu/",type:"",title:"Menu",element:v(HZ,{})},{path:"/orders/",type:"",title:"Orders",element:v(YZ,{})},{path:"/reservation/",type:"",title:"reservation",element:v(KZ,{})},{path:"/contacts/",type:"",title:"Contacts",element:v(lJ,{})},{path:"/about-us/",type:"",title:"About us",element:v(wJ,{})},{path:"/community/",type:"",title:"Community",element:v(JZ,{})},{path:"/dashboard/",type:"private",element:v($Z,{}),title:"Dashboard"},{path:"/login/",type:"public",element:v(TJ,{}),title:"Login"}]};function XZ(){return Xn.routesData[0],Xn.routesData[1],S.useContext(ni),Ws(),I("footer",{className:"appFooter",children:[v(mF,{}),I("section",{className:"logoSection",children:[v("div",{className:"articles",children:I("article",{children:[v("h3",{children:"The Restaurant"}),v(jt,{to:"/app/about-us",children:"About us"}),v(jt,{to:"/app/contacts",children:"Contacts"}),v(jt,{to:"/app/community",children:"Community"})]})}),v(jt,{to:"/app",children:v(MS,{white:!0,flames:!0})})]})]})}const ZZ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAC+CAYAAACLdLWdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAA75SURBVHhe7Z3fbxTXFcdndte/do1tYi+2CRBsID9ICNBUSdM2jUJDHtw3q/8C6kOIEqkKUSr1GdW8JII88RdUilCVSm6bpqpUNQklVZKmFBowC7UhgfgHYO/a3l8zvWf2Lrv2zNo7P3Z3Zs73I13dc68H47W/c+bcO+feqwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIA7VFkDZryRTO4R1XipZXDundnZa9IOPRA+A9aLPPncMxMLl68oxcUl2WNwWpR3uYgfwg8p1WLf8siuiaX/TZO5GSeE8E9JO9REZA1ChBT966JMUKlT9KwIjccXf+wRUY2VWgaTwntdl7YJcf1eUa2PcaekvQZx7T5R/bzUMnhfXHtV2r6h7OXb+gcm8vNzpU57sPH4oRA+iV6Nx1P68rLsEY+y7oSipTOj68VfFnz71t7f5O7eL3UK4kPblOXb3+1bL34p+l+K8gujQ9De26Pk7i8+aiV++lm69+9Lrebyip4tKF3i2vTFS6afw2vE/1v28q8ZHc5AqBMwxqpFTwjRU1X9BChDXn6N6AkheqqqnwBlyNM/ED0hRE9V9RPgAT1PPZ1KX7qqFKZuKMWZmyR6RY93p+iGkJd4jg3R0wCWCnsQ43tMUZNGFepymiqrm9A1dYqexH5ClHepdO4cpT7WQPgeo+vNix5tiJ6mKU+Jco3K6kyKbgLWQPgeE22LSauxbCb6rl27qDK8PImdGqAChO8xkfZ2aTUcGo/U8vSnV6an95a9vOwDVUD4HqPrurQqyJ5/lyr3kLePdHXSHL0VrN7AOgXCbwIy6j9QqtxRDnG0ldVSRxWdO4zwBqKvAwjfY4q5rLQaRs0QZ/XmNM3DQ/R1AOF7TD6Xl5b3SG+/s9QyQSHOuZIJNgPC9xhNs5jI9w5Lbx/rT1KFEMcGEL7HaBaD20ZTmJ9FiGOTUAh/+5GfnpFmy1Ejzf2VRrf0UIUQxyahEH4xX5BW64lEGvPmtjSF2WWawiwuLcLbOyAUwi9ozQ8vaqI27Fc6rq2sSBO4JRzCzzZuJsU2jRM+8JBQ/JW0ojT8gBqatT2hJhTC133kZZup+1hyiCoMbB0QEo/vn1BHjUSl5S1b9h8wDWzju/cqGNg6IxzCL/hI+FHvhU8zOpnpG7JVQS2nvwHbhCPU8dHS4UisIfn441p6zR44Bvc/+5j9ghKnhEL4kSa/NNqIaFubtICfCYXwlRakCdTCTzchqE04Qh0fzWdGGxPqAI8JhfAbNZPihAbF+MBjQiF8P8XVcx9NHpcm8DEh8fh4WwrsEQ7hI00A2CQUwldUW3H1uVhvnzQBV9gNbt+ZnZ2K72rYNpYgIIRjcBu19zE0X6VzglYQklBH1vWCnHn2hEIBCx//xeYUYuN2Qug/8rJv1v+C2rB0femLX+3rHDJy2Q06ktuoeksUq9z290X5lUWhfhO6jqdJEGD5V6IB7urt23TSCYn9reyscRLKBPUbF1Qh+q6KctKi+O4oIFA/bN2TEO6UKCR2S8E7pZj30fpfUBM8lz0Gwg8GEL7HRNuRpBYEwiL8Sa0zIc0Kgy8fbeoMyxvJ5EjmmkXU1G8MnicNG/iCUAhfxOjX+w48L1sVvrtwwRCjbDaDscI3N6VZof/w942fUTaBDwhNqLP42UemuXx90TjSsyGnDdphHqnKvgMxvkfQk6Vt9z68vAoIoRd+fN+eM00Kd8byN8xT+4knn6IK8b3PCJPwSVwnS2aF5avGfkvHGil++t6xh0csvX3mPxePI773H6ERvhTXrVLLxNuiNET88nseK9wyazv2sHFqD7y9DwlbqGPp9SUkfk8HumXRi0Lf20Th1gy8vU8JlfClyM6qie5SxzrUrQ95Fu9vJnoB3YDw9j4ldINbEr+eSVtOH+p3F5TIwEBKiPZVNzfAZqLvHKXDCZWz8Pb+JXTCl9QMebS5OapoIGor5qdr5Q3zqtK/LSW6LEUf6etVVlPXRiF6fxPa7Qk288qElhxSIrO3q58O5dDENBboemz/mZWvL8nWhlBc/560PUF8ljdFZXWEP51/dUradeP19wsiYfX4D+J9UY6rXZ1G33qE6Kki728UPdGd0hMJ8uYP+sqlTtEjrg8IoRU+QeIn76uvrI4OPb1f9tZGzaRFychW/XQ/9gRV9ORAXB8QQi38MiTG219dGhVmralON5xMf32ZYvr3IPrgwEL4hBTlWaWzq9ThDXQjwcsHEDbCJ0igDz1thCVecQuiDyashE8sXPjcNMevPZSkivprlUaESKCFsBO+Fckf/4ieBhSjWxZxSa0cIBBQIHzB/Ae/I68OGMFO+KOvvEjz8oA57ISv4yEHBOxUUHC2782kHjfv4gCCC0Ph56RVP2KAe10dHJYtEAbYCd/pTmfRdut8HxBM2Alfc7hDeGdvr7RAGGAn/JXMqrTs4dPza3dSivH68uuXXtRFbayGAdbw8/gOQ522jg5p+YrXRKG8+jVl6eIlJdrTMwXx14bf4DZrf3BLLPz1w0C95CouLlI1bjSACVbCFx5wJH/njmyFm0hp+tXqhBcg4Obxx5RsVpqB4lw0sUWa9dF38CBNwxq7aQEz7EKd9Wil/HxfLxckARczS3uFecKinBbFxMKnn9DXQA3YC7+wbbvxgko2fQuJX5RT64v40kzpCmAH9sKPRnGCCUfYC1+NhnaHFbAB7IUfaWuXln0GXkCKc1CB8KNRadmnkMMJh0EFwneRipAP5tQoELAXfqy9TVr2wZm2wYW98KMucnAcLmppOGpXnCq8td0AhDqq81kdv3r8+MhevLXdBAg/6vxX4DTT00v6Dx0y7Xrc3uXpbnGhBDF+m4sXWLN3ytuRtwRKO77738uyVSHa7nymigvshT//4R8dpxurWWNRSysPkB7XVs0zS3PI09kU9sIHPIHw62dSL82WgBDASviDL7/iOMXgHdpiZLtxbi0IAayEn19x96Y1EnP+sgv4C17Cz65Iyxmqi6lP4C9Y/SULuYK0nBFr9+VOC8ABrIRfdJlN6Sa9AfgLXh7fZTZlEIQf7TF2fEOeziawEr5WcBfq+HRTqTV0jYwiT6cO2AifUgv0776VLWdEfbaN4MAz3zPl6XQkkKdTD5w8/pjqclZn9g8f+GY3NcrTuXflqmxVmP8E6Qr1wCrUCRnjhaUlaQK7QPiAJRC+SwaP/AQ7LQQQCN8leYe7L4PWwlr4Wof7fTNzEH4g4S38Aff7ZhZyEH4QYS181cVmUmUg/GDCWvhenGulFYrSAkGCtfCjLvbNLOM2DcJLYlsHqEKeTh3A47tE//Z2S3Za6Dt42JSuEN89gjydOmHu8d2vqFJLGZ9N3WmB0hUWp8zpCkFIovMLEH4wGdcyaWlWmD//d+Tp1Alv4be7j/FBMOEtfA+mM0EwYSP8waNjppyaWAc8PlfYCN/q9JK5P//ebn79pExzAAGHkfDdv2Gl9IZicli2QJBhI/xi3ps3rH5bfgicwUb4uq5Lyx2YCQoHfDx+wZtDHNyckgj8Ax/he3Q0Z9TNQRIeQG9tY719pnQFtStBFfJ06oTP4NajLEofzP2PF+7fk2aFzt3YT8cObITvVfqwX/NhcO6VPfgMbj2K8Vsd6tTi/ucXkKdjAz4ev+iNx7c6EDr5kvMDJ0BrYCF8ypePzN2SLXfELObx81h+GDi4ePyxSM44odA13/5p0pTmkF/15nuD5sEm1GkkOYsjN4G/gfA9oJD1ZuAMmgeE7wF+WnAO6gPC9wD9zkzTFpz3Pfm46a0tsA9b4XuxfWCZyEqGqoYvODcWmaduyBZwA1vhFweGXW8f2ALGtRXzDFJkaz9VyNOxAVvhq5HwfPTuPY8hT8cmbIXvxWZSfmHxnzj+xy58hR/FSirO8A11VGkAlrAQ/rajPzMlkWElFW9YCD9vNRMSg/A5w0P4OfOb1TDN6gD7sPjrFyyyJyF83vAQftYibRijW9awEH7RIonMxcZQk3pHpzSbS/LZZ015OpGeHqrw1tYmLISvWyw7VB0Kn9IcIsM7ZKu5ZDMr0qrQuesRvLV1ABPha9Kq4CbQUaPN/7VRglr6hjm1qLPb2E8H2ISH8GVdjRpxLv0W7Z9peQrKwvnzSFdwAAvhK7rZ4wvlS8M+0Y7AHiFksPX5H7LP6efh8TVzjO9mNtPFw8IXaHnsCsFE+OZgR3Ozbbg3Gy+3jGIeSyVZCN9qyr7oYkvBoL8CsJre5QYL4Vt5aNVFWnIhwKECzQ6tplKyxRcWwrc6zMFNnBvwXRXG9ZVlafKFhfA7Eua57lzGWCDuCBWnogQeFsLv6tsirQpu4tzCqsX0KAgULIR/79O/mfa71L6ZdrQXDv2bwgy2+Ag6PAa3FkSWl6hyshfOWCRrzpkJOpF4nCo2yW5she8lesIIpTzZnKpVaMvLJzglu0H4NqAwp2PkCdP6XTWzdDyAm1OxhovwJzt27JRmBb17y5l643x53bHs9culjuZDYcjpklkhkohPiJ9tj2xuCF3XltyOvTcFLIRP3jh7c8Y0wFXTS0rH40+kNhI/fU2UV4V5TJS3jc4q2oYGqWp4mCPDkJlSq4KWWVbio6NT4md8k4Qtu9dA/fT1WP/QVH72G9m7BrqhWC1mCfjL9/oRf/iR9h07U7mbJu0o+sCgos7dKd8Yk3Sj0PXCHus9ePjM/X99UfqKNRTmvCfthkIC7kgmp7Kzs7LHBAnY9AEjPX0T2qL5iNAqKL4/JW0WsBE+IYRDnnvDg9rU4YeVngOHlXsXPlXUe/OytyYnRTlLN0qp2XjIc4vKy3CFbpZ35ROFDaw2l/lBIjEnKnpf/4LRYYUIf7LXrijq6qZTlk0XPSE+wx1RkcN6zuhwB0vRE6yEf355+Z4QDmVoXe0YHh4rps0rmjaDFpqrxQKFRb9ttugJ8Rnuis9wRZg3o4nEUT3v+BgitqInWIU61cgY3nLAWov+Q4eU+S+/HG2F4K2gmF9Ur4vymtFRB927dynpG9O0XPEcV9ETbIVPSPEbb2/VRPcZff2a1kS30v3ok0r6i3+sGfhK2xdI8Y+LQvO1G90A5YEva8GXYS38aqpvgip8J/RaVN0AtYDgAQAAAAAAAAAAAAAAAAAAAAAA+AZF+T+sTua4OLj6FAAAAABJRU5ErkJggg==",eee="/assets2/chicken-4c891be7.png",tee="/assets2/wine-b0fdaaf1.png",nee="/assets2/service-9b00c31b.png",ree="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAC+CAYAAACLdLWdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAA7wSURBVHhe7d1dcxvVGQfws5JsWbblxInfnTi2EygTMqEtL+ElhcSlSeu2kzu+QW4CF8ANU1rKRSnTTmcMFzE3fAKgU+rp1EPTTtM3psnA0AGGDkOxHew4cWIHJ05sWba02/OsjmVJu5tI8p7do93/b0bsWWGQovy1fs7ZPWcZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAHNLGV4tn29kG+OZHbM429Pj8/KdoAtnhu+vlmOLdnGue5uSDarpAd/Of4ZiS3xzU2Mbay/LzYw5cAimwEvq69Y3R9/mruSS66rYVlbywNuBl+qcF/5Uc/NhbOnxN7xbREAzNSq/QlwBcg5DYCH2vfMZqZ/zr3pNXTPCdviPaWRcVWioOLi0t8czy3VyKToX/Sv9Mfbmr637mVlUV6AsJFhP4kf/xKX0mZzzkY5xn5QLS3LCK2fqJy6Bn+AVB/AEKkIPQvmk94SIXgE4Q/ZPwMPVEl+ITCXzgCBMFGoza2oV9PJFmqdbfYk8PT4BvtXbShDu1r1CjFe+8jOOoHHx3tmwcHRsVuqVfrUjcHEoszT4t9KTwNfnzPXsZ75hT60/xhCX/2BvWFcdQPgeFbk1OiWeRV/niThi31gw87fTFc4Wnw1z583xzDF8OXpyPbd9BukVh7G476AUZH+0hLi12o86GnnzEm/5t7VhJPg1933/35k1kUfv361xsns/Iy8wu0wVE/uIb1JfM3e6lZCr1oD0dv2f6Ma6QGv/Pw4c2ztlwmvSJaeWP8YVvvQ/DQkVxranI62o/nmt6QGnw9a56k2qQbopEjSp6Z3N4m/uGg3AmmYWN5WTRz9GQLbcwSx3zCI1KDH4kUXxGhT1+gb/0dAy0+HJQ7IRC5uUSXIngaeiI5+HWilaOtrtKmNNAod0LA7NQ2JqSO1FRCavANQxctZ07lDgTOsM21OJ7X9hukBp8X+aJRuZ0PPlTUMYZAKhzJ8ZTU4MdiolGF6198XlZ/AKAaUoOv6yWjOs7GtGRSNHNwFhdkkhv87J1rfEJ1fnL/vWIPgqj78KPKdGyJ3Bq/ggleS+fPWc7iQnAsXVNrnpEywYdgy6yvi5YapAY/W3rmFkIru7YmWmqQe8QvvkIBQqy+qUm01CA1+IaBUgdykl3mJCRlSA1+JlP+CayWB7+NE1YBduXsWakzqiolNfhaBQf89LJ5HQ+AJ6TWIq8cf9JY+OhjsZf3/Ou56Yd5dIZWa26ZMKyTDyw/eyd0MRTfFC4/B3JUtKwf/3s5xTelY/m2i0RV8rPVkhr8X/7gmDH/4X/EXp5d8IuXGtxUUfDN0Dc2TbGV4mu+QYqKgmgX5siuPqZfnLYsDehF8KWWOtEtXKwT7zQ7Q3TJciWGEXpljbOGhGjm8NDTxpffznKHM8so8vm3e1Dr22c52qevzNHRHmtqKshINNKmosuJzaP6akqZDq7U4GfLu1bnhDH9pWhCLdBSK67Nmsomt42aJarHpAbfMG5/BouO9nxjXTIr3kD/rLTMIXQUepolt+f2QDXjrLFZNHOiN2/Q5qTX4Zfauf3F8ePGtY8+Ent5+Q4r/8O60qktJT5EpUd2tM7uUePKZbGXYzQlmbZ8U6nxbgdV36iB/93YdVxJvvPq8DO1M6rz8tCTxo1P7Ycz+R9uMNo3OJGdti3jtxT8WmD3lxs/cD/79dn3pP6d+M0p+EbPINMuTZojPF4EX26N71DiU+jr9/Q5hZ4CX02ZU/OSrcWTcQKKylGaa1uEh54Z3X1TPBuelDyej+pEdvVTafPM2lfmUFaReG8vbU7zb3YoR3MW/vm3WihztoSO6HzzJn9Yw395mmV3dk2xgXvtSiFXSQ2+ZnN5pn7RLA2ptrdIz85iCDMENsLfNLg390SB6LU5xqY+E3vySA1+JFrRnYZCW+KEEYV/eXJioK6jQzzjLanBj0bv3E+ra2+jDU07DG2JE1YU/vWrVwcSfXJvAmHH81KnxGvr8wt7+QfwGkIfThT+1PTMAG9aan6Z5HZumeOZWyprcJQHE4Wfb2w7vLJIDb6hOwZ/Bkd5KLQR/rb7DuaekExq8LMZ2+CjEwu2KPwLH39iO6TbO3TU1SFOP4JPR3sc6cHJeP1u6zkst5cnkVvqYJUFqBAd9ddmLliO+pkyV+Url9wjPtbVAbdUMoG7DH51bgEqE6noZOgdSQ3+VqYeAhSKxupFyx2Sa3wU+eCOq2f/4uoFfFKDr6HUAUXJDX6gp1RALZMazZ88dMhITVmG7MueXUUTVvim2ruijKl8vsCLWUZuE5NEqp3SWfZ0RS8+G6nBf+GBh4z0V1NiL++2wS8Me2L3rpHUzEVqVizSsp3pS9cLbzah1BehFoJfGnSjsXlUW7kl9ioT7dnFspcubtTpt/0S2H027UeOsJ++845reZUWfAqw1pCYMFYtt3i0BL8w7LHW1pHMopS7Z9Br0m1FlfgCqBz8jcA3DPSPrk6VdZCuiF4fZ5G1tOOXwO6z2fmdw+yl373rWl5l1vgnbEKfR2Hnj+foocXjE/wpmpIoK/TEXNGhrq1tQrwu7qhYgn8m/fxxyog30K9pKaEnPPS0oWCPRto7aJ7tKfFwnm+bNv8b10jt3NrZduTxEf4HHIx3deTDbrj8h7qd9YUF2ow0D+zBF0CgwPHHKdbUZAZeS3u3crU+f5U25pdA2z3gONnc7ZFxz4N//dwHTGtunkjPmX/gimgNDazhrrtY8qB56SrV78+3PvIoa/7WN/n/s7IVCm5NfUUbc+J7mMNPQWs5sN8MPFuubN1RIx5n0YF+Vv+Nu1hi/36WOHCAxfbtM5+vhjEzxTLxxqm1bW2lJSCL1rt7Aktmje+0WFRZGnb3s9WZC6V3QnSsz0V4i0aAYt29I5nLs2Lvtqj+93RSDH+/vtb4FHi+GdaSzaPGzTt3WGPdu1jmcr5zusG2k7rx/87tFWjrGGULlR/wSPfRI+yFt2ujc1tx8Jv23s2WJ77YCPuWO6GFX4b44L6R9KTzGp0tdw+ypS8maRqkJ+H3M/gimCf540XzCQex3r0sMztR1khMOQq/EA333Du6+nlFqynUxnBmucFP7OpjqYvTroXdScGXgGY22y5vkujrZanpWU/C73Pw7V47L9q7j2Vnv6TAbznsTgq/BNHOntHslUvUvJ2aCf5gpLllQrfe5cQU7+xk6StXKPCeDi+KL8Az/GEbfs6Tssev4FPg6nu6p9YuFa/bWYDmvb4pK/B28l+CROMoS63knrRy9bOR1rml4ERbd4q9YrG2HRR6X1ZXEK93mj+cTqLRF6KorxAUImAn7UIvZj3RUd7T0BN6Pf54g4d+wKg3V8q26B0acvwNVQ2pozpOQ1CZha99XTGtjPDvFr8ZgoZKC9u6nmY9UfgohOIpz9Fra2urpR1oU2bd3RtESws+BSe7MCf2NhkNVa9976o7hD+wR30HVN5UdIcTicZjveZvnyKV3Dq2HDKP+LZnbrc/cGgjdL4T74MuYwgtI1eOel7eODGP+h3WldWyRg3NubVz419/Lx2b99tYwz0HRDPYdtx3j6VO1havUYmjROjz6m2mGRruRtXz4cxYVw/LzF1SK/w7u0YYrdJbrOzLp6vBPx/PR3UcXpPKnLLO8nnF6Oob1eaKl5Fvffgx9vIffh/ME1iKCUvwa8KOw0+wn7/7W9fy6nmpA/7peuJwTYaeaLE60XIHgh8i2VXvroJ1W13c3RU7EPwQqU8U32qzlmQy7i5O5nmNH2nrZPqCeamCEiKtbSP6onmNfqnA1fi/eeopY/bsWbFXRKUOLt0IzXKSbefQEHvprbdqunMrNVCV8ut9+hF8u9fUk9tZ5OZ18zab4ilf8ffYH+0bmMpOF8/VbjtylP3snbfRuQV3xPbsNU8aiV3f0XuJd/eIvU2xOnRuwUWRlibRUtvcn8/YXsNTLQQ/5GJr7q4774aYTSo7Hq+hG0OA+iIKLncXiVjf09V/nMURH1wUUS8CXqyyjeCHnL6u3s07DHmDjXkIftgpuKK1FzcUQfBDzoujq4oQ/JCz60j6zYt3hOCHnYKdWy/eE4Lvk87jw2pcIqypFwEvbiGF4PtFkduDqXiDPiOL4AeW4fLk6aqp8j48huCHnKbgmVsMZ0I4efBdRPB9osqRVsVbEWM4M8B03d2VwaqlqTicaXNQ6Dl2HFdnBoGeVSP4teLSmT/h6swg0HUFawxFeFF+Ifh+UaTUiShY6nhxSEDwfaKF9OKwsuDMbYAp8slHojYLtPrNg5NqCL5PVDneK3j+ypOhXgTfJ6pcKaDimVsEP8B0RWY+GSEdXULwfeLF9SjlUS/4dgeF7mPfxwmsINCzagRfxTO3doXO5TPv4QRWEOiKFPlKFjqo8YNLlYWclOzcim2hrqHvodQJAlUCF4mpN45vN/VQc/l3E4LvE1UuUps/80dXa2c32I00uV2SIfg+0V2+YXGQ2B3x3R4EQ/B9osr1+O3HfqjGag9FrGWg21ezIvg+cftXd/XU69zafTpuv0sE3y+GIoFTcO6hXRno9rtE8P2iyCevyqUThbI2Kzi7XRoi+D5Rcq6rIuxCrrm84hs+fb+ocnGYKiVXAS1qXd0NNX5A6ArW1sqwKb8idjfG2gIE3ycRRRZrvfbXcfVOYEWsZ5M1l9f4RPB9oil4qYAq7KZDur2MP4LvE03Fua6K0Ji11MFlyQERs+nAQY7mwV1aEHyfqHhVpDI8OLcgM/hjWkNCNMEiosYRv+fYMfWu1an1WwF5cUuXWrW+khItf106c0a5UR09nRYteWQG/wRLr4omlMqkvP9ser6r4NHdhp6Rf9Np1Pg+Sd1YEK1N7Y88IDWY16/Oidam1kOHlPsy2E1Oa3vsEVffJ4LP+yKNu/tEMyfR2UGbMXNHkmRLUrQ2xZPbREuOlU8/sZQ1i+fPK1fqpD//zPKeFt7/t6vvU9q40bPt7YN8cyK3V2Ts9fn5SdFWgs17lf4e+Wv2881wbi9vnL/uBdF2nR+vWY1aeZ8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISx/wMUWXfZ2d1xgQAAAABJRU5ErkJggg==",iee="/assets2/cheff-942531dc.png";function see(){return I("section",{className:"QualityBadges",children:[I("article",{children:[v("figure",{style:{backgroundImage:`url(${ZZ})`}}),v("h4",{children:"Excellent cuisine"}),v("p",{children:"Our menu features exquisite cuisine crafted with the finest ingredients, ensuring a dining experience that is second to none"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${eee})`}}),v("h4",{children:"Delicious grilled chicken"}),v("p",{children:" Our succulent, charcoal-grilled chicken is a true culinary masterpiece, and has become synonymous with excellence"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${tee})`}}),v("h4",{children:"Refined wine selection"}),v("p",{children:"Experience our carefully curated wine list, featuring the very best vintages from around the world"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${nee})`}}),v("h4",{children:"Impeccable service"}),v("p",{children:"Let our friendly and knowledgeable staff provide you with an unforgettable dining experience, characterized by attentive and personalized service"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${ree})`}}),v("h4",{children:"Enchanting terrace space"}),v("p",{children:"Relax and unwind in our charming outdoor seating area, a serene and picturesque oasis"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${iee})`}}),v("h4",{children:"Exceptional quality"}),v("p",{children:"Discover our commitment to uncompromising quality, reflected in every dish we prepare and every ingredient we use"})]})]})}function Es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f1(t,e)}function Zg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function ef(t,e){if(e&&(wr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Es(t)}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ti(t)}function oee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aee(t){return gJ(t)||oee(t)||yJ(t)||vJ()}function _x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ix(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_x(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var uee={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},lee=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sr(this,t),this.init(e,n)}return _r(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||uee,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,Ix(Ix({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),jr=new lee,js=function(){function t(){Sr(this,t),this.observers={}}return _r(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(u){u.apply(u,[n].concat(i))})}}}]),t}();function Rl(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function Tx(t){return t==null?"":""+t}function cee(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function YS(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function kx(t,e,n){var r=YS(t,e,Object),i=r.obj,s=r.k;i[s]=n}function hee(t,e,n,r){var i=YS(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],r&&(s[o]=s[o].concat(n)),r||s[o].push(n)}function Yp(t,e){var n=YS(t,e),r=n.obj,i=n.k;if(r)return r[i]}function Cx(t,e,n){var r=Yp(t,n);return r!==void 0?r:Yp(e,n)}function eM(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):eM(t[r],e[r],n):t[r]=e[r]);return t}function _a(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var fee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function dee(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return fee[e]}):t}var ey=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,pee=[" ",",","?","!",";"];function mee(t,e,n){e=e||"",n=n||"";var r=pee.filter(function(a){return e.indexOf(a)<0&&n.indexOf(a)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gee(t){var e=yee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function yee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var o=2,a=r.slice(s,s+o).join(n),u=i[a];u===void 0&&r.length>s+o;)o++,a=r.slice(s,s+o).join(n),u=i[a];if(u===void 0)return;if(u===null)return null;if(e.endsWith(a)){if(typeof u=="string")return u;if(a&&typeof u[a]=="string")return u[a]}var l=r.slice(s+o).join(n);return l?tM(u,l,n):void 0}i=i[r[s]]}return i}}var vee=function(t){Zg(n,t);var e=gee(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Sr(this,n),i=e.call(this),ey&&js.call(Es(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return _r(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,s];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(c=i.split("."));var h=Yp(this.data,c);return h||!l||typeof o!="string"?h:tM(this.data&&this.data[i]&&this.data[i][s],o,u)}},{key:"addResource",value:function(i,s,o,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=this.options.keySeparator;l===void 0&&(l=".");var c=[i,s];o&&(c=c.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(c=i.split("."),a=s,s=c[1]),this.addNamespaces(s),kx(this.data,c,a),u.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(i,s,u,o[u],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,s];i.indexOf(".")>-1&&(c=i.split("."),a=o,o=s,s=c[1]),this.addNamespaces(s);var h=Yp(this.data,c)||{};a?eM(h,o,u):h=Ff(Ff({},h),o),kx(this.data,c,h),l.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ff(Ff({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(a){return s[a]&&Object.keys(s[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(js),nM={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var o=this;return e.forEach(function(a){o.processors[a]&&(n=o.processors[a].process(n,r,i,s))}),n}};function Ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ox(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t){var e=bee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function bee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Nx={},Ax=function(t){Zg(n,t);var e=wee(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Sr(this,n),i=e.call(this),ey&&js.call(Es(i)),cee(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Es(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=jr.create("translator"),i}return _r(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!mee(i,o,a);if(l&&!c){var h=i.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:i,namespaces:u};var f=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(f[0])>-1)&&(u=f.shift()),i=f.join(a)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,s,o){var a=this;if(wr(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],s),h=c.key,f=c.namespaces,d=f[f.length-1],p=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){var b=s.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(d).concat(b).concat(h),usedKey:h,exactUsedKey:h,usedLng:p,usedNS:d}:"".concat(d).concat(b).concat(h)}return u?{res:h,usedKey:h,exactUsedKey:h,usedLng:p,usedNS:d}:h}var g=this.resolve(i,s),y=g&&g.res,w=g&&g.usedKey||h,E=g&&g.exactUsedKey||h,_=Object.prototype.toString.apply(y),T=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,M=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(x&&y&&M&&T.indexOf(_)<0&&!(typeof k=="string"&&_==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,y,on(on({},s),{},{ns:f})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return u?(g.res=C,g):C}if(l){var oe=_==="[object Array]",pe=oe?[]:{},ce=oe?E:w;for(var G in y)if(Object.prototype.hasOwnProperty.call(y,G)){var he="".concat(ce).concat(l).concat(G);pe[G]=this.translate(he,on(on({},s),{joinArrays:!1,ns:f})),pe[G]===he&&(pe[G]=y[G])}y=pe}}else if(x&&typeof k=="string"&&_==="[object Array]")y=y.join(k),y&&(y=this.extendTranslation(y,i,s,o));else{var re=!1,X=!1,P=s.count!==void 0&&typeof s.count!="string",Y=n.hasDefaultValue(s),B=P?this.pluralResolver.getSuffix(p,s.count,s):"",ae=s["defaultValue".concat(B)]||s.defaultValue;!this.isValidLookup(y)&&Y&&(re=!0,y=ae),this.isValidLookup(y)||(X=!0,y=h);var q=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,_e=q&&X?void 0:y,Ie=Y&&ae!==y&&this.options.updateMissing;if(X||re||Ie){if(this.logger.log(Ie?"updateKey":"missingKey",p,d,h,Ie?ae:y),l){var Ce=this.resolve(h,on(on({},s),{},{keySeparator:!1}));Ce&&Ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var me=[],Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(var xe=0;xe<Q.length;xe++)me.push(Q[xe]);else this.options.saveMissingTo==="all"?me=this.languageUtils.toResolveHierarchy(s.lng||this.language):me.push(s.lng||this.language);var Ne=function(ii,ty,JS){var XS=Y&&JS!==y?JS:_e;a.options.missingKeyHandler?a.options.missingKeyHandler(ii,d,ty,XS,Ie,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(ii,d,ty,XS,Ie,s),a.emit("missingKey",ii,d,ty,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?me.forEach(function(Ir){a.pluralResolver.getSuffixes(Ir,s).forEach(function(ii){Ne([Ir],h+ii,s["defaultValue".concat(ii)]||ae)})}):Ne(me,h,ae))}y=this.extendTranslation(y,i,s,g,o),X&&y===h&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(h)),(X||re)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(h):h,re?y:void 0):y=this.options.parseMissingKeyHandler(y))}return u?(g.res=y,g):y}},{key:"extendTranslation",value:function(i,s,o,a,u){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,on(on({},this.options.interpolation.defaultVariables),o),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(on(on({},o),{interpolation:on(on({},this.options.interpolation),o.interpolation)}));var c=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(c){var f=i.match(this.interpolator.nestingRegexp);h=f&&f.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=on(on({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),c){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;h<m&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,w=new Array(y),E=0;E<y;E++)w[E]=arguments[E];return u&&u[0]===w[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(w[0]," in key: ").concat(s[0])),null):l.translate.apply(l,w.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var b=o.postProcess||this.options.postProcess,g=typeof b=="string"?[b]:b;return i!=null&&g&&g.length&&o.applyPostProcessor!==!1&&(i=nM.handle(g,i,s,this.options&&this.options.postProcessPassResolved?on({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,u,l,c,h;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!s.isValidLookup(a)){var d=s.extractFromKey(f,o),p=d.key;u=p;var m=d.namespaces;s.options.fallbackNS&&(m=m.concat(s.options.fallbackNS));var b=o.count!==void 0&&typeof o.count!="string",g=b&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),y=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",w=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);m.forEach(function(E){s.isValidLookup(a)||(h=E,!Nx["".concat(w[0],"-").concat(E)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(h)&&(Nx["".concat(w[0],"-").concat(E)]=!0,s.logger.warn('key "'.concat(u,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(h,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(_){if(!s.isValidLookup(a)){c=_;var T=[p];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(T,p,_,E,o);else{var k;b&&(k=s.pluralResolver.getSuffix(_,o.count,o));var x="".concat(s.options.pluralSeparator,"zero");if(b&&(T.push(p+k),g&&T.push(p+x)),y){var M="".concat(p).concat(s.options.contextSeparator).concat(o.context);T.push(M),b&&(T.push(M+k),g&&T.push(M+x))}}for(var C;C=T.pop();)s.isValidLookup(a)||(l=C,a=s.getResource(_,E,C,o))}}))})}}),{res:a,usedKey:u,exactUsedKey:l,usedLng:c,usedNS:h}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),n}(js);function Ov(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Rx=function(){function t(e){Sr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jr.create("languageUtils")}return _r(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Ov(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Ov(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Ov(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var o=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var o=r.getLanguagePartFromCode(s);if(r.isSupportedCode(o))return i=o;i=r.options.supportedLngs.find(function(a){if(a.indexOf(o)===0)return a})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],a=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(n))):typeof n=="string"&&a(this.formatLanguageCode(n)),s.forEach(function(u){o.indexOf(u)<0&&a(i.formatLanguageCode(u))}),o}}]),t}(),Eee=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],See={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},_ee=["v1","v2","v3"],Px={zero:0,one:1,two:2,few:3,many:4,other:5};function Iee(){var t={};return Eee.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:See[e.fc]}})}),t}var Tee=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sr(this,t),this.languageUtils=e,this.options=n,this.logger=jr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Iee()}return _r(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,a){return Px[o]-Px[a]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):s.numbers.map(function(o){return r.getSuffix(n,o,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!_ee.includes(this.options.compatibilityJSON)}}]),t}();function Dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kee=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Sr(this,t),this.logger=jr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return _r(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:dee,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?_a(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?_a(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?_a(r.nestingPrefix):r.nestingPrefixEscaped||_a("$t("),this.nestingSuffix=r.nestingSuffix?_a(r.nestingSuffix):r.nestingSuffixEscaped||_a(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var o=this,a,u,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(b){return b.replace(/\$/g,"$$$$")}var f=function(g){if(g.indexOf(o.formatSeparator)<0){var y=Cx(r,c,g);return o.alwaysFormat?o.format(y,void 0,i,hr(hr(hr({},s),r),{},{interpolationkey:g})):y}var w=g.split(o.formatSeparator),E=w.shift().trim(),_=w.join(o.formatSeparator).trim();return o.format(Cx(r,c,E),_,i,hr(hr(hr({},s),r),{},{interpolationkey:E}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,p=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(g){return h(g)}},{regex:this.regexp,safeValue:function(g){return o.escapeValue?h(o.escape(g)):h(g)}}];return m.forEach(function(b){for(l=0;a=b.regex.exec(n);){var g=a[1].trim();if(u=f(g),u===void 0)if(typeof d=="function"){var y=d(n,a,s);u=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,g))u="";else if(p){u=a[0];continue}else o.logger.warn("missed to pass in variable ".concat(g," for interpolating ").concat(n)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=Tx(u));var w=b.safeValue(u);if(n=n.replace(a[0],w),p?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,u;function l(d,p){var m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;var b=d.split(new RegExp("".concat(m,"[ ]*{"))),g="{".concat(b[1]);d=b[0],g=this.interpolate(g,u);var y=g.match(/'/g),w=g.match(/"/g);(y&&y.length%2===0&&!w||w.length%2!==0)&&(g=g.replace(/'/g,'"'));try{u=JSON.parse(g),p&&(u=hr(hr({},p),u))}catch(E){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),E),"".concat(d).concat(m).concat(g)}return delete u.defaultValue,d}for(;o=this.nestingRegexp.exec(n);){var c=[];u=hr({},s),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var h=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=f.shift(),c=f,h=!0}if(a=r(l.call(this,o[1].trim(),u),u),a&&o[0]===n&&typeof a!="string")return a;typeof a!="string"&&(a=Tx(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),a=""),h&&(a=c.reduce(function(d,p){return i.format(d,p,s.lng,hr(hr({},s),{},{interpolationkey:o[1].trim()}))},a.trim())),n=n.replace(o[0],a),this.regexp.lastIndex=0}return n}}]),t}();function Lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(o){var a=o.split(":"),u=aee(a),l=u[0],c=u.slice(1),h=c.join(":").trim().replace(/^'+|'+$/g,"");n[l.trim()]||(n[l.trim()]=h),h==="false"&&(n[l.trim()]=!1),h==="true"&&(n[l.trim()]=!0),isNaN(h)||(n[l.trim()]=parseInt(h,10))}})}}return{formatName:e,formatOptions:n}}function Ia(t){var e={};return function(r,i,s){var o=i+JSON.stringify(s),a=e[o];return a||(a=t(i,s),e[o]=a),a(r)}}var xee=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Sr(this,t),this.logger=jr.create("formatter"),this.options=e,this.formats={number:Ia(function(n,r){var i=new Intl.NumberFormat(n,si({},r));return function(s){return i.format(s)}}),currency:Ia(function(n,r){var i=new Intl.NumberFormat(n,si(si({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Ia(function(n,r){var i=new Intl.DateTimeFormat(n,si({},r));return function(s){return i.format(s)}}),relativetime:Ia(function(n,r){var i=new Intl.RelativeTimeFormat(n,si({},r));return function(s){return i.format(s,r.range||"day")}}),list:Ia(function(n,r){var i=new Intl.ListFormat(n,si({},r));return function(s){return i.format(s)}})},this.init(e)}return _r(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Ia(r)}},{key:"format",value:function(n,r,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.split(this.formatSeparator),u=a.reduce(function(l,c){var h=Cee(c),f=h.formatName,d=h.formatOptions;if(s.formats[f]){var p=l;try{var m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},b=m.locale||m.lng||o.locale||o.lng||i;p=s.formats[f](l,b,si(si(si({},d),o),m))}catch(g){s.logger.warn(g)}return p}else s.logger.warn("there was no format function for ".concat(f));return l},n);return u}}]),t}();function Fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t){var e=Nee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function Nee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Aee(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var Ree=function(t){Zg(n,t);var e=Oee(n);function n(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Sr(this,n),o=e.call(this),ey&&js.call(Es(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=jr.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return _r(n,[{key:"queueLoad",value:function(i,s,o,a){var u=this,l={},c={},h={},f={};return i.forEach(function(d){var p=!0;s.forEach(function(m){var b="".concat(d,"|").concat(m);!o.reload&&u.store.hasResourceBundle(d,m)?u.state[b]=2:u.state[b]<0||(u.state[b]===1?c[b]===void 0&&(c[b]=!0):(u.state[b]=1,p=!1,c[b]===void 0&&(c[b]=!0),l[b]===void 0&&(l[b]=!0),f[m]===void 0&&(f[m]=!0)))}),p||(h[d]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),u=a[0],l=a[1];s&&this.emit("failedLoading",u,l,s),o&&this.store.addResourceBundle(u,l,o),this.state[i]=s?-1:2;var c={};this.queue.forEach(function(h){hee(h.loaded,[u],l),Aee(h,i),s&&h.errors.push(s),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(function(f){c[f]||(c[f]={});var d=h.loaded[f];d.length&&d.forEach(function(p){c[f][p]===void 0&&(c[f][p]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(h){return!h.done})}},{key:"read",value:function(i,s,o){var a=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:u,wait:l,callback:c});return}this.readingCalls++;var h=function(m,b){if(a.readingCalls--,a.waitingReads.length>0){var g=a.waitingReads.shift();a.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(m&&b&&u<a.maxRetries){setTimeout(function(){a.read.call(a,i,s,o,u+1,l*2,c)},l);return}c(m,b)},f=this.backend[o].bind(this.backend);if(f.length===2){try{var d=f(i,s);d&&typeof d.then=="function"?d.then(function(p){return h(null,p)}).catch(h):h(null,d)}catch(p){h(p)}return}return f(i,s,h)}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var l=this.queueLoad(i,s,a,u);if(!l.toLoad.length)return l.pending.length||u(),null;l.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),u=a[0],l=a[1];this.read(u,l,"read",void 0,void 0,function(c,h){c&&s.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(u," failed"),c),!c&&h&&s.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(u),h),s.loaded(i,c,h)})}},{key:"saveMissing",value:function(i,s,o,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var h=Mx(Mx({},l),{},{isUpdate:u}),f=this.backend.create.bind(this.backend);if(f.length<6)try{var d;f.length===5?d=f(i,s,o,a,h):d=f(i,s,o,a),d&&typeof d.then=="function"?d.then(function(p){return c(null,p)}).catch(c):c(null,d)}catch(p){c(p)}else f(i,s,o,a,c,h)}!i||!i[0]||this.store.addResource(i[0],s,o,a)}}}]),n}(js);function $x(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(wr(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),wr(e[2])==="object"||wr(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ux(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pee(t){var e=Dee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function Dee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mf(){}function Lee(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var Jp=function(t){Zg(n,t);var e=Pee(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Sr(this,n),r=e.call(this),ey&&js.call(Es(r)),r.options=Ux(i),r.services={},r.logger=jr,r.modules={external:[]},Lee(Es(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),ef(r,Es(r));setTimeout(function(){r.init(i,s)},0)}return r}return _r(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var a=$x();this.options=kr(kr(kr({},a),this.options),Ux(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=kr(kr({},a.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function u(g){return g?typeof g=="function"?new g:g:null}if(!this.options.isClone){this.modules.logger?jr.init(u(this.modules.logger),this.options):jr.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=xee);var c=new Rx(this.options);this.store=new vee(this.options.resources,this.options);var h=this.services;h.logger=jr,h.resourceStore=this.store,h.languageUtils=c,h.pluralResolver=new Tee(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=u(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new kee(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Ree(u(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var y=arguments.length,w=new Array(y>1?y-1:0),E=1;E<y;E++)w[E-1]=arguments[E];i.emit.apply(i,[g].concat(w))}),this.modules.languageDetector&&(h.languageDetector=u(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=u(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Ax(this.services,this.options),this.translator.on("*",function(g){for(var y=arguments.length,w=new Array(y>1?y-1:0),E=1;E<y;E++)w[E-1]=arguments[E];i.emit.apply(i,[g].concat(w))}),this.modules.external.forEach(function(g){g.init&&g.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Mf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(g){i[g]=function(){var y;return(y=i.store)[g].apply(y,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(g){i[g]=function(){var y;return(y=i.store)[g].apply(y,arguments),i}});var m=Rl(),b=function(){var y=function(E,_){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(_),o(E,_)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?b():setTimeout(b,0),m}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mf,a=o,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return a();var l=[],c=function(d){if(d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(m){l.indexOf(m)<0&&l.push(m)})}};if(u)c(u);else{var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.forEach(function(f){return c(f)})}this.options.preload&&this.options.preload.forEach(function(f){return c(f)}),this.services.backendConnector.load(l,this.options.ns,function(f){!f&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),a(f)})}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=Rl();return i||(i=this.languages),s||(s=this.options.ns),o||(o=Mf),this.services.backendConnector.reload(i,s,function(u){a.resolve(),o(u)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&nM.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=Rl();this.emit("languageChanging",i);var u=function(f){o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.resolvedLanguage=void 0,o.setResolvedLanguage(f)},l=function(f,d){d?(u(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(f,function(){return o.t.apply(o,arguments)})},c=function(f){!i&&!f&&o.services.languageDetector&&(f=[]);var d=typeof f=="string"?f:o.services.languageUtils.getBestMatchFromCodes(f);d&&(o.language||u(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){l(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),a}},{key:"getFixedT",value:function(i,s,o){var a=this,u=function l(c,h){var f;if(wr(h)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),m=2;m<d;m++)p[m-2]=arguments[m];f=a.options.overloadTranslationOptionHandler([c,h].concat(p))}else f=kr({},h);f.lng=f.lng||l.lng,f.lngs=f.lngs||l.lngs,f.ns=f.ns||l.ns,f.keyPrefix=f.keyPrefix||o||l.keyPrefix;var b=a.options.keySeparator||".",g;return f.keyPrefix&&Array.isArray(c)?g=c.map(function(y){return"".concat(f.keyPrefix).concat(b).concat(y)}):g=f.keyPrefix?"".concat(f.keyPrefix).concat(b).concat(c):c,a.t(g,f)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=s,u.keyPrefix=o,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var c=function(d,p){var m=s.services.backendConnector.state["".concat(d,"|").concat(p)];return m===-1||m===2};if(o.precheck){var h=o.precheck(this,c);if(h!==void 0)return h}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(a,i)&&(!u||c(l,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=Rl();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=Rl();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],u=i.filter(function(l){return a.indexOf(l)<0});return u.length?(this.options.preload=a.concat(u),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Rx($x());return s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mf,a=kr(kr(kr({},this.options),s),{isClone:!0}),u=new n(a);(s.debug!==void 0||s.prefix!==void 0)&&(u.logger=u.logger.clone(s));var l=["store","services","language"];return l.forEach(function(c){u[c]=i[c]}),u.services=kr({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new Ax(u.services,u.options),u.translator.on("*",function(c){for(var h=arguments.length,f=new Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];u.emit.apply(u,[c].concat(f))}),u.init(a,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(js);ri(Jp,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Jp(t,e)});var sn=Jp.createInstance();sn.createInstance=Jp.createInstance;sn.createInstance;sn.dir;sn.init;sn.loadResources;sn.reloadResources;sn.use;sn.changeLanguage;sn.getFixedT;sn.t;sn.exists;sn.setDefaultNamespace;sn.hasLoadedNamespace;sn.loadNamespaces;sn.loadLanguages;const Fee="Hello",Mee="products",$ee={greeting:Fee,products:Mee},Uee={label:"portuguese",code:"PT"},Vee="products",jee="categorias",Bee="catalogos",qee="destaques",zee="Bem-vindo ",Wee="A empresa",Qee={submit:"enviar",subscribe:"subscrever",send:"enviar"},Hee={label:"contactos",title:"contacte-nos",name:"nome",email:"email",subject:"assunto",telephone:"telefone",company:"empresa",message:"mensagem"},Gee={support:{title:"Suporte Especializado",message:"Comerciais experientes para ajudar"},price:{title:"O melhor preo",message:"Garantia do melhor preo"},budget:{title:"Oramentos Grtis",message:"Consulte-nos sem compromisso"},deliver:{title:"Entregas em todo o pas",message:"Dispomos de viaturas prprias"},assembly:{title:"Montagem",message:"Equipas especializadas"},quality:{title:"Garantia de Qualidade",message:"2 anos de garantia"}},Kee={title:"SUBSCREVA A NOSSA NEWSLETTER",message:""},Yee={title:"sobre ns",messageWithTags:"<p>A <strong><em>Ergoface Mobilirio de Escritrio, Lda</em></strong>  uma empresa em Portugal que se dedica  venda de mobilirio de escritrio e prestao de servios para empresas. O seu principal objetivo  fornecer solues que promovam o bem-estar e a produtividade dos seus clientes.</p><p>A <strong><em>Ergoface</em></strong> destaca-se pela sua preocupao com a ergonomia, ou seja, a adaptao do mobilirio e equipamento de escritrio s necessidades e caractersticas individuais de cada pessoa. A empresa oferece uma vasta gama de produtos, desde cadeiras ergonmicas a secretrias ajustveis em altura, que permitem a correo da postura e reduo do desconforto fsico, prevenindo assim leses e doenas profissionais.</p><p>Mas a <strong><em>Ergoface</em></strong> no se limita a vender mobilirio de qualidade, a empresa est empenhada em melhorar a qualidade de vida dos trabalhadores, promovendo a felicidade no trabalho e o aumento da produtividade.</p><p>Em resumo, a <strong><em>Ergoface Mobilirio de Escritrio, Lda</em></strong>  uma empresa que se preocupa com o bem-estar e a sade dos seus clientes, oferecendo solues personalizadas e inovadoras em mobilirio de escritrio com ergonomia e segurana no trabalho. Com a <strong><em>Ergoface</em></strong>, os clientes podem contar com um ambiente de trabalho mais confortvel, saudvel e feliz.</p></div>"},Jee={title:"Questes frequentes",options:{a:{title:"O que  a Ergoface mobilirio de escritrio, lda?",message:"A Ergoface mobilirio de escritrio, lda  uma empresa que vende mobilirio de escritrio e presta servios para negcios em Portugal. A empresa oferece uma vasta gama de produtos, incluindo cadeiras, mesas, armrios, estantes, entre outros itens."},b:{title:"A Ergoface mobilirio de escritrio, lda oferece servios de instalao?",message:"Sim, a Ergoface mobilirio de escritrio, lda oferece servios de instalao para os seus produtos, garantindo assim que tudo fica devidamente montado e funcional."},c:{title:"A Ergoface mobilirio de escritrio, lda oferece garantia nos seus produtos?",message:"Sim, a Ergoface mobilirio de escritrio, lda oferece garantia nos seus produtos, que varia consoante o tipo de produto e as suas caractersticas."},d:{title:"A Ergoface mobilirio de escritrio, lda faz entregas em todo o pas?",message:"Sim, a Ergoface mobilirio de escritrio, lda faz entregas em todo o pas, garantindo assim que os seus clientes tm acesso aos seus produtos e servios em qualquer parte de Portugal."},e:{title:"A Ergoface mobilirio de escritrio, lda oferece servios personalizados?",message:"Sim, a Ergoface mobilirio de escritrio, lda oferece servios personalizados, adaptando-se assim s necessidades especficas dos seus clientes."},f:{title:"A Ergoface mobilirio de escritrio, lda tem loja fsica onde os clientes podem visitar?",message:"Sim, a Ergoface mobilirio de escritrio, lda tem loja fsica onde os clientes podem visitar, experimentar os produtos e receber aconselhamento especializado."},g:{title:"Qual  o processo de encomenda na Ergoface mobilirio de escritrio, lda?",message:"O processo de encomenda na Ergoface mobilirio de escritrio, lda  simples. Os clientes podem encomendar atravs do website da empresa, loja fsica ou atravs de um representante comercial. Aps a encomenda, a Ergoface mobilirio de escritrio, lda far a entrega e, se necessrio, a instalao do produto."}}},Xee={lang:Uee,products:Vee,categories:jee,catalogs:Bee,highlights:qee,greeting:zee,theCompany:Wee,actions:Qee,contacts:Hee,badges:Gee,newsletter:Kee,aboutUs:Yee,faq:Jee};function Zee(){return I("section",{className:"TopNotes",children:[I("article",{children:[I("p",{children:["Bem-vindo ao ",v("strong",{children:"Churrasco"})]}),I("a",{href:"tel:+351919224090",children:[v("figure",{className:"mobile"}),Xn.data.tel]})]}),I("article",{children:[I("a",{href:"tel:+351217540421",children:[v("figure",{className:"phone"}),Xn.data.tel]}),I("a",{href:"mailto:geral@ergoface-lda.com?subject = webMail&body = Message",children:[v("figure",{className:"email"}),Xn.data.email]})]})]})}function ete({setOpen:t=n=>n,open:e=!1}){return I("div",{className:"MenuHamburger",children:[v("input",{onChange:r=>r,checked:e,type:"checkbox",id:"hi"}),I("label",{onClick:r=>{r.preventDefault(),t(!e)},className:"menu",htmlFor:"hi",children:[v("div",{className:"bar"}),v("div",{className:"bar"}),v("div",{className:"bar"})]})]})}function tte(){const t=qu(),[e,n]=S.useState(!1),[r,i]=S.useState(!1);return S.useEffect(()=>{const s=()=>{i(window.innerWidth>1100),n(window.innerWidth>1100)};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),S.useEffect(()=>{n(!1)},[t]),I("nav",{id:"SideNav",children:[I("div",{children:[v(jt,{className:"logo",to:"/app/home",children:v(MS,{flames:!1})}),I("ul",{className:e?"open":"",children:[v("li",{children:v(jt,{to:"/app/home",className:t.pathname==="/app/home"?"active":"",children:"Entrance"})}),v("li",{children:v(jt,{to:"/app/menu",className:t.pathname==="/app/menu"?"active":"",children:"Menu"})}),v("li",{children:v(jt,{to:"/app/reservation",className:t.pathname==="/app/reservation"?"active":"",children:"Reservation"})}),v("li",{children:v(jt,{to:"/app/orders",className:t.pathname==="/app/orders"?"active":"",children:"Orders"})}),v("li",{children:v(jt,{to:"/app/contacts",className:t.pathname==="/app/contacts"?"active":"",children:"Contacts"})}),v("li",{children:v(jt,{to:"/app/about-us",className:t.pathname==="/app/about-us"?"active":"",children:"About us"})}),v("li",{children:v(jt,{to:"/app/community",className:t.pathname==="/app/community"?"active":"",children:"Community"})})]})]}),v(ete,{open:e,setOpen:n})]})}sn.use(mJ).init({lng:"en",resources:{en:{translation:$ee},pt:{translation:Xee}}});const Ta=[Xn],nte=()=>{const t=Ws(),e=qW();fg(d=>d.theme);const[n,r]=S.useState(Ta[0]),[i,s]=S.useState(Ta[0].navLinks),[o,a]=S.useState(`/${location.pathname.split("/")[1]||""}`),[u,l]=S.useState(`/${location.pathname.split("/")[2]||""}`),c=S.useRef(),h=S.useRef();S.useEffect(()=>{Ta.map(d=>{d.path.toLowerCase()===o.toLowerCase()&&r(d)})},[]),S.useEffect(()=>{const d=`/${location.pathname.split("/")[1]||""}`,p=`/${location.pathname.split("/")[2]||""}`;a(d),l(p),s(f(n,p)),Ta.map(m=>{if(m.path.toLowerCase()===d.toLowerCase()){r(m),s(f(m,p));return}})},[t]),S.useEffect(()=>{s(f(n,u)),e(FQ((n==null?void 0:n.path)||"/"))},[n]);function f(d,p){var b,g;return((g=(b=d==null?void 0:d.routesData)==null?void 0:b.filter(y=>y.path===p)[0])==null?void 0:g.navLinks)||[]}return v(vh,{children:I(VY,{children:[v(qY,{}),v(s1,{}),v(zY,{}),v("div",{id:"top",ref:c}),v(Zee,{}),I("div",{id:"appContainer",ref:h,className:"font_Merienda",children:[v(tte,{}),v("main",{className:"appRoutes",children:I(N4,{children:[Ta.map(d=>tJ(d)),v(Hi,{path:"*",element:v(FS,{path:`${Ta[0].path}`})})]})})]}),v(see,{}),v(XZ,{})]})})};Nv.createRoot(document.getElementById("root")).render(v(ke.StrictMode,{children:v(L4,{basename:"/",children:v(X7,{children:v(VW,{store:BQ,children:v(QQ,{reCaptchaKey:"6LcjmG0kAAAAAPpCH_do6eLkv8QwAiTVOhcI4WlA",children:v(nte,{})})})})})}))});export default rte();
//# sourceMappingURL=index-41abde48.js.map
