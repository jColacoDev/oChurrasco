var iM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ite=iM((Cte,p1)=>{function sM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function oM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yc={},aM={get exports(){return yc},set exports(t){yc=t}},Zp={},S={},uM={get exports(){return S},set exports(t){S=t}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=Symbol.for("react.element"),lM=Symbol.for("react.portal"),cM=Symbol.for("react.fragment"),hM=Symbol.for("react.strict_mode"),fM=Symbol.for("react.profiler"),dM=Symbol.for("react.provider"),pM=Symbol.for("react.context"),mM=Symbol.for("react.forward_ref"),gM=Symbol.for("react.suspense"),yM=Symbol.for("react.memo"),vM=Symbol.for("react.lazy"),e_=Symbol.iterator;function wM(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var Bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qx=Object.assign,zx={};function Uu(t,e,n){this.props=t,this.context=e,this.refs=zx,this.updater=n||Bx}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wx(){}Wx.prototype=Uu.prototype;function m1(t,e,n){this.props=t,this.context=e,this.refs=zx,this.updater=n||Bx}var g1=m1.prototype=new Wx;g1.constructor=m1;qx(g1,Uu.prototype);g1.isPureReactComponent=!0;var t_=Array.isArray,Qx=Object.prototype.hasOwnProperty,y1={current:null},Hx={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Qx.call(e,r)&&!Hx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yh,type:t,key:s,ref:o,props:i,_owner:y1.current}}function bM(t,e){return{$$typeof:yh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v1(t){return typeof t=="object"&&t!==null&&t.$$typeof===yh}function EM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n_=/\/+/g;function ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EM(""+t.key):e.toString(36)}function $f(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yh:case lM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ry(o,0):r,t_(i)?(n="",t!=null&&(n=t.replace(n_,"$&/")+"/"),$f(i,e,n,"",function(l){return l})):i!=null&&(v1(i)&&(i=bM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t_(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+ry(s,a);o+=$f(s,e,n,u,i)}else if(u=wM(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+ry(s,a++),o+=$f(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tf(t,e,n){if(t==null)return t;var r=[],i=0;return $f(t,r,"","",function(s){return e.call(n,s,i++)}),r}function SM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Uf={transition:null},_M={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Uf,ReactCurrentOwner:y1};pe.Children={map:tf,forEach:function(t,e,n){tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tf(t,function(){e++}),e},toArray:function(t){return tf(t,function(e){return e})||[]},only:function(t){if(!v1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=Uu;pe.Fragment=cM;pe.Profiler=fM;pe.PureComponent=m1;pe.StrictMode=hM;pe.Suspense=gM;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_M;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=y1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Qx.call(e,u)&&!Hx.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:yh,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:pM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dM,_context:t},t.Consumer=t};pe.createElement=Gx;pe.createFactory=function(t){var e=Gx.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:mM,render:t}};pe.isValidElement=v1;pe.lazy=function(t){return{$$typeof:vM,_payload:{_status:-1,_result:t},_init:SM}};pe.memo=function(t,e){return{$$typeof:yM,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Uf.transition;Uf.transition={};try{t()}finally{Uf.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return mn.current.useCallback(t,e)};pe.useContext=function(t){return mn.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};pe.useEffect=function(t,e){return mn.current.useEffect(t,e)};pe.useId=function(){return mn.current.useId()};pe.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return mn.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};pe.useRef=function(t){return mn.current.useRef(t)};pe.useState=function(t){return mn.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return mn.current.useTransition()};pe.version="18.2.0";(function(t){t.exports=pe})(uM);const Ce=oM(S),Nd=sM({__proto__:null,default:Ce},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM=S,TM=Symbol.for("react.element"),kM=Symbol.for("react.fragment"),CM=Object.prototype.hasOwnProperty,xM=IM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OM={key:!0,ref:!0,__self:!0,__source:!0};function Kx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CM.call(e,r)&&!OM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TM,type:t,key:s,ref:o,props:i,_owner:xM.current}}Zp.Fragment=kM;Zp.jsx=Kx;Zp.jsxs=Kx;(function(t){t.exports=Zp})(aM);const vh=yc.Fragment,v=yc.jsx,I=yc.jsxs;var Av={},Ad={},NM={get exports(){return Ad},set exports(t){Ad=t}},zn={},Rv={},AM={get exports(){return Rv},set exports(t){Rv=t}},Yx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,Y){var B=P.length;P.push(Y);e:for(;0<B;){var ue=B-1>>>1,q=P[ue];if(0<i(q,Y))P[ue]=Y,P[B]=q,B=ue;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var Y=P[0],B=P.pop();if(B!==Y){P[0]=B;e:for(var ue=0,q=P.length,Ie=q>>>1;ue<Ie;){var Te=2*(ue+1)-1,xe=P[Te],ge=Te+1,Q=P[ge];if(0>i(xe,B))ge<q&&0>i(Q,xe)?(P[ue]=Q,P[ge]=B,ue=ge):(P[ue]=xe,P[Te]=B,ue=Te);else if(ge<q&&0>i(Q,B))P[ue]=Q,P[ge]=B,ue=ge;else break e}}return Y}function i(P,Y){var B=P.sortIndex-Y.sortIndex;return B!==0?B:P.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,d=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var Y=n(l);Y!==null;){if(Y.callback===null)r(l);else if(Y.startTime<=P)r(l),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(l)}}function E(P){if(m=!1,w(P),!p)if(n(u)!==null)p=!0,ie(_);else{var Y=n(l);Y!==null&&X(E,Y.startTime-P)}}function _(P,Y){p=!1,m&&(m=!1,g(x),x=-1),d=!0;var B=f;try{for(w(Y),h=n(u);h!==null&&(!(h.expirationTime>Y)||P&&!ae());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var q=ue(h.expirationTime<=Y);Y=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(u)&&r(u),w(Y)}else r(u);h=n(u)}if(h!==null)var Ie=!0;else{var Te=n(l);Te!==null&&X(E,Te.startTime-Y),Ie=!1}return Ie}finally{h=null,f=B,d=!1}}var T=!1,k=null,x=-1,M=5,C=-1;function ae(){return!(t.unstable_now()-C<M)}function me(){if(k!==null){var P=t.unstable_now();C=P;var Y=!0;try{Y=k(!0,P)}finally{Y?he():(T=!1,k=null)}}else T=!1}var he;if(typeof y=="function")he=function(){y(me)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,fe=G.port2;G.port1.onmessage=me,he=function(){fe.postMessage(null)}}else he=function(){b(me,0)};function ie(P){k=P,T||(T=!0,he())}function X(P,Y){x=b(function(){P(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,ie(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var B=f;f=Y;try{return P()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,Y){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=f;f=P;try{return Y()}finally{f=B}},t.unstable_scheduleCallback=function(P,Y,B){var ue=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ue+B:ue):B=ue,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,P={id:c++,callback:Y,priorityLevel:P,startTime:B,expirationTime:q,sortIndex:-1},B>ue?(P.sortIndex=B,e(l,P),n(u)===null&&P===n(l)&&(m?(g(x),x=-1):m=!0,X(E,B-ue))):(P.sortIndex=q,e(u,P),p||d||(p=!0,ie(_))),P},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(P){var Y=f;return function(){var B=f;f=Y;try{return P.apply(this,arguments)}finally{f=B}}}})(Yx);(function(t){t.exports=Yx})(AM);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=S,Vn=Rv;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xx=new Set,vc={};function ia(t,e){hu(t,e),hu(t+"Capture",e)}function hu(t,e){for(vc[t]=e,t=0;t<e.length;t++)Xx.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pv=Object.prototype.hasOwnProperty,RM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},i_={};function PM(t){return Pv.call(i_,t)?!0:Pv.call(r_,t)?!1:RM.test(t)?i_[t]=!0:(r_[t]=!0,!1)}function DM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LM(t,e,n,r){if(e===null||typeof e>"u"||DM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var w1=/[\-:]([a-z])/g;function b1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(w1,b1);Gt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(w1,b1);Gt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(w1,b1);Gt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function E1(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LM(e,n,i,r)&&(n=null),r||i===null?PM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nf=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),S1=Symbol.for("react.strict_mode"),Dv=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),eO=Symbol.for("react.context"),_1=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),Fv=Symbol.for("react.suspense_list"),I1=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),tO=Symbol.for("react.offscreen"),s_=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=s_&&t[s_]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,iy;function Pl(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var sy=!1;function oy(t,e){if(!t||sy)return"";sy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{sy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pl(t):""}function FM(t){switch(t.tag){case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return t=oy(t.type,!1),t;case 11:return t=oy(t.type.render,!1),t;case 1:return t=oy(t.type,!0),t;default:return""}}function Mv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Aa:return"Portal";case Dv:return"Profiler";case S1:return"StrictMode";case Lv:return"Suspense";case Fv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eO:return(t.displayName||"Context")+".Consumer";case Zx:return(t._context.displayName||"Context")+".Provider";case _1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I1:return e=t.displayName||null,e!==null?e:Mv(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Mv(t(e))}catch{}}return null}function MM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mv(e);case 8:return e===S1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $M(t){var e=nO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rf(t){t._valueTracker||(t._valueTracker=$M(t))}function rO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $v(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iO(t,e){e=e.checked,e!=null&&E1(t,"checked",e,!1)}function Uv(t,e){iO(t,e);var n=Ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vv(t,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vv(t,e,n){(e!=="number"||Rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function Ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Dl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ss(n)}}function sO(t,e){var n=Ss(e.value),r=Ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function l_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sf,aO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sf=sf||document.createElement("div"),sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UM=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){UM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function uO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function lO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VM=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qv(t,e){if(e){if(VM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function zv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wv=null;function T1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qv=null,Ga=null,Ka=null;function c_(t){if(t=Eh(t)){if(typeof Qv!="function")throw Error(U(280));var e=t.stateNode;e&&(e=im(e),Qv(t.stateNode,t.type,e))}}function cO(t){Ga?Ka?Ka.push(t):Ka=[t]:Ga=t}function hO(){if(Ga){var t=Ga,e=Ka;if(Ka=Ga=null,c_(t),e)for(t=0;t<e.length;t++)c_(e[t])}}function fO(t,e){return t(e)}function dO(){}var ay=!1;function pO(t,e,n){if(ay)return t(e,n);ay=!0;try{return fO(t,e,n)}finally{ay=!1,(Ga!==null||Ka!==null)&&(dO(),hO())}}function bc(t,e){var n=t.stateNode;if(n===null)return null;var r=im(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Hv=!1;if(bi)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){Hv=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{Hv=!1}function jM(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Gl=!1,Pd=null,Dd=!1,Gv=null,BM={onError:function(t){Gl=!0,Pd=t}};function qM(t,e,n,r,i,s,o,a,u){Gl=!1,Pd=null,jM.apply(BM,arguments)}function zM(t,e,n,r,i,s,o,a,u){if(qM.apply(this,arguments),Gl){if(Gl){var l=Pd;Gl=!1,Pd=null}else throw Error(U(198));Dd||(Dd=!0,Gv=l)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h_(t){if(sa(t)!==t)throw Error(U(188))}function WM(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h_(i),t;if(s===r)return h_(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function gO(t){return t=WM(t),t!==null?yO(t):null}function yO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yO(t);if(e!==null)return e;t=t.sibling}return null}var vO=Vn.unstable_scheduleCallback,f_=Vn.unstable_cancelCallback,QM=Vn.unstable_shouldYield,HM=Vn.unstable_requestPaint,dt=Vn.unstable_now,GM=Vn.unstable_getCurrentPriorityLevel,k1=Vn.unstable_ImmediatePriority,wO=Vn.unstable_UserBlockingPriority,Ld=Vn.unstable_NormalPriority,KM=Vn.unstable_LowPriority,bO=Vn.unstable_IdlePriority,em=null,Br=null;function YM(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(em,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:ZM,JM=Math.log,XM=Math.LN2;function ZM(t){return t>>>=0,t===0?32:31-(JM(t)/XM|0)|0}var of=64,af=4194304;function Ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ll(a):(s&=o,s!==0&&(r=Ll(s)))}else o=n&~i,o!==0?r=Ll(o):s!==0&&(r=Ll(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),i=1<<n,r|=t[n],e&=~i;return r}function e3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=e3(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Kv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EO(){var t=of;return of<<=1,!(of&4194240)&&(of=64),t}function uy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function n3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function C1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function SO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _O,x1,IO,TO,kO,Yv=!1,uf=[],us=null,ls=null,cs=null,Ec=new Map,Sc=new Map,Ji=[],r3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d_(t,e){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(e.pointerId)}}function ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Eh(e),e!==null&&x1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i3(t,e,n,r,i){switch(e){case"focusin":return us=ll(us,t,e,n,r,i),!0;case"dragenter":return ls=ll(ls,t,e,n,r,i),!0;case"mouseover":return cs=ll(cs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ec.set(s,ll(Ec.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sc.set(s,ll(Sc.get(s)||null,t,e,n,r,i)),!0}return!1}function CO(t){var e=go(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=mO(n),e!==null){t.blockedOn=e,kO(t.priority,function(){IO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wv=r,n.target.dispatchEvent(r),Wv=null}else return e=Eh(n),e!==null&&x1(e),t.blockedOn=n,!1;e.shift()}return!0}function p_(t,e,n){Vf(t)&&n.delete(e)}function s3(){Yv=!1,us!==null&&Vf(us)&&(us=null),ls!==null&&Vf(ls)&&(ls=null),cs!==null&&Vf(cs)&&(cs=null),Ec.forEach(p_),Sc.forEach(p_)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Yv||(Yv=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,s3)))}function _c(t){function e(i){return cl(i,t)}if(0<uf.length){cl(uf[0],t);for(var n=1;n<uf.length;n++){var r=uf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(us!==null&&cl(us,t),ls!==null&&cl(ls,t),cs!==null&&cl(cs,t),Ec.forEach(e),Sc.forEach(e),n=0;n<Ji.length;n++)r=Ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ji.length&&(n=Ji[0],n.blockedOn===null);)CO(n),n.blockedOn===null&&Ji.shift()}var Ya=Oi.ReactCurrentBatchConfig,Md=!0;function o3(t,e,n,r){var i=De,s=Ya.transition;Ya.transition=null;try{De=1,O1(t,e,n,r)}finally{De=i,Ya.transition=s}}function a3(t,e,n,r){var i=De,s=Ya.transition;Ya.transition=null;try{De=4,O1(t,e,n,r)}finally{De=i,Ya.transition=s}}function O1(t,e,n,r){if(Md){var i=Jv(t,e,n,r);if(i===null)vy(t,e,r,$d,n),d_(t,r);else if(i3(i,t,e,n,r))r.stopPropagation();else if(d_(t,r),e&4&&-1<r3.indexOf(t)){for(;i!==null;){var s=Eh(i);if(s!==null&&_O(s),s=Jv(t,e,n,r),s===null&&vy(t,e,r,$d,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vy(t,e,r,null,n)}}var $d=null;function Jv(t,e,n,r){if($d=null,t=T1(r),t=go(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function xO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GM()){case k1:return 1;case wO:return 4;case Ld:case KM:return 16;case bO:return 536870912;default:return 16}default:return 16}}var ns=null,N1=null,jf=null;function OO(){if(jf)return jf;var t,e=N1,n=e.length,r,i="value"in ns?ns.value:ns.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jf=i.slice(t,1<r?1-r:void 0)}function Bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lf(){return!0}function m_(){return!1}function Wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lf:m_,this.isPropagationStopped=m_,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lf)},persist:function(){},isPersistent:lf}),e}var Vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A1=Wn(Vu),bh=nt({},Vu,{view:0,detail:0}),u3=Wn(bh),ly,cy,hl,tm=nt({},bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(ly=t.screenX-hl.screenX,cy=t.screenY-hl.screenY):cy=ly=0,hl=t),ly)},movementY:function(t){return"movementY"in t?t.movementY:cy}}),g_=Wn(tm),l3=nt({},tm,{dataTransfer:0}),c3=Wn(l3),h3=nt({},bh,{relatedTarget:0}),hy=Wn(h3),f3=nt({},Vu,{animationName:0,elapsedTime:0,pseudoElement:0}),d3=Wn(f3),p3=nt({},Vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m3=Wn(p3),g3=nt({},Vu,{data:0}),y_=Wn(g3),y3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w3[t])?!!e[t]:!1}function R1(){return b3}var E3=nt({},bh,{key:function(t){if(t.key){var e=y3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R1,charCode:function(t){return t.type==="keypress"?Bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S3=Wn(E3),_3=nt({},tm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v_=Wn(_3),I3=nt({},bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R1}),T3=Wn(I3),k3=nt({},Vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),C3=Wn(k3),x3=nt({},tm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O3=Wn(x3),N3=[9,13,27,32],P1=bi&&"CompositionEvent"in window,Kl=null;bi&&"documentMode"in document&&(Kl=document.documentMode);var A3=bi&&"TextEvent"in window&&!Kl,NO=bi&&(!P1||Kl&&8<Kl&&11>=Kl),w_=String.fromCharCode(32),b_=!1;function AO(t,e){switch(t){case"keyup":return N3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function R3(t,e){switch(t){case"compositionend":return RO(e);case"keypress":return e.which!==32?null:(b_=!0,w_);case"textInput":return t=e.data,t===w_&&b_?null:t;default:return null}}function P3(t,e){if(Pa)return t==="compositionend"||!P1&&AO(t,e)?(t=OO(),jf=N1=ns=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NO&&e.locale!=="ko"?null:e.data;default:return null}}var D3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D3[t.type]:e==="textarea"}function PO(t,e,n,r){cO(r),e=Ud(e,"onChange"),0<e.length&&(n=new A1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,Ic=null;function L3(t){zO(t,0)}function nm(t){var e=Fa(t);if(rO(e))return t}function F3(t,e){if(t==="change")return e}var DO=!1;if(bi){var fy;if(bi){var dy="oninput"in document;if(!dy){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),dy=typeof S_.oninput=="function"}fy=dy}else fy=!1;DO=fy&&(!document.documentMode||9<document.documentMode)}function __(){Yl&&(Yl.detachEvent("onpropertychange",LO),Ic=Yl=null)}function LO(t){if(t.propertyName==="value"&&nm(Ic)){var e=[];PO(e,Ic,t,T1(t)),pO(L3,e)}}function M3(t,e,n){t==="focusin"?(__(),Yl=e,Ic=n,Yl.attachEvent("onpropertychange",LO)):t==="focusout"&&__()}function $3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nm(Ic)}function U3(t,e){if(t==="click")return nm(e)}function V3(t,e){if(t==="input"||t==="change")return nm(e)}function j3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:j3;function Tc(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pv.call(e,i)||!br(t[i],e[i]))return!1}return!0}function I_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T_(t,e){var n=I_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I_(n)}}function FO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MO(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rd(t.document)}return e}function D1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B3(t){var e=MO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FO(n.ownerDocument.documentElement,n)){if(r!==null&&D1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=T_(n,s);var o=T_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q3=bi&&"documentMode"in document&&11>=document.documentMode,Da=null,Xv=null,Jl=null,Zv=!1;function k_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zv||Da==null||Da!==Rd(r)||(r=Da,"selectionStart"in r&&D1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jl&&Tc(Jl,r)||(Jl=r,r=Ud(Xv,"onSelect"),0<r.length&&(e=new A1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Da)))}function cf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},py={},$O={};bi&&($O=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function rm(t){if(py[t])return py[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $O)return py[t]=e[n];return t}var UO=rm("animationend"),VO=rm("animationiteration"),jO=rm("animationstart"),BO=rm("transitionend"),qO=new Map,C_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){qO.set(t,e),ia(e,[t])}for(var my=0;my<C_.length;my++){var gy=C_[my],z3=gy.toLowerCase(),W3=gy[0].toUpperCase()+gy.slice(1);Bs(z3,"on"+W3)}Bs(UO,"onAnimationEnd");Bs(VO,"onAnimationIteration");Bs(jO,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(BO,"onTransitionEnd");hu("onMouseEnter",["mouseout","mouseover"]);hu("onMouseLeave",["mouseout","mouseover"]);hu("onPointerEnter",["pointerout","pointerover"]);hu("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function x_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zM(r,e,void 0,t),t.currentTarget=null}function zO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;x_(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;x_(i,a,l),s=u}}}if(Dd)throw t=Gv,Dd=!1,Gv=null,t}function Be(t,e){var n=e[i0];n===void 0&&(n=e[i0]=new Set);var r=t+"__bubble";n.has(r)||(WO(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),WO(n,t,r,e)}var hf="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[hf]){t[hf]=!0,Xx.forEach(function(n){n!=="selectionchange"&&(Q3.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hf]||(e[hf]=!0,yy("selectionchange",!1,e))}}function WO(t,e,n,r){switch(xO(e)){case 1:var i=o3;break;case 4:i=a3;break;default:i=O1}n=i.bind(null,e,n,t),i=void 0,!Hv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pO(function(){var l=s,c=T1(n),h=[];e:{var f=qO.get(t);if(f!==void 0){var d=A1,p=t;switch(t){case"keypress":if(Bf(n)===0)break e;case"keydown":case"keyup":d=S3;break;case"focusin":p="focus",d=hy;break;case"focusout":p="blur",d=hy;break;case"beforeblur":case"afterblur":d=hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=c3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=T3;break;case UO:case VO:case jO:d=d3;break;case BO:d=C3;break;case"scroll":d=u3;break;case"wheel":d=O3;break;case"copy":case"cut":case"paste":d=m3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=v_}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=l,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=bc(y,g),E!=null&&m.push(Cc(y,E,w)))),b)break;y=y.return}0<m.length&&(f=new d(f,p,null,n,c),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==Wv&&(p=n.relatedTarget||n.fromElement)&&(go(p)||p[Ei]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=l,p=p?go(p):null,p!==null&&(b=sa(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=l),d!==p)){if(m=g_,E="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=v_,E="onPointerLeave",g="onPointerEnter",y="pointer"),b=d==null?f:Fa(d),w=p==null?f:Fa(p),f=new m(E,y+"leave",d,n,c),f.target=b,f.relatedTarget=w,E=null,go(c)===l&&(m=new m(g,y+"enter",p,n,c),m.target=w,m.relatedTarget=b,E=m),b=E,d&&p)t:{for(m=d,g=p,y=0,w=m;w;w=wa(w))y++;for(w=0,E=g;E;E=wa(E))w++;for(;0<y-w;)m=wa(m),y--;for(;0<w-y;)g=wa(g),w--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=wa(m),g=wa(g)}m=null}else m=null;d!==null&&O_(h,f,d,m,!1),p!==null&&b!==null&&O_(h,b,p,m,!0)}}e:{if(f=l?Fa(l):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var _=F3;else if(E_(f))if(DO)_=V3;else{_=$3;var T=M3}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=U3);if(_&&(_=_(t,l))){PO(h,_,n,c);break e}T&&T(t,f,l),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Vv(f,"number",f.value)}switch(T=l?Fa(l):window,t){case"focusin":(E_(T)||T.contentEditable==="true")&&(Da=T,Xv=l,Jl=null);break;case"focusout":Jl=Xv=Da=null;break;case"mousedown":Zv=!0;break;case"contextmenu":case"mouseup":case"dragend":Zv=!1,k_(h,n,c);break;case"selectionchange":if(q3)break;case"keydown":case"keyup":k_(h,n,c)}var k;if(P1)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pa?AO(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(NO&&n.locale!=="ko"&&(Pa||x!=="onCompositionStart"?x==="onCompositionEnd"&&Pa&&(k=OO()):(ns=c,N1="value"in ns?ns.value:ns.textContent,Pa=!0)),T=Ud(l,x),0<T.length&&(x=new y_(x,t,null,n,c),h.push({event:x,listeners:T}),k?x.data=k:(k=RO(n),k!==null&&(x.data=k)))),(k=A3?R3(t,n):P3(t,n))&&(l=Ud(l,"onBeforeInput"),0<l.length&&(c=new y_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=k))}zO(h,e)})}function Cc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bc(t,n),s!=null&&r.unshift(Cc(t,s,i)),s=bc(t,e),s!=null&&r.push(Cc(t,s,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=bc(n,s),u!=null&&o.unshift(Cc(n,u,a))):i||(u=bc(n,s),u!=null&&o.push(Cc(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var H3=/\r\n?/g,G3=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(H3,`
`).replace(G3,"")}function ff(t,e,n){if(e=N_(e),N_(t)!==e&&n)throw Error(U(425))}function Vd(){}var e0=null,t0=null;function n0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r0=typeof setTimeout=="function"?setTimeout:void 0,K3=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Y3=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(J3)}:r0;function J3(t){setTimeout(function(){throw t})}function wy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_c(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function R_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ju=Math.random().toString(36).slice(2),Or="__reactFiber$"+ju,xc="__reactProps$"+ju,Ei="__reactContainer$"+ju,i0="__reactEvents$"+ju,X3="__reactListeners$"+ju,Z3="__reactHandles$"+ju;function go(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ei]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=R_(t);t!==null;){if(n=t[Or])return n;t=R_(t)}return e}t=n,n=t.parentNode}return null}function Eh(t){return t=t[Or]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function im(t){return t[xc]||null}var s0=[],Ma=-1;function qs(t){return{current:t}}function ze(t){0>Ma||(t.current=s0[Ma],s0[Ma]=null,Ma--)}function je(t,e){Ma++,s0[Ma]=t.current,t.current=e}var _s={},sn=qs(_s),kn=qs(!1),Do=_s;function fu(t,e){var n=t.type.contextTypes;if(!n)return _s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function jd(){ze(kn),ze(sn)}function P_(t,e,n){if(sn.current!==_s)throw Error(U(168));je(sn,e),je(kn,n)}function QO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,MM(t)||"Unknown",i));return nt({},n,r)}function Bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_s,Do=sn.current,je(sn,t),je(kn,kn.current),!0}function D_(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=QO(t,e,Do),r.__reactInternalMemoizedMergedChildContext=t,ze(kn),ze(sn),je(sn,t)):ze(kn),je(kn,n)}var ui=null,sm=!1,by=!1;function HO(t){ui===null?ui=[t]:ui.push(t)}function e$(t){sm=!0,HO(t)}function zs(){if(!by&&ui!==null){by=!0;var t=0,e=De;try{var n=ui;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,sm=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),vO(k1,zs),i}finally{De=e,by=!1}}return null}var $a=[],Ua=0,qd=null,zd=0,Yn=[],Jn=0,Lo=null,li=1,ci="";function ro(t,e){$a[Ua++]=zd,$a[Ua++]=qd,qd=t,zd=e}function GO(t,e,n){Yn[Jn++]=li,Yn[Jn++]=ci,Yn[Jn++]=Lo,Lo=t;var r=li;t=ci;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var s=32-yr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,li=1<<32-yr(e)+i|n<<i|r,ci=s+t}else li=1<<s|n<<i|r,ci=t}function L1(t){t.return!==null&&(ro(t,1),GO(t,1,0))}function F1(t){for(;t===qd;)qd=$a[--Ua],$a[Ua]=null,zd=$a[--Ua],$a[Ua]=null;for(;t===Lo;)Lo=Yn[--Jn],Yn[Jn]=null,ci=Yn[--Jn],Yn[Jn]=null,li=Yn[--Jn],Yn[Jn]=null}var Un=null,Fn=null,Ge=!1,pr=null;function KO(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Fn=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lo!==null?{id:li,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Fn=null,!0):!1;default:return!1}}function o0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function a0(t){if(Ge){var e=Fn;if(e){var n=e;if(!L_(t,e)){if(o0(t))throw Error(U(418));e=hs(n.nextSibling);var r=Un;e&&L_(t,e)?KO(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Un=t)}}else{if(o0(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ge=!1,Un=t}}}function F_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function df(t){if(t!==Un)return!1;if(!Ge)return F_(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n0(t.type,t.memoizedProps)),e&&(e=Fn)){if(o0(t))throw YO(),Error(U(418));for(;e;)KO(t,e),e=hs(e.nextSibling)}if(F_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Un?hs(t.stateNode.nextSibling):null;return!0}function YO(){for(var t=Fn;t;)t=hs(t.nextSibling)}function du(){Fn=Un=null,Ge=!1}function M1(t){pr===null?pr=[t]:pr.push(t)}var t$=Oi.ReactCurrentBatchConfig;function fr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Wd=qs(null),Qd=null,Va=null,$1=null;function U1(){$1=Va=Qd=null}function V1(t){var e=Wd.current;ze(Wd),t._currentValue=e}function u0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ja(t,e){Qd=t,$1=Va=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if($1!==t)if(t={context:t,memoizedValue:e,next:null},Va===null){if(Qd===null)throw Error(U(308));Va=t,Qd.dependencies={lanes:0,firstContext:t}}else Va=Va.next=t;return e}var yo=null;function j1(t){yo===null?yo=[t]:yo.push(t)}function JO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,j1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function B1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,j1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function qf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C1(t,n)}}function M_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var i=t.updateQueue;Qi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,d=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=nt({},h,f);break e;case 2:Qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=d,u=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=h}}function $_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var ZO=new Jx.Component().refs;function l0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var om={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),i=ps(t),s=gi(r,i);s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(vr(e,t,i,r),qf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),i=ps(t),s=gi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(vr(e,t,i,r),qf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=ps(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=fs(t,i,r),e!==null&&(vr(e,t,r,n),qf(e,t,r))}};function U_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tc(n,r)||!Tc(i,s):!0}function eN(t,e,n){var r=!1,i=_s,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=Cn(e)?Do:sn.current,r=e.contextTypes,s=(r=r!=null)?fu(t,i):_s),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=om,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function V_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&om.enqueueReplaceState(e,e.state,null)}function c0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ZO,B1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=Cn(e)?Do:sn.current,i.context=fu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(l0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&om.enqueueReplaceState(i,i.state,null),Hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ZO&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function pf(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j_(t){var e=t._init;return e(t._payload)}function tN(t){function e(g,y){if(t){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=ms(g,y),g.index=0,g.sibling=null,g}function s(g,y,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,E){return y===null||y.tag!==6?(y=Cy(w,g.mode,E),y.return=g,y):(y=i(y,w),y.return=g,y)}function u(g,y,w,E){var _=w.type;return _===Ra?c(g,y,w.props.children,E,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wi&&j_(_)===y.type)?(E=i(y,w.props),E.ref=fl(g,y,w),E.return=g,E):(E=Kf(w.type,w.key,w.props,null,g.mode,E),E.ref=fl(g,y,w),E.return=g,E)}function l(g,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=xy(w,g.mode,E),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function c(g,y,w,E,_){return y===null||y.tag!==7?(y=Co(w,g.mode,E,_),y.return=g,y):(y=i(y,w),y.return=g,y)}function h(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Cy(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nf:return w=Kf(y.type,y.key,y.props,null,g.mode,w),w.ref=fl(g,null,y),w.return=g,w;case Aa:return y=xy(y,g.mode,w),y.return=g,y;case Wi:var E=y._init;return h(g,E(y._payload),w)}if(Dl(y)||al(y))return y=Co(y,g.mode,w,null),y.return=g,y;pf(g,y)}return null}function f(g,y,w,E){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nf:return w.key===_?u(g,y,w,E):null;case Aa:return w.key===_?l(g,y,w,E):null;case Wi:return _=w._init,f(g,y,_(w._payload),E)}if(Dl(w)||al(w))return _!==null?null:c(g,y,w,E,null);pf(g,w)}return null}function d(g,y,w,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(y,g,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:return g=g.get(E.key===null?w:E.key)||null,u(y,g,E,_);case Aa:return g=g.get(E.key===null?w:E.key)||null,l(y,g,E,_);case Wi:var T=E._init;return d(g,y,w,T(E._payload),_)}if(Dl(E)||al(E))return g=g.get(w)||null,c(y,g,E,_,null);pf(y,E)}return null}function p(g,y,w,E){for(var _=null,T=null,k=y,x=y=0,M=null;k!==null&&x<w.length;x++){k.index>x?(M=k,k=null):M=k.sibling;var C=f(g,k,w[x],E);if(C===null){k===null&&(k=M);break}t&&k&&C.alternate===null&&e(g,k),y=s(C,y,x),T===null?_=C:T.sibling=C,T=C,k=M}if(x===w.length)return n(g,k),Ge&&ro(g,x),_;if(k===null){for(;x<w.length;x++)k=h(g,w[x],E),k!==null&&(y=s(k,y,x),T===null?_=k:T.sibling=k,T=k);return Ge&&ro(g,x),_}for(k=r(g,k);x<w.length;x++)M=d(k,g,x,w[x],E),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?x:M.key),y=s(M,y,x),T===null?_=M:T.sibling=M,T=M);return t&&k.forEach(function(ae){return e(g,ae)}),Ge&&ro(g,x),_}function m(g,y,w,E){var _=al(w);if(typeof _!="function")throw Error(U(150));if(w=_.call(w),w==null)throw Error(U(151));for(var T=_=null,k=y,x=y=0,M=null,C=w.next();k!==null&&!C.done;x++,C=w.next()){k.index>x?(M=k,k=null):M=k.sibling;var ae=f(g,k,C.value,E);if(ae===null){k===null&&(k=M);break}t&&k&&ae.alternate===null&&e(g,k),y=s(ae,y,x),T===null?_=ae:T.sibling=ae,T=ae,k=M}if(C.done)return n(g,k),Ge&&ro(g,x),_;if(k===null){for(;!C.done;x++,C=w.next())C=h(g,C.value,E),C!==null&&(y=s(C,y,x),T===null?_=C:T.sibling=C,T=C);return Ge&&ro(g,x),_}for(k=r(g,k);!C.done;x++,C=w.next())C=d(k,g,x,C.value,E),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?x:C.key),y=s(C,y,x),T===null?_=C:T.sibling=C,T=C);return t&&k.forEach(function(me){return e(g,me)}),Ge&&ro(g,x),_}function b(g,y,w,E){if(typeof w=="object"&&w!==null&&w.type===Ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case nf:e:{for(var _=w.key,T=y;T!==null;){if(T.key===_){if(_=w.type,_===Ra){if(T.tag===7){n(g,T.sibling),y=i(T,w.props.children),y.return=g,g=y;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wi&&j_(_)===T.type){n(g,T.sibling),y=i(T,w.props),y.ref=fl(g,T,w),y.return=g,g=y;break e}n(g,T);break}else e(g,T);T=T.sibling}w.type===Ra?(y=Co(w.props.children,g.mode,E,w.key),y.return=g,g=y):(E=Kf(w.type,w.key,w.props,null,g.mode,E),E.ref=fl(g,y,w),E.return=g,g=E)}return o(g);case Aa:e:{for(T=w.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=xy(w,g.mode,E),y.return=g,g=y}return o(g);case Wi:return T=w._init,b(g,y,T(w._payload),E)}if(Dl(w))return p(g,y,w,E);if(al(w))return m(g,y,w,E);pf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,w),y.return=g,g=y):(n(g,y),y=Cy(w,g.mode,E),y.return=g,g=y),o(g)):n(g,y)}return b}var pu=tN(!0),nN=tN(!1),Sh={},qr=qs(Sh),Oc=qs(Sh),Nc=qs(Sh);function vo(t){if(t===Sh)throw Error(U(174));return t}function q1(t,e){switch(je(Nc,e),je(Oc,t),je(qr,Sh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bv(e,t)}ze(qr),je(qr,e)}function mu(){ze(qr),ze(Oc),ze(Nc)}function rN(t){vo(Nc.current);var e=vo(qr.current),n=Bv(e,t.type);e!==n&&(je(Oc,t),je(qr,n))}function z1(t){Oc.current===t&&(ze(qr),ze(Oc))}var Ze=qs(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ey=[];function W1(){for(var t=0;t<Ey.length;t++)Ey[t]._workInProgressVersionPrimary=null;Ey.length=0}var zf=Oi.ReactCurrentDispatcher,Sy=Oi.ReactCurrentBatchConfig,Fo=0,tt=null,bt=null,Ot=null,Kd=!1,Xl=!1,Ac=0,n$=0;function Xt(){throw Error(U(321))}function Q1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function H1(t,e,n,r,i,s){if(Fo=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?o$:a$,t=n(r,i),Xl){s=0;do{if(Xl=!1,Ac=0,25<=s)throw Error(U(301));s+=1,Ot=bt=null,e.updateQueue=null,zf.current=u$,t=n(r,i)}while(Xl)}if(zf.current=Yd,e=bt!==null&&bt.next!==null,Fo=0,Ot=bt=tt=null,Kd=!1,e)throw Error(U(300));return t}function G1(){var t=Ac!==0;return Ac=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?tt.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function rr(){if(bt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Ot===null?tt.memoizedState:Ot.next;if(e!==null)Ot=e,bt=t;else{if(t===null)throw Error(U(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?tt.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Rc(t,e){return typeof e=="function"?e(t):e}function _y(t){var e=rr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Fo&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,tt.lanes|=c,Mo|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,br(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,Mo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Iy(t){var e=rr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);br(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iN(){}function sN(t,e){var n=tt,r=rr(),i=e(),s=!br(r.memoizedState,i);if(s&&(r.memoizedState=i,En=!0),r=r.queue,K1(uN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Pc(9,aN.bind(null,n,r,i,e),void 0,null),At===null)throw Error(U(349));Fo&30||oN(n,e,i)}return i}function oN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aN(t,e,n,r){e.value=n,e.getSnapshot=r,lN(e)&&cN(t)}function uN(t,e,n){return n(function(){lN(e)&&cN(t)})}function lN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function cN(t){var e=Si(t,1);e!==null&&vr(e,t,1,-1)}function B_(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:t},e.queue=t,t=t.dispatch=s$.bind(null,tt,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hN(){return rr().memoizedState}function Wf(t,e,n,r){var i=Cr();tt.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function am(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(bt!==null){var o=bt.memoizedState;if(s=o.destroy,r!==null&&Q1(r,o.deps)){i.memoizedState=Pc(e,n,s,r);return}}tt.flags|=t,i.memoizedState=Pc(1|e,n,s,r)}function q_(t,e){return Wf(8390656,8,t,e)}function K1(t,e){return am(2048,8,t,e)}function fN(t,e){return am(4,2,t,e)}function dN(t,e){return am(4,4,t,e)}function pN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mN(t,e,n){return n=n!=null?n.concat([t]):null,am(4,4,pN.bind(null,e,t),n)}function Y1(){}function gN(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yN(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vN(t,e,n){return Fo&21?(br(n,e)||(n=EO(),tt.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function r$(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Sy.transition;Sy.transition={};try{t(!1),e()}finally{De=n,Sy.transition=r}}function wN(){return rr().memoizedState}function i$(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bN(t))EN(e,n);else if(n=JO(t,e,n,r),n!==null){var i=fn();vr(n,t,r,i),SN(n,e,r)}}function s$(t,e,n){var r=ps(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bN(t))EN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,br(a,o)){var u=e.interleaved;u===null?(i.next=i,j1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=JO(t,e,i,r),n!==null&&(i=fn(),vr(n,t,r,i),SN(n,e,r))}}function bN(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function EN(t,e){Xl=Kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C1(t,n)}}var Yd={readContext:nr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},o$={readContext:nr,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:q_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wf(4194308,4,pN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wf(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=i$.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:B_,useDebugValue:Y1,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=B_(!1),e=t[0];return t=r$.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=Cr();if(Ge){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),At===null)throw Error(U(349));Fo&30||oN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,q_(uN.bind(null,r,s,t),[t]),r.flags|=2048,Pc(9,aN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=At.identifierPrefix;if(Ge){var n=ci,r=li;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=n$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},a$={readContext:nr,useCallback:gN,useContext:nr,useEffect:K1,useImperativeHandle:mN,useInsertionEffect:fN,useLayoutEffect:dN,useMemo:yN,useReducer:_y,useRef:hN,useState:function(){return _y(Rc)},useDebugValue:Y1,useDeferredValue:function(t){var e=rr();return vN(e,bt.memoizedState,t)},useTransition:function(){var t=_y(Rc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:iN,useSyncExternalStore:sN,useId:wN,unstable_isNewReconciler:!1},u$={readContext:nr,useCallback:gN,useContext:nr,useEffect:K1,useImperativeHandle:mN,useInsertionEffect:fN,useLayoutEffect:dN,useMemo:yN,useReducer:Iy,useRef:hN,useState:function(){return Iy(Rc)},useDebugValue:Y1,useDeferredValue:function(t){var e=rr();return bt===null?e.memoizedState=t:vN(e,bt.memoizedState,t)},useTransition:function(){var t=Iy(Rc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:iN,useSyncExternalStore:sN,useId:wN,unstable_isNewReconciler:!1};function gu(t,e){try{var n="",r=e;do n+=FM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ty(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l$=typeof WeakMap=="function"?WeakMap:Map;function _N(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,E0=r),h0(t,e)},n}function IN(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){h0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){h0(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function z_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_$.bind(null,t,e,n),e.then(t,t))}function W_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,fs(n,e,1))),n.lanes|=1),t)}var c$=Oi.ReactCurrentOwner,En=!1;function un(t,e,n,r){e.child=t===null?nN(e,null,n,r):pu(e,t.child,n,r)}function H_(t,e,n,r,i){n=n.render;var s=e.ref;return Ja(e,i),r=H1(t,e,n,r,s,i),n=G1(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(Ge&&n&&L1(e),e.flags|=1,un(t,e,r,i),e.child)}function G_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ib(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TN(t,e,s,r,i)):(t=Kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tc,n(o,r)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=ms(s,r),t.ref=e.ref,t.return=e,e.child=t}function TN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tc(s,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,_i(t,e,i)}return f0(t,e,n,r,i)}function kN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ba,Dn),Dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Ba,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(Ba,Dn),Dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(Ba,Dn),Dn|=r;return un(t,e,i,n),e.child}function CN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function f0(t,e,n,r,i){var s=Cn(n)?Do:sn.current;return s=fu(e,s),Ja(e,i),n=H1(t,e,n,r,s,i),r=G1(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(Ge&&r&&L1(e),e.flags|=1,un(t,e,n,i),e.child)}function K_(t,e,n,r,i){if(Cn(n)){var s=!0;Bd(e)}else s=!1;if(Ja(e,i),e.stateNode===null)Qf(t,e),eN(e,n,r),c0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=nr(l):(l=Cn(n)?Do:sn.current,l=fu(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&V_(e,o,r,l),Qi=!1;var f=e.memoizedState;o.state=f,Hd(e,r,o,i),u=e.memoizedState,a!==r||f!==u||kn.current||Qi?(typeof c=="function"&&(l0(e,n,c,r),u=e.memoizedState),(a=Qi||U_(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XO(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:fr(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=nr(u):(u=Cn(n)?Do:sn.current,u=fu(e,u));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&V_(e,o,r,u),Qi=!1,f=e.memoizedState,o.state=f,Hd(e,r,o,i);var p=e.memoizedState;a!==h||f!==p||kn.current||Qi?(typeof d=="function"&&(l0(e,n,d,r),p=e.memoizedState),(l=Qi||U_(e,n,l,r,f,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return d0(t,e,n,r,s,i)}function d0(t,e,n,r,i,s){CN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&D_(e,n,!1),_i(t,e,s);r=e.stateNode,c$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pu(e,t.child,null,s),e.child=pu(e,null,a,s)):un(t,e,a,s),e.memoizedState=r.state,i&&D_(e,n,!0),e.child}function xN(t){var e=t.stateNode;e.pendingContext?P_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P_(t,e.context,!1),q1(t,e.containerInfo)}function Y_(t,e,n,r,i){return du(),M1(i),e.flags|=256,un(t,e,n,r),e.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function m0(t){return{baseLanes:t,cachePool:null,transitions:null}}function ON(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Ze,i&1),t===null)return a0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cm(o,r,0,null),t=Co(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=m0(n),e.memoizedState=p0,t):J1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return h$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ms(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ms(a,s):(s=Co(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?m0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=p0,r}return s=t.child,t=s.sibling,r=ms(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function J1(t,e){return e=cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mf(t,e,n,r){return r!==null&&M1(r),pu(e,t.child,null,n),t=J1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function h$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ty(Error(U(422))),mf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cm({mode:"visible",children:r.children},i,0,null),s=Co(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pu(e,t.child,null,o),e.child.memoizedState=m0(o),e.memoizedState=p0,s);if(!(e.mode&1))return mf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Ty(s,r,void 0),mf(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=At,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Si(t,i),vr(r,t,i,-1))}return rb(),r=Ty(Error(U(421))),mf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fn=hs(i.nextSibling),Un=e,Ge=!0,pr=null,t!==null&&(Yn[Jn++]=li,Yn[Jn++]=ci,Yn[Jn++]=Lo,li=t.id,ci=t.overflow,Lo=e),e=J1(e,r.children),e.flags|=4096,e)}function J_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),u0(t.return,e,n)}function ky(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(un(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&J_(t,n,e);else if(t.tag===19)J_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ky(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ky(e,!0,n,null,s);break;case"together":ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f$(t,e,n){switch(e.tag){case 3:xN(e),du();break;case 5:rN(e);break;case 1:Cn(e.type)&&Bd(e);break;case 4:q1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Wd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?ON(t,e,n):(je(Ze,Ze.current&1),t=_i(t,e,n),t!==null?t.sibling:null);je(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,kN(t,e,n)}return _i(t,e,n)}var AN,g0,RN,PN;AN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g0=function(){};RN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(qr.current);var s=null;switch(n){case"input":i=$v(t,i),r=$v(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=jv(t,i),r=jv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}qv(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(vc.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(vc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Be("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};PN=function(t,e,n,r){n!==r&&(e.flags|=4)};function dl(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d$(t,e,n){var r=e.pendingProps;switch(F1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Cn(e.type)&&jd(),Zt(e),null;case 3:return r=e.stateNode,mu(),ze(kn),ze(sn),W1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(df(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(I0(pr),pr=null))),g0(t,e),Zt(e),null;case 5:z1(e);var i=vo(Nc.current);if(n=e.type,t!==null&&e.stateNode!=null)RN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Zt(e),null}if(t=vo(qr.current),df(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Or]=e,r[xc]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Fl.length;i++)Be(Fl[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":o_(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":u_(r,s),Be("invalid",r)}qv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ff(r.textContent,a,t),i=["children",""+a]):vc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":rf(r),a_(r,s,!0);break;case"textarea":rf(r),l_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[xc]=r,AN(t,e,!1,!1),e.stateNode=t;e:{switch(o=zv(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fl.length;i++)Be(Fl[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":o_(t,r),i=$v(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),Be("invalid",t);break;case"textarea":u_(t,r),i=jv(t,r),Be("invalid",t);break;default:i=r}qv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?lO(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&aO(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wc(t,u):typeof u=="number"&&wc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Be("scroll",t):u!=null&&E1(t,s,u,o))}switch(n){case"input":rf(t),a_(t,r,!1);break;case"textarea":rf(t),l_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ha(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)PN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=vo(Nc.current),vo(qr.current),df(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(s=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:ff(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ff(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return Zt(e),null;case 13:if(ze(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Fn!==null&&e.mode&1&&!(e.flags&128))YO(),du(),e.flags|=98560,s=!1;else if(s=df(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Or]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),s=!1}else pr!==null&&(I0(pr),pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?St===0&&(St=3):rb())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return mu(),g0(t,e),t===null&&kc(e.stateNode.containerInfo),Zt(e),null;case 10:return V1(e.type._context),Zt(e),null;case 17:return Cn(e.type)&&jd(),Zt(e),null;case 19:if(ze(Ze),s=e.memoizedState,s===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dl(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,dl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>yu&&(e.flags|=128,r=!0,dl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Zt(e),null}else 2*dt()-s.renderingStartTime>yu&&n!==1073741824&&(e.flags|=128,r=!0,dl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=Ze.current,je(Ze,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return nb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function p$(t,e){switch(F1(e),e.tag){case 1:return Cn(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mu(),ze(kn),ze(sn),W1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z1(e),null;case 13:if(ze(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ze),null;case 4:return mu(),null;case 10:return V1(e.type._context),null;case 22:case 23:return nb(),null;case 24:return null;default:return null}}var gf=!1,tn=!1,m$=typeof WeakSet=="function"?WeakSet:Set,K=null;function ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function y0(t,e,n){try{n()}catch(r){st(t,e,r)}}var X_=!1;function g$(t,e){if(e0=Md,t=MO(),D1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(t0={focusedElem:t,selectionRange:n},Md=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,b=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:fr(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){st(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return p=X_,X_=!1,p}function Zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&y0(e,n,s)}i=i.next}while(i!==r)}}function um(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function v0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DN(t){var e=t.alternate;e!==null&&(t.alternate=null,DN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[xc],delete e[i0],delete e[X3],delete e[Z3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LN(t){return t.tag===5||t.tag===3||t.tag===4}function Z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}function b0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(b0(t,e,n),t=t.sibling;t!==null;)b0(t,e,n),t=t.sibling}var Bt=null,dr=!1;function Fi(t,e,n){for(n=n.child;n!==null;)FN(t,e,n),n=n.sibling}function FN(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(em,n)}catch{}switch(n.tag){case 5:tn||ja(n,e);case 6:var r=Bt,i=dr;Bt=null,Fi(t,e,n),Bt=r,dr=i,Bt!==null&&(dr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(dr?(t=Bt,n=n.stateNode,t.nodeType===8?wy(t.parentNode,n):t.nodeType===1&&wy(t,n),_c(t)):wy(Bt,n.stateNode));break;case 4:r=Bt,i=dr,Bt=n.stateNode.containerInfo,dr=!0,Fi(t,e,n),Bt=r,dr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&y0(n,e,o),i=i.next}while(i!==r)}Fi(t,e,n);break;case 1:if(!tn&&(ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Fi(t,e,n),tn=r):Fi(t,e,n);break;default:Fi(t,e,n)}}function eI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m$),e.forEach(function(r){var i=T$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,dr=!1;break e;case 3:Bt=a.stateNode.containerInfo,dr=!0;break e;case 4:Bt=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Bt===null)throw Error(U(160));FN(s,o,i),Bt=null,dr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){st(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MN(e,t),e=e.sibling}function MN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Tr(t),r&4){try{Zl(3,t,t.return),um(3,t)}catch(m){st(t,t.return,m)}try{Zl(5,t,t.return)}catch(m){st(t,t.return,m)}}break;case 1:ur(e,t),Tr(t),r&512&&n!==null&&ja(n,n.return);break;case 5:if(ur(e,t),Tr(t),r&512&&n!==null&&ja(n,n.return),t.flags&32){var i=t.stateNode;try{wc(i,"")}catch(m){st(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iO(i,s),zv(a,o);var l=zv(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?lO(i,h):c==="dangerouslySetInnerHTML"?aO(i,h):c==="children"?wc(i,h):E1(i,c,h,l)}switch(a){case"input":Uv(i,s);break;case"textarea":sO(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Ha(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ha(i,!!s.multiple,s.defaultValue,!0):Ha(i,!!s.multiple,s.multiple?[]:"",!1))}i[xc]=s}catch(m){st(t,t.return,m)}}break;case 6:if(ur(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){st(t,t.return,m)}}break;case 3:if(ur(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(m){st(t,t.return,m)}break;case 4:ur(e,t),Tr(t);break;case 13:ur(e,t),Tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(eb=dt())),r&4&&eI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(l=tn)||c,ur(e,t),tn=l):ur(e,t),Tr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(h=K=c;K!==null;){switch(f=K,d=f.child,f.tag){case 0:case 11:case 14:case 15:Zl(4,f,f.return);break;case 1:ja(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){st(r,n,m)}}break;case 5:ja(f,f.return);break;case 22:if(f.memoizedState!==null){nI(h);continue}}d!==null?(d.return=f,K=d):nI(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=uO("display",o))}catch(m){st(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){st(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(e,t),Tr(t),r&4&&eI(t);break;case 21:break;default:ur(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LN(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wc(i,""),r.flags&=-33);var s=Z_(t);b0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z_(t);w0(t,a,o);break;default:throw Error(U(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y$(t,e,n){K=t,$N(t)}function $N(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||tn;a=gf;var l=tn;if(gf=o,(tn=u)&&!l)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?rI(i):u!==null?(u.return=o,K=u):rI(i);for(;s!==null;)K=s,$N(s),s=s.sibling;K=i,gf=a,tn=l}tI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):tI(t)}}function tI(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&_c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}tn||e.flags&512&&v0(e)}catch(f){st(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function nI(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function rI(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{um(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){st(e,i,u)}}var s=e.return;try{v0(e)}catch(u){st(e,s,u)}break;case 5:var o=e.return;try{v0(e)}catch(u){st(e,o,u)}}}catch(u){st(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var v$=Math.ceil,Jd=Oi.ReactCurrentDispatcher,X1=Oi.ReactCurrentOwner,tr=Oi.ReactCurrentBatchConfig,Se=0,At=null,wt=null,Wt=0,Dn=0,Ba=qs(0),St=0,Dc=null,Mo=0,lm=0,Z1=0,ec=null,bn=null,eb=0,yu=1/0,oi=null,Xd=!1,E0=null,ds=null,yf=!1,rs=null,Zd=0,tc=0,S0=null,Hf=-1,Gf=0;function fn(){return Se&6?dt():Hf!==-1?Hf:Hf=dt()}function ps(t){return t.mode&1?Se&2&&Wt!==0?Wt&-Wt:t$.transition!==null?(Gf===0&&(Gf=EO()),Gf):(t=De,t!==0||(t=window.event,t=t===void 0?16:xO(t.type)),t):1}function vr(t,e,n,r){if(50<tc)throw tc=0,S0=null,Error(U(185));wh(t,n,r),(!(Se&2)||t!==At)&&(t===At&&(!(Se&2)&&(lm|=n),St===4&&Xi(t,Wt)),xn(t,r),n===1&&Se===0&&!(e.mode&1)&&(yu=dt()+500,sm&&zs()))}function xn(t,e){var n=t.callbackNode;t3(t,e);var r=Fd(t,t===At?Wt:0);if(r===0)n!==null&&f_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&f_(n),e===1)t.tag===0?e$(iI.bind(null,t)):HO(iI.bind(null,t)),Y3(function(){!(Se&6)&&zs()}),n=null;else{switch(SO(r)){case 1:n=k1;break;case 4:n=wO;break;case 16:n=Ld;break;case 536870912:n=bO;break;default:n=Ld}n=QN(n,UN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UN(t,e){if(Hf=-1,Gf=0,Se&6)throw Error(U(327));var n=t.callbackNode;if(Xa()&&t.callbackNode!==n)return null;var r=Fd(t,t===At?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ep(t,r);else{e=r;var i=Se;Se|=2;var s=jN();(At!==t||Wt!==e)&&(oi=null,yu=dt()+500,ko(t,e));do try{E$();break}catch(a){VN(t,a)}while(1);U1(),Jd.current=s,Se=i,wt!==null?e=0:(At=null,Wt=0,e=St)}if(e!==0){if(e===2&&(i=Kv(t),i!==0&&(r=i,e=_0(t,i))),e===1)throw n=Dc,ko(t,0),Xi(t,r),xn(t,dt()),n;if(e===6)Xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!w$(i)&&(e=ep(t,r),e===2&&(s=Kv(t),s!==0&&(r=s,e=_0(t,s))),e===1))throw n=Dc,ko(t,0),Xi(t,r),xn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:io(t,bn,oi);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=eb+500-dt(),10<e)){if(Fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=r0(io.bind(null,t,bn,oi),e);break}io(t,bn,oi);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-yr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v$(r/1960))-r,10<r){t.timeoutHandle=r0(io.bind(null,t,bn,oi),r);break}io(t,bn,oi);break;case 5:io(t,bn,oi);break;default:throw Error(U(329))}}}return xn(t,dt()),t.callbackNode===n?UN.bind(null,t):null}function _0(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=ep(t,e),t!==2&&(e=bn,bn=n,e!==null&&I0(e)),t}function I0(t){bn===null?bn=t:bn.push.apply(bn,t)}function w$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!br(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~Z1,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function iI(t){if(Se&6)throw Error(U(327));Xa();var e=Fd(t,0);if(!(e&1))return xn(t,dt()),null;var n=ep(t,e);if(t.tag!==0&&n===2){var r=Kv(t);r!==0&&(e=r,n=_0(t,r))}if(n===1)throw n=Dc,ko(t,0),Xi(t,e),xn(t,dt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,bn,oi),xn(t,dt()),null}function tb(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(yu=dt()+500,sm&&zs())}}function $o(t){rs!==null&&rs.tag===0&&!(Se&6)&&Xa();var e=Se;Se|=1;var n=tr.transition,r=De;try{if(tr.transition=null,De=1,t)return t()}finally{De=r,tr.transition=n,Se=e,!(Se&6)&&zs()}}function nb(){Dn=Ba.current,ze(Ba)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K3(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(F1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:mu(),ze(kn),ze(sn),W1();break;case 5:z1(r);break;case 4:mu();break;case 13:ze(Ze);break;case 19:ze(Ze);break;case 10:V1(r.type._context);break;case 22:case 23:nb()}n=n.return}if(At=t,wt=t=ms(t.current,null),Wt=Dn=e,St=0,Dc=null,Z1=lm=Mo=0,bn=ec=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yo=null}return t}function VN(t,e){do{var n=wt;try{if(U1(),zf.current=Yd,Kd){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kd=!1}if(Fo=0,Ot=bt=tt=null,Xl=!1,Ac=0,X1.current=null,n===null||n.return===null){St=1,Dc=e,wt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Wt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=W_(o);if(d!==null){d.flags&=-257,Q_(d,o,a,s,e),d.mode&1&&z_(s,l,e),e=d,u=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(u),e.updateQueue=m}else p.add(u);break e}else{if(!(e&1)){z_(s,l,e),rb();break e}u=Error(U(426))}}else if(Ge&&a.mode&1){var b=W_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Q_(b,o,a,s,e),M1(gu(u,a));break e}}s=u=gu(u,a),St!==4&&(St=2),ec===null?ec=[s]:ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=_N(s,u,e);M_(s,g);break e;case 1:a=u;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ds===null||!ds.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=IN(s,a,e);M_(s,E);break e}}s=s.return}while(s!==null)}qN(n)}catch(_){e=_,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(1)}function jN(){var t=Jd.current;return Jd.current=Yd,t===null?Yd:t}function rb(){(St===0||St===3||St===2)&&(St=4),At===null||!(Mo&268435455)&&!(lm&268435455)||Xi(At,Wt)}function ep(t,e){var n=Se;Se|=2;var r=jN();(At!==t||Wt!==e)&&(oi=null,ko(t,e));do try{b$();break}catch(i){VN(t,i)}while(1);if(U1(),Se=n,Jd.current=r,wt!==null)throw Error(U(261));return At=null,Wt=0,St}function b$(){for(;wt!==null;)BN(wt)}function E$(){for(;wt!==null&&!QM();)BN(wt)}function BN(t){var e=WN(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?qN(t):wt=e,X1.current=null}function qN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=p$(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,wt=null;return}}else if(n=d$(n,e,Dn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);St===0&&(St=5)}function io(t,e,n){var r=De,i=tr.transition;try{tr.transition=null,De=1,S$(t,e,n,r)}finally{tr.transition=i,De=r}return null}function S$(t,e,n,r){do Xa();while(rs!==null);if(Se&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(n3(t,s),t===At&&(wt=At=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yf||(yf=!0,QN(Ld,function(){return Xa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tr.transition,tr.transition=null;var o=De;De=1;var a=Se;Se|=4,X1.current=null,g$(t,n),MN(n,t),B3(t0),Md=!!e0,t0=e0=null,t.current=n,y$(n),HM(),Se=a,De=o,tr.transition=s}else t.current=n;if(yf&&(yf=!1,rs=t,Zd=i),s=t.pendingLanes,s===0&&(ds=null),YM(n.stateNode),xn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xd)throw Xd=!1,t=E0,E0=null,t;return Zd&1&&t.tag!==0&&Xa(),s=t.pendingLanes,s&1?t===S0?tc++:(tc=0,S0=t):tc=0,zs(),null}function Xa(){if(rs!==null){var t=SO(Zd),e=tr.transition,n=De;try{if(tr.transition=null,De=16>t?16:t,rs===null)var r=!1;else{if(t=rs,rs=null,Zd=0,Se&6)throw Error(U(331));var i=Se;for(Se|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(K=l;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:Zl(8,c,s)}var h=c.child;if(h!==null)h.return=c,K=h;else for(;K!==null;){c=K;var f=c.sibling,d=c.return;if(DN(c),c===l){K=null;break}if(f!==null){f.return=d,K=f;break}K=d}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,K=g;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,K=w;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:um(9,a)}}catch(_){st(a,a.return,_)}if(a===o){K=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,K=E;break e}K=a.return}}if(Se=i,zs(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(em,t)}catch{}r=!0}return r}finally{De=n,tr.transition=e}}return!1}function sI(t,e,n){e=gu(n,e),e=_N(t,e,1),t=fs(t,e,1),e=fn(),t!==null&&(wh(t,1,e),xn(t,e))}function st(t,e,n){if(t.tag===3)sI(t,t,n);else for(;e!==null;){if(e.tag===3){sI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=gu(n,t),t=IN(e,t,1),e=fs(e,t,1),t=fn(),e!==null&&(wh(e,1,t),xn(e,t));break}}e=e.return}}function _$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Wt&n)===n&&(St===4||St===3&&(Wt&130023424)===Wt&&500>dt()-eb?ko(t,0):Z1|=n),xn(t,e)}function zN(t,e){e===0&&(t.mode&1?(e=af,af<<=1,!(af&130023424)&&(af=4194304)):e=1);var n=fn();t=Si(t,e),t!==null&&(wh(t,e,n),xn(t,n))}function I$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zN(t,n)}function T$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),zN(t,n)}var WN;WN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,f$(t,e,n);En=!!(t.flags&131072)}else En=!1,Ge&&e.flags&1048576&&GO(e,zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qf(t,e),t=e.pendingProps;var i=fu(e,sn.current);Ja(e,n),i=H1(null,e,r,t,i,n);var s=G1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(s=!0,Bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B1(e),i.updater=om,e.stateNode=i,i._reactInternals=e,c0(e,r,t,n),e=d0(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&L1(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=C$(r),t=fr(r,t),i){case 0:e=f0(null,e,r,t,n);break e;case 1:e=K_(null,e,r,t,n);break e;case 11:e=H_(null,e,r,t,n);break e;case 14:e=G_(null,e,r,fr(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),f0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),K_(t,e,r,i,n);case 3:e:{if(xN(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,XO(t,e),Hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gu(Error(U(423)),e),e=Y_(t,e,r,n,i);break e}else if(r!==i){i=gu(Error(U(424)),e),e=Y_(t,e,r,n,i);break e}else for(Fn=hs(e.stateNode.containerInfo.firstChild),Un=e,Ge=!0,pr=null,n=nN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(du(),r===i){e=_i(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return rN(e),t===null&&a0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,n0(r,i)?o=null:s!==null&&n0(r,s)&&(e.flags|=32),CN(t,e),un(t,e,o,n),e.child;case 6:return t===null&&a0(e),null;case 13:return ON(t,e,n);case 4:return q1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pu(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),H_(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(Wd,r._currentValue),r._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===i.children&&!kn.current){e=_i(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=gi(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),u0(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),u0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ja(e,n),i=nr(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),G_(t,e,r,i,n);case 15:return TN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Qf(t,e),e.tag=1,Cn(r)?(t=!0,Bd(e)):t=!1,Ja(e,n),eN(e,r,i),c0(e,r,i,n),d0(null,e,r,!0,t,n);case 19:return NN(t,e,n);case 22:return kN(t,e,n)}throw Error(U(156,e.tag))};function QN(t,e){return vO(t,e)}function k$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new k$(t,e,n,r)}function ib(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C$(t){if(typeof t=="function")return ib(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_1)return 11;if(t===I1)return 14}return 2}function ms(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ib(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Co(n.children,i,s,e);case S1:o=8,i|=8;break;case Dv:return t=Zn(12,n,e,i|2),t.elementType=Dv,t.lanes=s,t;case Lv:return t=Zn(13,n,e,i),t.elementType=Lv,t.lanes=s,t;case Fv:return t=Zn(19,n,e,i),t.elementType=Fv,t.lanes=s,t;case tO:return cm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zx:o=10;break e;case eO:o=9;break e;case _1:o=11;break e;case I1:o=14;break e;case Wi:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Co(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function cm(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=tO,t.lanes=n,t.stateNode={isHidden:!1},t}function Cy(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function xy(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function x$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uy(0),this.expirationTimes=uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sb(t,e,n,r,i,s,o,a,u){return t=new x$(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B1(s),t}function O$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HN(t){if(!t)return _s;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Cn(n))return QO(t,n,e)}return e}function GN(t,e,n,r,i,s,o,a,u){return t=sb(n,r,!0,t,i,s,o,a,u),t.context=HN(null),n=t.current,r=fn(),i=ps(n),s=gi(r,i),s.callback=e??null,fs(n,s,i),t.current.lanes=i,wh(t,i,r),xn(t,r),t}function hm(t,e,n,r){var i=e.current,s=fn(),o=ps(i);return n=HN(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fs(i,e,o),t!==null&&(vr(t,i,o,s),qf(t,i,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ob(t,e){oI(t,e),(t=t.alternate)&&oI(t,e)}function N$(){return null}var KN=typeof reportError=="function"?reportError:function(t){console.error(t)};function ab(t){this._internalRoot=t}fm.prototype.render=ab.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));hm(t,e,null,null)};fm.prototype.unmount=ab.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){hm(null,t,null,null)}),e[Ei]=null}};function fm(t){this._internalRoot=t}fm.prototype.unstable_scheduleHydration=function(t){if(t){var e=TO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ji.length&&e!==0&&e<Ji[n].priority;n++);Ji.splice(n,0,t),n===0&&CO(t)}};function ub(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aI(){}function A$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=tp(o);s.call(l)}}var o=GN(e,r,t,0,null,!1,!1,"",aI);return t._reactRootContainer=o,t[Ei]=o.current,kc(t.nodeType===8?t.parentNode:t),$o(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=tp(u);a.call(l)}}var u=sb(t,0,!1,null,null,!1,!1,"",aI);return t._reactRootContainer=u,t[Ei]=u.current,kc(t.nodeType===8?t.parentNode:t),$o(function(){hm(e,u,n,r)}),u}function pm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=tp(o);a.call(u)}}hm(e,o,t,i)}else o=A$(n,e,t,i,r);return tp(o)}_O=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ll(e.pendingLanes);n!==0&&(C1(e,n|1),xn(e,dt()),!(Se&6)&&(yu=dt()+500,zs()))}break;case 13:$o(function(){var r=Si(t,1);if(r!==null){var i=fn();vr(r,t,1,i)}}),ob(t,1)}};x1=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=fn();vr(e,t,134217728,n)}ob(t,134217728)}};IO=function(t){if(t.tag===13){var e=ps(t),n=Si(t,e);if(n!==null){var r=fn();vr(n,t,e,r)}ob(t,e)}};TO=function(){return De};kO=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Qv=function(t,e,n){switch(e){case"input":if(Uv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=im(r);if(!i)throw Error(U(90));rO(r),Uv(r,i)}}}break;case"textarea":sO(t,n);break;case"select":e=n.value,e!=null&&Ha(t,!!n.multiple,e,!1)}};fO=tb;dO=$o;var R$={usingClientEntryPoint:!1,Events:[Eh,Fa,im,cO,hO,tb]},pl={findFiberByHostInstance:go,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},P$={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gO(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||N$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{em=vf.inject(P$),Br=vf}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R$;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ub(e))throw Error(U(200));return O$(t,e,null,n)};zn.createRoot=function(t,e){if(!ub(t))throw Error(U(299));var n=!1,r="",i=KN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sb(t,1,!1,null,null,n,!1,r,i),t[Ei]=e.current,kc(t.nodeType===8?t.parentNode:t),new ab(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=gO(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return $o(t)};zn.hydrate=function(t,e,n){if(!dm(e))throw Error(U(200));return pm(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!ub(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GN(e,null,t,1,n??null,i,!1,s,o),t[Ei]=e.current,kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fm(e)};zn.render=function(t,e,n){if(!dm(e))throw Error(U(200));return pm(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!dm(t))throw Error(U(40));return t._reactRootContainer?($o(function(){pm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};zn.unstable_batchedUpdates=tb;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dm(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return pm(t,e,n,!1,r)};zn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=zn})(NM);var uI=Ad;Av.createRoot=uI.createRoot,Av.hydrateRoot=uI.hydrateRoot;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const lI="popstate";function D$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return T0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:np(i)}return M$(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L$(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F$(){return Math.random().toString(36).substr(2,8)}function cI(t,e){return{usr:t.state,key:t.key,idx:e}}function T0(t,e,n,r){return n===void 0&&(n=null),Lc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bu(e):e,{state:n,key:e&&e.key||r||F$()})}function np(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function M$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=is.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Lc({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){let b=is.Pop,g=c();if(g!=null){let y=g-l;a=b,l=g,u&&u({action:a,location:m.location,delta:y})}else L$(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function f(b,g){a=is.Push;let y=T0(m.location,b,g);n&&n(y,b),l=c()+1;let w=cI(y,l),E=m.createHref(y);try{o.pushState(w,"",E)}catch{i.location.assign(E)}s&&u&&u({action:a,location:m.location,delta:1})}function d(b,g){a=is.Replace;let y=T0(m.location,b,g);n&&n(y,b),l=c();let w=cI(y,l),E=m.createHref(y);o.replaceState(w,"",E),s&&u&&u({action:a,location:m.location,delta:0})}function p(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:np(b);return _t(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return a},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(lI,h),u=b,()=>{i.removeEventListener(lI,h),u=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:d,go(b){return o.go(b)}};return m}var hI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hI||(hI={}));function $$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Bu(e):e,i=XN(r.pathname||"/",n);if(i==null)return null;let s=YN(t);U$(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=G$(s[a],J$(i));return o}function YN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(_t(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=gs([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),YN(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:Q$(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of JN(s.path))i(s,o,u)}),e}function JN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JN(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function U$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V$=/^:\w+$/,j$=3,B$=2,q$=1,z$=10,W$=-2,fI=t=>t==="*";function Q$(t,e){let n=t.split("/"),r=n.length;return n.some(fI)&&(r+=W$),e&&(r+=B$),n.filter(i=>!fI(i)).reduce((i,s)=>i+(V$.test(s)?j$:s===""?q$:z$),r)}function H$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function G$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=K$({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:gs([i,c.pathname]),pathnameBase:t4(gs([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=gs([i,c.pathnameBase]))}return s}function K$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=X$(a[h]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:t}}function Y$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J$(t){try{return decodeURI(t)}catch(e){return lb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function X$(t,e){try{return decodeURIComponent(t)}catch(n){return lb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function XN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bu(t):t;return{pathname:n?n.startsWith("/")?n:e4(n,e):e,search:n4(r),hash:r4(i)}}function e4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Oy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bu(t):(i=Lc({},t),_t(!i.pathname||!i.pathname.includes("?"),Oy("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Oy("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Oy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=Z$(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),t4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class i4{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function s4(t){return t instanceof i4}const o4=["post","put","patch","delete"];[...o4];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}function a4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const u4=typeof Object.is=="function"?Object.is:a4,{useState:l4,useEffect:c4,useLayoutEffect:h4,useDebugValue:f4}=Nd;function d4(t,e,n){const r=e(),[{inst:i},s]=l4({inst:{value:r,getSnapshot:e}});return h4(()=>{i.value=r,i.getSnapshot=e,Ny(i)&&s({inst:i})},[t,r,e]),c4(()=>(Ny(i)&&s({inst:i}),t(()=>{Ny(i)&&s({inst:i})})),[t]),f4(r),r}function Ny(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!u4(n,r)}catch{return!0}}function p4(t,e,n){return e()}const m4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g4=!m4,y4=g4?p4:d4;"useSyncExternalStore"in Nd&&(t=>t.useSyncExternalStore)(Nd);const tA=S.createContext(null),nA=S.createContext(null),mm=S.createContext(null),gm=S.createContext(null),oa=S.createContext({outlet:null,matches:[]}),rA=S.createContext(null);function v4(t,e){let{relative:n}=e===void 0?{}:e;_h()||_t(!1);let{basename:r,navigator:i}=S.useContext(mm),{hash:s,pathname:o,search:a}=iA(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:gs([r,o])),i.createHref({pathname:u,search:a,hash:s})}function _h(){return S.useContext(gm)!=null}function qu(){return _h()||_t(!1),S.useContext(gm).location}function Ws(){_h()||_t(!1);let{basename:t,navigator:e}=S.useContext(mm),{matches:n}=S.useContext(oa),{pathname:r}=qu(),i=JSON.stringify(ZN(n).map(a=>a.pathnameBase)),s=S.useRef(!1);return S.useEffect(()=>{s.current=!0}),S.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let l=eA(a,JSON.parse(i),r,u.relative==="path");t!=="/"&&(l.pathname=l.pathname==="/"?t:gs([t,l.pathname])),(u.replace?e.replace:e.push)(l,u.state,u)},[t,e,i,r])}const w4=S.createContext(null);function b4(t){let e=S.useContext(oa).outlet;return e&&S.createElement(w4.Provider,{value:t},e)}function iA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(oa),{pathname:i}=qu(),s=JSON.stringify(ZN(r).map(o=>o.pathnameBase));return S.useMemo(()=>eA(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function E4(t,e){_h()||_t(!1);let{navigator:n}=S.useContext(mm),r=S.useContext(nA),{matches:i}=S.useContext(oa),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=qu(),l;if(e){var c;let m=typeof e=="string"?Bu(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||_t(!1),l=m}else l=u;let h=l.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=$$(t,{pathname:f}),p=T4(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:gs([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:gs([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&p?S.createElement(gm.Provider,{value:{location:k0({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:is.Pop}},p):p}function S4(){let t=O4(),e=s4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unhandled Thrown Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",S.createElement("code",{style:s},"errorElement")," props on",S.createElement("code",{style:s},"<Route>")))}class _4 extends S.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(oa.Provider,{value:this.props.routeContext},S.createElement(rA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I4(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(tA);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(oa.Provider,{value:e},r)}function T4(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||_t(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=n?o.route.errorElement||S.createElement(S4,null):null,c=e.concat(r.slice(0,a+1)),h=()=>S.createElement(I4,{match:o,routeContext:{outlet:s,matches:c}},u?l:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?S.createElement(_4,{location:n.location,component:l,error:u,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var dI;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(dI||(dI={}));var rp;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(rp||(rp={}));function k4(t){let e=S.useContext(nA);return e||_t(!1),e}function C4(t){let e=S.useContext(oa);return e||_t(!1),e}function x4(t){let e=C4(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function O4(){var t;let e=S.useContext(rA),n=k4(rp.UseRouteError),r=x4(rp.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function sA(t){return b4(t.context)}function Hi(t){_t(!1)}function N4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=is.Pop,navigator:s,static:o=!1}=t;_h()&&_t(!1);let a=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Bu(r));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,p=S.useMemo(()=>{let m=XN(l,a);return m==null?null:{pathname:m,search:c,hash:h,state:f,key:d}},[a,l,c,h,f,d]);return p==null?null:S.createElement(mm.Provider,{value:u},S.createElement(gm.Provider,{children:n,value:{location:p,navigationType:i}}))}function A4(t){let{children:e,location:n}=t,r=S.useContext(tA),i=r&&!e?r.router.routes:C0(e);return E4(i,n)}var pI;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(pI||(pI={}));new Promise(()=>{});function C0(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;if(r.type===S.Fragment){n.push.apply(n,C0(r.props.children,e));return}r.type!==Hi&&_t(!1),!r.props.index||!r.props.children||_t(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=C0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function R4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function P4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D4(t,e){return t.button===0&&(!e||e==="_self")&&!P4(t)}const L4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function F4(t){let{basename:e,children:n,window:r}=t,i=S.useRef();i.current==null&&(i.current=D$({window:r,v5Compat:!0}));let s=i.current,[o,a]=S.useState({action:s.action,location:s.location});return S.useLayoutEffect(()=>s.listen(a),[s]),S.createElement(N4,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const ft=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c}=e,h=R4(e,L4),f=v4(l,{relative:i}),d=M4(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i});function p(m){r&&r(m),m.defaultPrevented||d(m)}return S.createElement("a",x0({},h,{href:f,onClick:s?r:p,ref:n,target:u}))});var mI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(mI||(mI={}));var gI;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gI||(gI={}));function M4(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Ws(),u=qu(),l=iA(t,{relative:o});return S.useCallback(c=>{if(D4(c,n)){c.preventDefault();let h=r!==void 0?r:np(u)===np(l);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[u,a,l,r,i,n,t,s,o])}const gt=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function oA(){throw new Error("setTimeout has not been defined")}function aA(){throw new Error("clearTimeout has not been defined")}var Bi=oA,qi=aA;typeof gt.setTimeout=="function"&&(Bi=setTimeout);typeof gt.clearTimeout=="function"&&(qi=clearTimeout);function uA(t){if(Bi===setTimeout)return setTimeout(t,0);if((Bi===oA||!Bi)&&setTimeout)return Bi=setTimeout,setTimeout(t,0);try{return Bi(t,0)}catch{try{return Bi.call(null,t,0)}catch{return Bi.call(this,t,0)}}}function $4(t){if(qi===clearTimeout)return clearTimeout(t);if((qi===aA||!qi)&&clearTimeout)return qi=clearTimeout,clearTimeout(t);try{return qi(t)}catch{try{return qi.call(null,t)}catch{return qi.call(this,t)}}}var hi=[],Za=!1,wo,Yf=-1;function U4(){!Za||!wo||(Za=!1,wo.length?hi=wo.concat(hi):Yf=-1,hi.length&&lA())}function lA(){if(!Za){var t=uA(U4);Za=!0;for(var e=hi.length;e;){for(wo=hi,hi=[];++Yf<e;)wo&&wo[Yf].run();Yf=-1,e=hi.length}wo=null,Za=!1,$4(t)}}function V4(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];hi.push(new cA(t,e)),hi.length===1&&!Za&&uA(lA)}function cA(t,e){this.fun=t,this.array=e}cA.prototype.run=function(){this.fun.apply(null,this.array)};var j4="browser",B4="browser",q4=!0,z4={},W4=[],Q4="",H4={},G4={},K4={};function aa(){}var Y4=aa,J4=aa,X4=aa,Z4=aa,eU=aa,tU=aa,nU=aa;function rU(t){throw new Error("process.binding is not supported")}function iU(){return"/"}function sU(t){throw new Error("process.chdir is not supported")}function oU(){return 0}var ka=gt.performance||{},aU=ka.now||ka.mozNow||ka.msNow||ka.oNow||ka.webkitNow||function(){return new Date().getTime()};function uU(t){var e=aU.call(ka)*.001,n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n=n-t[0],r=r-t[1],r<0&&(n--,r+=1e9)),[n,r]}var lU=new Date;function cU(){var t=new Date,e=t-lU;return e/1e3}var Is={nextTick:V4,title:j4,browser:q4,env:z4,argv:W4,version:Q4,versions:H4,on:Y4,addListener:J4,once:X4,off:Z4,removeListener:eU,removeAllListeners:tU,emit:nU,binding:rU,cwd:iU,chdir:sU,umask:oU,hrtime:uU,platform:B4,release:G4,config:K4,uptime:cU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,d=l&63;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw Error();const f=s<<2|a>>4;if(r.push(f),l!==64){const d=a<<4&240|l>>2;if(r.push(d),h!==64){const p=l<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fU=function(t){const e=hA(t);return fA.encodeByteArray(e,!0)},ip=function(t){return fU(t).replace(/\./g,"")},dA=function(t){try{return fA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!dU(n)||(t[n]=sp(t[n],e[n]));return t}function dU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof gt<"u")return gt;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=()=>pU().__FIREBASE_DEFAULTS__,gU=()=>{if(typeof Is>"u"||typeof Is.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dA(t[1]);return e&&JSON.parse(e)},cb=()=>{try{return mU()||gU()||yU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vU=()=>{var t;return(t=cb())===null||t===void 0?void 0:t.config},wU=t=>{var e;return(e=cb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ip(JSON.stringify(n)),ip(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function hb(){var t;const e=(t=cb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(gt.process)==="[object process]"}catch{return!1}}function _U(){return typeof self=="object"&&self.self===self}function pA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){const t=rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IU(){return!hb()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fc(){try{return typeof indexedDB=="object"}catch{return!1}}function TU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="FirebaseError";class dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kU,Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new dn(i,a,r)}}function CU(t,e){return t.replace(xU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function OU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vI(s)&&vI(o)){if(!O0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gA(t,e){const n=new NU(t,e);return n.subscribe.bind(n)}class NU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ay),i.error===void 0&&(i.error=Ay),i.complete===void 0&&(i.complete=Ay);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ay(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RU=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DU(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PU(t){return t===so?void 0:t}function DU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=[];var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const yA={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},FU=be.INFO,MU={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},$U=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ym=class{constructor(e){this.name=e,this._logLevel=FU,this._logHandler=$U,this._userLogHandler=null,db.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}};function UU(t){db.forEach(e=>{e.setLogLevel(t)})}function VU(t,e){for(const n of db){let r=null;e&&e.level&&(r=yA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:be[s].toLowerCase(),message:a,args:o,type:i.name})}}}const jU=(t,e)=>e.some(n=>t instanceof n);let wI,bI;function BU(){return wI||(wI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qU(){return bI||(bI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vA=new WeakMap,N0=new WeakMap,wA=new WeakMap,Ry=new WeakMap,pb=new WeakMap;function zU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vA.set(n,t)}).catch(()=>{}),pb.set(e,t),e}function WU(t){if(N0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});N0.set(t,e)}let A0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return N0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QU(t){A0=t(A0)}function HU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Py(this),e,...n);return wA.set(r,e.sort?e.sort():[e]),ys(r)}:qU().includes(t)?function(...e){return t.apply(Py(this),e),ys(vA.get(this))}:function(...e){return ys(t.apply(Py(this),e))}}function GU(t){return typeof t=="function"?HU(t):(t instanceof IDBTransaction&&WU(t),jU(t,BU())?new Proxy(t,A0):t)}function ys(t){if(t instanceof IDBRequest)return zU(t);if(Ry.has(t))return Ry.get(t);const e=GU(t);return e!==t&&(Ry.set(t,e),pb.set(e,t)),e}const Py=t=>pb.get(t);function KU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ys(o.result),u.oldVersion,u.newVersion,ys(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const YU=["get","getKey","getAll","getAllKeys","count"],JU=["put","add","delete","clear"],Dy=new Map;function EI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dy.get(e))return Dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YU.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Dy.set(e,s),s}QU(t=>({...t,get:(e,n,r)=>EI(e,n)||t.get(e,n,r),has:(e,n)=>!!EI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R0="@firebase/app",SI="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new ym("@firebase/app"),e5="@firebase/app-compat",t5="@firebase/analytics-compat",n5="@firebase/analytics",r5="@firebase/app-check-compat",i5="@firebase/app-check",s5="@firebase/auth",o5="@firebase/auth-compat",a5="@firebase/database",u5="@firebase/database-compat",l5="@firebase/functions",c5="@firebase/functions-compat",h5="@firebase/installations",f5="@firebase/installations-compat",d5="@firebase/messaging",p5="@firebase/messaging-compat",m5="@firebase/performance",g5="@firebase/performance-compat",y5="@firebase/remote-config",v5="@firebase/remote-config-compat",w5="@firebase/storage",b5="@firebase/storage-compat",E5="@firebase/firestore",S5="@firebase/firestore-compat",_5="firebase",I5="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]",T5={[R0]:"fire-core",[e5]:"fire-core-compat",[n5]:"fire-analytics",[t5]:"fire-analytics-compat",[i5]:"fire-app-check",[r5]:"fire-app-check-compat",[s5]:"fire-auth",[o5]:"fire-auth-compat",[a5]:"fire-rtdb",[u5]:"fire-rtdb-compat",[l5]:"fire-fn",[c5]:"fire-fn-compat",[h5]:"fire-iid",[f5]:"fire-iid-compat",[d5]:"fire-fcm",[p5]:"fire-fcm-compat",[m5]:"fire-perf",[g5]:"fire-perf-compat",[y5]:"fire-rc",[v5]:"fire-rc-compat",[w5]:"fire-gcs",[b5]:"fire-gcs-compat",[E5]:"fire-fst",[S5]:"fire-fst-compat","fire-js":"fire-js",[_5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Map,Mc=new Map;function op(t,e){try{t.container.addComponent(e)}catch(n){Uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bA(t,e){t.container.addOrOverwriteComponent(e)}function Cs(t){const e=t.name;if(Mc.has(e))return Uo.debug(`There were multiple attempts to register component ${e}.`),!1;Mc.set(e,t);for(const n of ks.values())op(n,t);return!0}function EA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function k5(t,e,n=Ts){EA(t,e).clearInstance(n)}function C5(){Mc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yi=new ua("app","Firebase",x5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O5=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=I5;function mb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ts,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=vU()),!n)throw yi.create("no-options");const s=ks.get(i);if(s){if(O0(n,s.options)&&O0(r,s.config))return s;throw yi.create("duplicate-app",{appName:i})}const o=new LU(i);for(const u of Mc.values())o.addComponent(u);const a=new O5(n,r,o);return ks.set(i,a),a}function N5(t=Ts){const e=ks.get(t);if(!e&&t===Ts)return mb();if(!e)throw yi.create("no-app",{appName:t});return e}function A5(){return Array.from(ks.values())}async function SA(t){const e=t.name;ks.has(e)&&(ks.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function zr(t,e,n){var r;let i=(r=T5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Uo.warn(a.join(" "));return}Cs(new Yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function _A(t,e){if(t!==null&&typeof t!="function")throw yi.create("invalid-log-argument");VU(t,e)}function IA(t){UU(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="firebase-heartbeat-database",P5=1,$c="firebase-heartbeat-store";let Ly=null;function TA(){return Ly||(Ly=KU(R5,P5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($c)}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Ly}async function D5(t){try{return(await TA()).transaction($c).objectStore($c).get(kA(t))}catch(e){if(e instanceof dn)Uo.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Uo.warn(n.message)}}}async function _I(t,e){try{const r=(await TA()).transaction($c,"readwrite");return await r.objectStore($c).put(e,kA(t)),r.done}catch(n){if(n instanceof dn)Uo.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Uo.warn(r.message)}}}function kA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=1024,F5=30*24*60*60*1e3;class M5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=II();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=F5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=II(),{heartbeatsToSend:n,unsentEntries:r}=$5(this._heartbeatsCache.heartbeats),i=ip(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function II(){return new Date().toISOString().substring(0,10)}function $5(t,e=L5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class U5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fc()?TU().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await D5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _I(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _I(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TI(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){Cs(new Yr("platform-logger",e=>new XU(e),"PRIVATE")),Cs(new Yr("heartbeat",e=>new M5(e),"PRIVATE")),zr(R0,SI,t),zr(R0,SI,"esm2017"),zr("fire-js","")}V5("");const j5=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:dn,SDK_VERSION:la,_DEFAULT_ENTRY_NAME:Ts,_addComponent:op,_addOrOverwriteComponent:bA,_apps:ks,_clearComponents:C5,_components:Mc,_getProvider:EA,_registerComponent:Cs,_removeServiceInstance:k5,deleteApp:SA,getApp:N5,getApps:A5,initializeApp:mb,onLog:_A,registerVersion:zr,setLogLevel:IA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this._delegate=e,this.firebase=n,op(e,new Yr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),SA(this._delegate)))}_getService(e,n=Ts){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ts){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){op(this._delegate,e)}_addOrOverwriteComponent(e){bA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},kI=new ua("app-compat","Firebase",q5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:zr,setLogLevel:IA,onLog:_A,apps:null,SDK_VERSION:la,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:j5}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||Ts,!yI(e,l))throw kI.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,c={}){const h=mb(l,c);if(yI(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const c=l.name,h=c.replace("-compat","");if(Cs(l)&&l.type==="PUBLIC"){const f=(d=i())=>{if(typeof d[h]!="function")throw kI.create("invalid-app-argument",{appName:c});return d[h]()};l.serviceProps!==void 0&&sp(f,l.serviceProps),n[h]=f,t.prototype[h]=function(...d){return this._getService.bind(this,c).apply(this,l.multipleInstances?d:[])}}return l.type==="PUBLIC"?n[h]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){const t=z5(B5);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:CA,extendNamespace:e,createSubscribe:gA,ErrorFactory:ua,deepExtend:sp});function e(n){sp(t,n)}return t}const W5=CA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new ym("@firebase/app-compat"),Q5="@firebase/app-compat",H5="0.2.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){zr(Q5,H5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(_U()&&self.firebase!==void 0){CI.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&CI.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Qs=W5;G5();var K5="firebase",Y5="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs.registerVersion(K5,Y5,"app-compat");var P0=function(t,e){return P0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},P0(t,e)};function or(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var N=function(){return N=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N.apply(this,arguments)};function ir(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Gi(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(h){o(h)}}function u(c){try{l(r.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Ki(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ap(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const ml={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ba={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function xA(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X5=J5,Z5=xA,OA=new ua("auth","Firebase",xA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new ym("@firebase/auth");function Jf(t,...e){xI.logLevel<=be.ERROR&&xI.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,...e){throw gb(t,...e)}function Qt(t,...e){return gb(t,...e)}function NA(t,e,n){const r=Object.assign(Object.assign({},Z5()),{[e]:n});return new ua("auth","Firebase",r).create(e,{appName:t.name})}function Wu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kt(t,"argument-error"),NA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OA.create(t,...e)}function j(t,e,...n){if(!t)throw gb(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jf(e),new Error(e)}function Er(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new Map;function Mn(t){Er(t instanceof Function,"Expected a class definition");let e=OI.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OI.set(t,e),e)}function e6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yb(){return NI()==="http:"||NI()==="https:"}function NI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yb()||pA()||"connection"in navigator)?navigator.onLine:!0}function n6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=SU()||fb()}get(){return t6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new Ih(3e4,6e4);function kt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lt(t,e,n,r,i={}){return RA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=zu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),AA.fetch()(PA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function RA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r6),e);try{const i=new s6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $l(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $l(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw $l(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw $l(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw NA(t,c,l);Kt(t,c)}}catch(i){if(i instanceof dn)throw i;Kt(t,"network-request-failed")}}async function Ni(t,e,n,r,i={}){const s=await Lt(t,e,n,r,i);return"mfaPendingCredential"in s&&Kt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vb(t.config,i):`${t.config.apiScheme}://${i}`}class s6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qt(this.auth,"network-request-failed")),i6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e){return Lt(t,"POST","/v1/accounts:delete",e)}async function a6(t,e){return Lt(t,"POST","/v1/accounts:update",e)}async function u6(t,e){return Lt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l6(t,e=!1){const n=se(t),r=await n.getIdToken(e),i=vm(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nc(Fy(i.auth_time)),issuedAtTime:nc(Fy(i.iat)),expirationTime:nc(Fy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fy(t){return Number(t)*1e3}function vm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const i=dA(n);return i?JSON.parse(i):(Jf("Failed to decode base64 JWT payload"),null)}catch(i){return Jf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c6(t){const e=vm(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dn&&h6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ii(t,u6(n,{idToken:r}));j(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?m6(s.providerUserInfo):[],a=p6(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new DA(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function d6(t){const e=se(t);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function m6(t){return t.map(e=>{var{providerId:n}=e,r=ir(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(t,e){const n=await RA(t,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return j(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await g6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jc;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(j(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new DA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ii(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l6(this,e)}reload(){return d6(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ii(this,o6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:_,providerData:T,stsTokenManager:k}=n;j(w&&k,e,"internal-error");const x=jc.fromJSON(this.name,k);j(typeof w=="string",e,"internal-error"),Mi(h,e.name),Mi(f,e.name),j(typeof E=="boolean",e,"internal-error"),j(typeof _=="boolean",e,"internal-error"),Mi(d,e.name),Mi(p,e.name),Mi(m,e.name),Mi(b,e.name),Mi(g,e.name),Mi(y,e.name);const M=new xo({uid:w,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:m,stsTokenManager:x,createdAt:g,lastLoginAt:y});return T&&Array.isArray(T)&&(M.providerData=T.map(C=>Object.assign({},C))),b&&(M._redirectEventId=b),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new jc;i.updateFromServerResponse(n);const s=new xo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LA.type="NONE";const vu=LA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e,n){return`firebase:${t}:${e}:${n}`}class eu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eu(Mn(vu),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Mn(vu);const o=Oo(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const h=xo._fromJSON(e,c);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new eu(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new eu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UA(e))return"Blackberry";if(VA(e))return"Webos";if(wb(e))return"Safari";if((e.includes("chrome/")||MA(e))&&!e.includes("edge/"))return"Chrome";if(Th(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FA(t=rt()){return/firefox\//i.test(t)}function wb(t=rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MA(t=rt()){return/crios\//i.test(t)}function $A(t=rt()){return/iemobile/i.test(t)}function Th(t=rt()){return/android/i.test(t)}function UA(t=rt()){return/blackberry/i.test(t)}function VA(t=rt()){return/webos/i.test(t)}function Qu(t=rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y6(t=rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function v6(t=rt()){var e;return Qu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w6(){return mA()&&document.documentMode===10}function jA(t=rt()){return Qu(t)||Th(t)||VA(t)||UA(t)||/windows phone/i.test(t)||$A(t)}function b6(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e=[]){let n;switch(t){case"Browser":n=AI(rt());break;case"Worker":n=`${AI(rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RI(this),this.idTokenSubscription=new RI(this),this.beforeStateQueue=new E6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OA,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await eu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?se(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mn(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Pt(t){return se(t)}let RI=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gA(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function _6(t,e,n){const r=Pt(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=qA(e),{host:o,port:a}=I6(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||T6()}function qA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I6(t){const e=qA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:PI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:PI(o)}}}function PI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(t,e){return Lt(t,"POST","/v1/accounts:resetPassword",kt(t,e))}async function WA(t,e){return Lt(t,"POST","/v1/accounts:update",e)}async function k6(t,e){return Lt(t,"POST","/v1/accounts:update",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e){return Ni(t,"POST","/v1/accounts:signInWithPassword",kt(t,e))}async function wm(t,e){return Lt(t,"POST","/v1/accounts:sendOobCode",kt(t,e))}async function x6(t,e){return wm(t,e)}async function O6(t,e){return wm(t,e)}async function N6(t,e){return wm(t,e)}async function A6(t,e){return wm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e){return Ni(t,"POST","/v1/accounts:signInWithEmailLink",kt(t,e))}async function P6(t,e){return Ni(t,"POST","/v1/accounts:signInWithEmailLink",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Hu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return C6(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return R6(e,{email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return WA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return P6(e,{idToken:n,email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t,e){return Ni(t,"POST","/v1/accounts:signInWithIdp",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="http://localhost";class Jr extends Hu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ir(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Jr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}buildRequest(){const e={requestUri:D6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){return Lt(t,"POST","/v1/accounts:sendVerificationCode",kt(t,e))}async function F6(t,e){return Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",kt(t,e))}async function M6(t,e){const n=await Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",kt(t,e));if(n.temporaryProof)throw $l(t,"account-exists-with-different-credential",n);return n}const $6={USER_NOT_FOUND:"user-not-found"};async function U6(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ni(t,"POST","/v1/accounts:signInWithPhoneNumber",kt(t,n),$6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Hu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new No({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new No({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return F6(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return M6(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return U6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new No({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j6(t){const e=qa(Ml(t)).link,n=e?qa(Ml(e)).deep_link_id:null,r=qa(Ml(t)).deep_link_id;return(r?qa(Ml(r)).link:null)||r||n||e||t}class bm{constructor(e){var n,r,i,s,o,a;const u=qa(Ml(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,h=V6((i=u.mode)!==null&&i!==void 0?i:null);j(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=j6(e);try{return new bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bm.parseLink(n);return j(r,"argument-error"),Bc._fromEmailAndCode(e,r.code,r.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tu extends Gu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return j("providerId"in n&&"signInMethod"in n,"argument-error"),Jr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return j(e.idToken||e.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new tu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Gu{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Gu{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="http://localhost";class wu extends Hu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new wu(r,s)}static _create(e,n){return new wu(e,n)}buildRequest(){return{requestUri:B6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="saml.";class up extends Ai{constructor(e){j(e.startsWith(q6),"argument-error"),super(e)}static credentialFromResult(e){return up.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return up.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=wu.fromJSON(e);return j(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return wu._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Gu{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(t,e){return Ni(t,"POST","/v1/accounts:signUp",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xo._fromIdTokenResponse(e,r,i),o=DI(r);return new sr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DI(r);return new sr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t){var e;const n=Pt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new sr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await QA(n,{returnSecureToken:!0}),i=await sr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends dn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lp(e,n,r,i)}}function HA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e){const n=se(t);await Em(!0,n,e);const{providerUserInfo:r}=await a6(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=GA(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function bb(t,e,n=!1){const r=await Ii(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sr._forOperation(t,"link",r)}async function Em(t,e,n){await Vc(e);const r=GA(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";j(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ii(t,HA(r,i,e,t),n);j(s.idToken,r,"internal-error");const o=vm(s.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(t.uid===a,r,"user-mismatch"),sr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e,n=!1){const r="signIn",i=await HA(t,r,e),s=await sr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Sm(t,e){return YA(Pt(t),e)}async function JA(t,e){const n=se(t);return await Em(!1,n,e.providerId),bb(n,e)}async function XA(t,e){return KA(se(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e){return Ni(t,"POST","/v1/accounts:signInWithCustomToken",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){const n=Pt(t),r=await Q6(n,{token:e,returnSecureToken:!0}),i=await sr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Eb._fromServerResponse(e,n):Kt(e,"internal-error")}}class Eb extends _m{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Eb(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e,n){const r=se(t),i={requestType:"PASSWORD_RESET",email:e};n&&Im(r,i,n),await O6(r,i)}async function K6(t,e,n){await zA(se(t),{oobCode:e,newPassword:n})}async function Y6(t,e){await k6(se(t),{oobCode:e})}async function ZA(t,e){const n=se(t),r=await zA(n,{oobCode:e}),i=r.requestType;switch(j(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(r.mfaInfo,n,"internal-error");default:j(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=_m._fromServerResponse(Pt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function J6(t,e){const{data:n}=await ZA(se(t),e);return n.email}async function X6(t,e,n){const r=Pt(t),i=await QA(r,{returnSecureToken:!0,email:e,password:n}),s=await sr._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Z6(t,e,n){return Sm(se(t),Hs.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e,n){const r=se(t),i={requestType:"EMAIL_SIGNIN",email:e};j(n.handleCodeInApp,r,"argument-error"),n&&Im(r,i,n),await N6(r,i)}function tV(t,e){const n=bm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function nV(t,e,n){const r=se(t),i=Hs.credentialWithLink(e,n||Uc());return j(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Sm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e){return Lt(t,"POST","/v1/accounts:createAuthUri",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e){const n=yb()?Uc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await rV(se(t),r);return i||[]}async function sV(t,e){const n=se(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Im(n.auth,i,e);const{email:s}=await x6(n.auth,i);s!==t.email&&await t.reload()}async function oV(t,e,n){const r=se(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Im(r.auth,s,n);const{email:o}=await A6(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e){return Lt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=se(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ii(r,aV(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function lV(t,e){return eR(se(t),e,null)}function cV(t,e){return eR(se(t),null,e)}async function eR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ii(t,WA(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=vm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new nu(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new fV(s,i);case"github.com":return new dV(s,i);case"google.com":return new pV(s,i);case"twitter.com":return new mV(s,i,t.screenName||null);case"custom":case"anonymous":return new nu(s,null);default:return new nu(s,r,i)}}class nu{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class tR extends nu{constructor(e,n,r,i){super(e,n,r),this.username=i}}class fV extends nu{constructor(e,n){super(e,"facebook.com",n)}}class dV extends tR{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class pV extends nu{constructor(e,n){super(e,"google.com",n)}}class mV extends tR{constructor(e,n,r){super(e,"twitter.com",n,r)}}function gV(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:hV(n)}class bo{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new bo("enroll",e,n)}static _fromMfaPendingCredential(e){return new bo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return bo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return bo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Pt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>_m._fromServerResponse(r,a));j(i.mfaPendingCredential,r,"internal-error");const o=bo._fromMfaPendingCredential(i.mfaPendingCredential);return new Sb(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const c=await sr._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return j(n.user,r,"internal-error"),sr._forOperation(n.user,n.operationType,l);default:Kt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function yV(t,e){var n;const r=se(t),i=e;return j(e.customData.operationType,r,"argument-error"),j((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Sb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:start",kt(t,e))}function wV(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:finalize",kt(t,e))}function bV(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(t,e))}class _b{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>_m._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new _b(e)}async getSession(){return bo._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ii(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken(),i=await Ii(this.user,bV(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(s){if((s==null?void 0:s.code)!=="auth/user-token-expired")throw s}}}const My=new WeakMap;function EV(t){const e=se(t);return My.has(e)||My.set(e,_b._fromUser(e)),My.get(e)}const cp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){const t=rt();return wb(t)||Qu(t)}const _V=1e3,IV=10;class rR extends nR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=SV()&&b6(),this.fallbackToPolling=jA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);w6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rR.type="LOCAL";const Ib=rR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR extends nR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iR.type="SESSION";const Vo=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await TV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=kh("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return window}function CV(t){Et().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return typeof Et().WorkerGlobalScope<"u"&&typeof Et().importScripts=="function"}async function xV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NV(){return Tb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebaseLocalStorageDb",AV=1,hp="firebaseLocalStorage",oR="fbase_key";class Ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function km(t,e){return t.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function RV(){const t=indexedDB.deleteDatabase(sR);return new Ch(t).toPromise()}function D0(){const t=indexedDB.open(sR,AV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hp,{keyPath:oR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hp)?e(r):(r.close(),await RV(),e(await D0()))})})}async function LI(t,e,n){const r=km(t,!0).put({[oR]:e,value:n});return new Ch(r).toPromise()}async function PV(t,e){const n=km(t,!1).get(e),r=await new Ch(n).toPromise();return r===void 0?null:r.value}function FI(t,e){const n=km(t,!0).delete(e);return new Ch(n).toPromise()}const DV=800,LV=3;class aR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tm._getInstance(NV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xV(),!this.activeServiceWorker)return;this.sender=new kV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D0();return await LI(e,cp,"1"),await FI(e,cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=km(i,!1).getAll();return new Ch(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aR.type="LOCAL";const qc=aR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t,e){return Lt(t,"POST","/v2/accounts/mfaSignIn:start",kt(t,e))}function MV(t,e){return Lt(t,"POST","/v2/accounts/mfaSignIn:finalize",kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t){return(await Lt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function uR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",UV().appendChild(r)})}function lR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=500,jV=6e4,wf=1e12;class BV{constructor(e){this.auth=e,this.counter=wf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new qV(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||wf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||wf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||wf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class qV{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;j(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=zV(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},jV)},VV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function zV(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=lR("rcb"),WV=new Ih(3e4,6e4),QV="https://www.google.com/recaptcha/api.js?";class HV{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Et().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return j(GV(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Et().grecaptcha):new Promise((r,i)=>{const s=Et().setTimeout(()=>{i(Qt(e,"network-request-failed"))},WV.get());Et()[$y]=()=>{Et().clearTimeout(s),delete Et()[$y];const a=Et().grecaptcha;if(!a){i(Qt(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const h=u(l,c);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${QV}?${zu({onload:$y,render:"explicit",hl:n})}`;uR(o).catch(()=>{clearTimeout(s),i(Qt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Et().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function GV(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class KV{async load(e){return new BV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="recaptcha",YV={theme:"light",type:"image"};let JV=class{constructor(e,n=Object.assign({},YV),r){this.parameters=n,this.type=cR,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(r),this.isInvisible=this.parameters.size==="invisible",j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;j(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new KV:new HV,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Et()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){j(yb()&&!Tb(),this.auth,"internal-error"),await XV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await $V(this.auth);j(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function XV(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=No._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function ZV(t,e,n){const r=Pt(t),i=await Cm(r,e,se(n));return new kb(i,s=>Sm(r,s))}async function ej(t,e,n){const r=se(t);await Em(!1,r,"phone");const i=await Cm(r.auth,e,se(n));return new kb(i,s=>JA(r,s))}async function tj(t,e,n){const r=se(t),i=await Cm(r.auth,e,se(n));return new kb(i,s=>XA(r,s))}async function Cm(t,e,n){var r;const i=await n.verify();try{j(typeof i=="string",t,"argument-error"),j(n.type===cR,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return j(o.type==="enroll",t,"internal-error"),(await vV(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{j(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return j(a,t,"missing-multi-factor-info"),(await FV(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await L6(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function nj(t,e){await bb(se(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr=class{constructor(e){this.providerId=Wr.PROVIDER_ID,this.auth=Pt(e)}verifyPhoneNumber(e,n){return Cm(this.auth,e,se(n))}static credential(e,n){return No._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Wr.credentialFromTaggedObject(n)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?No._fromTokenResponse(n,r):null}};Wr.PROVIDER_ID="phone";Wr.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,e){return e?Mn(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Hu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rj(t){return YA(t.auth,new Cb(t),t.bypassAuthState)}function ij(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),KA(n,new Cb(t),t.bypassAuthState)}async function sj(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),bb(n,new Cb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rj;case"linkViaPopup":case"linkViaRedirect":return sj;case"reauthViaPopup":case"reauthViaRedirect":return ij;default:Kt(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new Ih(2e3,1e4);async function aj(t,e,n){const r=Pt(t);Wu(t,e,Ai);const i=ca(r,n);return new fi(r,"signInViaPopup",e,i).executeNotNull()}async function uj(t,e,n){const r=se(t);Wu(r.auth,e,Ai);const i=ca(r.auth,n);return new fi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function lj(t,e,n){const r=se(t);Wu(r.auth,e,Ai);const i=ca(r.auth,n);return new fi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class fi extends hR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fi.currentPopupAction&&fi.currentPopupAction.cancel(),fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=kh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,oj.get())};e()}}fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="pendingRedirect",rc=new Map;class hj extends hR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const r=await fj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fj(t,e){const n=dR(e),r=fR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function xb(t,e){return fR(t)._set(dR(e),"true")}function dj(){rc.clear()}function Ob(t,e){rc.set(t._key(),e)}function fR(t){return Mn(t._redirectPersistence)}function dR(t){return Oo(cj,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t,e,n){return mj(t,e,n)}async function mj(t,e,n){const r=Pt(t);Wu(t,e,Ai),await r._initializationPromise;const i=ca(r,n);return await xb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function gj(t,e,n){return yj(t,e,n)}async function yj(t,e,n){const r=se(t);Wu(r.auth,e,Ai),await r.auth._initializationPromise;const i=ca(r.auth,n);await xb(i,r.auth);const s=await pR(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function vj(t,e,n){return wj(t,e,n)}async function wj(t,e,n){const r=se(t);Wu(r.auth,e,Ai),await r.auth._initializationPromise;const i=ca(r.auth,n);await Em(!1,r,e.providerId),await xb(i,r.auth);const s=await pR(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function bj(t,e){return await Pt(t)._initializationPromise,xm(t,e,!1)}async function xm(t,e,n=!1){const r=Pt(t),i=ca(r,e),o=await new hj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function pR(t){const e=kh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=10*60*1e3;class mR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ej&&this.cachedEventUids.clear(),this.cachedEventUids.has(MI(e))}saveEventToCache(e){this.cachedEventUids.add(MI(e)),this.lastProcessedEventTime=Date.now()}}function MI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Sj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e={}){return Lt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ij=/^https?/;async function Tj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yR(t);for(const n of e)try{if(kj(n))return}catch{}Kt(t,"unauthorized-domain")}function kj(t){const e=Uc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ij.test(n))return!1;if(_j.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new Ih(3e4,6e4);function $I(){const t=Et().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xj(t){return new Promise((e,n)=>{var r,i,s;function o(){$I(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$I(),n(Qt(t,"network-request-failed"))},timeout:Cj.get()})}if(!((i=(r=Et().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Et().gapi)===null||s===void 0)&&s.load)o();else{const a=lR("iframefcb");return Et()[a]=()=>{gapi.load?o():n(Qt(t,"network-request-failed"))},uR(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function Oj(t){return Xf=Xf||xj(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new Ih(5e3,15e3),Aj="__/auth/iframe",Rj="emulator/auth/iframe",Pj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lj(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vb(e,Rj):`https://${t.config.authDomain}/${Aj}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=Dj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zu(r).slice(1)}`}async function Fj(t){const e=await Oj(t),n=Et().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:Lj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qt(t,"network-request-failed"),a=Et().setTimeout(()=>{s(o)},Nj.get());function u(){Et().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$j=500,Uj=600,Vj="_blank",jj="http://localhost";class UI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bj(t,e,n,r=$j,i=Uj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Mj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=rt().toLowerCase();n&&(a=MA(l)?Vj:n),FA(l)&&(e=e||jj,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(v6(l)&&a!=="_self")return qj(e||"",a),new UI(null);const h=window.open(e||"",a,c);j(h,t,"popup-blocked");try{h.focus()}catch{}return new UI(h)}function qj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="__/auth/handler",Wj="emulator/auth/handler";function L0(t,e,n,r,i,s){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof Ai){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof Gu){const u=e.getScopes().filter(l=>l!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${Qj(t)}?${zu(a).slice(1)}`}function Qj({config:t}){return t.emulator?vb(t,Wj):`https://${t.authDomain}/${zj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class Hj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vo,this._completeRedirectFn=xm,this._overrideRedirectResult=Ob}async _openPopup(e,n,r,i){var s;Er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=L0(e,n,r,Uc(),i);return Bj(e,o,kh())}async _openRedirect(e,n,r,i){return await this._originValidation(e),CV(L0(e,n,r,Uc(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Fj(e),r=new mR(e);return n.register("authEvent",i=>(j(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Uy];o!==void 0&&n(!!o),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jA()||wb()||Qu()}}const Gj=Hj;class Kj{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Mr("unexpected MultiFactorSessionType")}}}class Nb extends Kj{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Nb(e)}_finalizeEnroll(e,n,r){return wV(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return MV(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class vR{constructor(){}static assertion(e){return Nb._fromCredential(e)}}vR.FACTOR_ID="phone";var VI="@firebase/auth",jI="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Xj(t){Cs(new Yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{j(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),j(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(t)},c=new S6(a,u,l);return e6(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cs(new Yr("auth-internal",e=>{const n=Pt(e.getProvider("auth").getImmediate());return(r=>new Yj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(VI,jI,Jj(t)),zr(VI,jI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=5*60;wU("authIdTokenMaxAge");Xj("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=2e3;async function t8(t,e,n){var r;const{BuildInfo:i}=jo();Er(e.sessionId,"AuthEvent did not contain a session ID");const s=await o8(e.sessionId),o={};return Qu()?o.ibi=i.packageName:Th()?o.apn=i.packageName:Kt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,L0(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function n8(t){const{BuildInfo:e}=jo(),n={};Qu()?n.iosBundleId=e.packageName:Th()?n.androidPackageName=e.packageName:Kt(t,"operation-not-supported-in-this-environment"),await yR(t,n)}function r8(t){const{cordova:e}=jo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,y6()?"_blank":"_system","location=yes"),n(i)})})}async function i8(t,e,n){const{cordova:r}=jo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Qt(t,"redirect-cancelled-by-user"))},e8))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),Th()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function s8(t){var e,n,r,i,s,o,a,u,l,c;const h=jo();j(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((u=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((c=(l=h==null?void 0:h.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function o8(t){const e=a8(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function a8(t){if(Er(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=20;class l8 extends mR{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function c8(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:d8(),postBody:null,tenantId:t.tenantId,error:Qt(t,"no-auth-event")}}function h8(t,e){return F0()._set(M0(t),e)}async function BI(t){const e=await F0()._get(M0(t));return e&&await F0()._remove(M0(t)),e}function f8(t,e){var n,r;const i=m8(e);if(i.includes("/__/auth/callback")){const s=Zf(i),o=s.firebaseError?p8(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Qt(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function d8(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<u8;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function F0(){return Mn(Ib)}function M0(t){return Oo("authEvent",t.config.apiKey,t.name)}function p8(t){try{return JSON.parse(t)}catch{return null}}function m8(t){const e=Zf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Zf(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Zf(i).link||i||r||n||t}function Zf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return qa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=500;class y8{constructor(){this._redirectPersistence=Vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xm,this._overrideRedirectResult=Ob}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new l8(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Kt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){s8(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),dj(),await this._originValidation(e);const o=c8(e,r,i);await h8(e,o);const a=await t8(e,o,n),u=await r8(a);return i8(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n8(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=jo(),o=setTimeout(async()=>{await BI(e),n.onEvent(qI())},g8),a=async c=>{clearTimeout(o);const h=await BI(e);let f=null;h&&(c!=null&&c.url)&&(f=f8(h,c.url)),n.onEvent(f||qI())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;jo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(l)&&a({url:c}),typeof u=="function")try{u(c)}catch(h){console.error(h)}}}}const v8=y8;function qI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t,e){Pt(t)._logFramework(e)}var b8="@firebase/auth-compat",E8="0.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=1e3;function ic(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function _8(){return ic()==="http:"||ic()==="https:"}function wR(t=rt()){return!!((ic()==="file:"||ic()==="ionic:"||ic()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function I8(){return fb()||hb()}function T8(){return mA()&&(document==null?void 0:document.documentMode)===11}function k8(t=rt()){return/Edge\/\d+/.test(t)}function C8(t=rt()){return T8()||k8(t)}function bR(){try{const t=self.localStorage,e=kh();if(t)return t.setItem(e,"1"),t.removeItem(e),C8()?Fc():!0}catch{return Ab()&&Fc()}return!1}function Ab(){return typeof gt<"u"&&"WorkerGlobalScope"in gt&&"importScripts"in gt}function Vy(){return(_8()||pA()||wR())&&!I8()&&bR()&&!Ab()}function ER(){return wR()&&typeof document<"u"}async function x8(){return ER()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},S8);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function O8(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln={LOCAL:"local",NONE:"none",SESSION:"session"},gl=j,SR="persistence";function N8(t,e){if(gl(Object.values(Ln).includes(e),t,"invalid-persistence-type"),fb()){gl(e!==Ln.SESSION,t,"unsupported-persistence-type");return}if(hb()){gl(e===Ln.NONE,t,"unsupported-persistence-type");return}if(Ab()){gl(e===Ln.NONE||e===Ln.LOCAL&&Fc(),t,"unsupported-persistence-type");return}gl(e===Ln.NONE||bR(),t,"unsupported-persistence-type")}async function $0(t){await t._initializationPromise;const e=_R(),n=Oo(SR,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function A8(t,e){const n=_R();if(!n)return[];const r=Oo(SR,t,e);switch(n.getItem(r)){case Ln.NONE:return[vu];case Ln.LOCAL:return[qc,Vo];case Ln.SESSION:return[Vo];default:return[]}}function _R(){var t;try{return((t=O8())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=j;class ss{constructor(){this.browserResolver=Mn(Gj),this.cordovaResolver=Mn(v8),this.underlyingResolver=null,this._redirectPersistence=Vo,this._completeRedirectFn=xm,this._overrideRedirectResult=Ob}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return ER()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return R8(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await x8();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){return t.unwrap()}function P8(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){return TR(t)}function L8(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new F8(t,yV(t,e))}else if(r){const i=TR(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function TR(t){const{_tokenResponse:e}=t instanceof dn?t.customData:t;if(!e)return null;if(!(t instanceof dn)&&"temporaryProof"in e&&"phoneNumber"in e)return Wr.credentialFromResult(t);const n=e.providerId;if(!n||n===ml.PASSWORD)return null;let r;switch(n){case ml.GOOGLE:r=Ar;break;case ml.FACEBOOK:r=Nr;break;case ml.GITHUB:r=Rr;break;case ml.TWITTER:r=Pr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?wu._create(n,a):Jr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new tu(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof dn?r.credentialFromError(t):r.credentialFromResult(t)}function vn(t,e){return e.catch(n=>{throw n instanceof dn&&L8(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:D8(n),additionalUserInfo:gV(n),user:di.getOrCreate(i)}})}async function U0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>vn(t,n.confirm(r))}}class F8{constructor(e,n){this.resolver=n,this.auth=P8(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return vn(IR(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._delegate=e,this.multiFactor=EV(e)}static getOrCreate(e){return di.USER_MAP.has(e)||di.USER_MAP.set(e,new di(e)),di.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return vn(this.auth,JA(this._delegate,e))}async linkWithPhoneNumber(e,n){return U0(this.auth,ej(this._delegate,e,n))}async linkWithPopup(e){return vn(this.auth,lj(this._delegate,e,ss))}async linkWithRedirect(e){return await $0(Pt(this.auth)),vj(this._delegate,e,ss)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return vn(this.auth,XA(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return U0(this.auth,tj(this._delegate,e,n))}reauthenticateWithPopup(e){return vn(this.auth,uj(this._delegate,e,ss))}async reauthenticateWithRedirect(e){return await $0(Pt(this.auth)),gj(this._delegate,e,ss)}sendEmailVerification(e){return sV(this._delegate,e)}async unlink(e){return await W6(this._delegate,e),this}updateEmail(e){return lV(this._delegate,e)}updatePassword(e){return cV(this._delegate,e)}updatePhoneNumber(e){return nj(this._delegate,e)}updateProfile(e){return uV(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return oV(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}di.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=j;class V0{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;yl(r,"invalid-api-key",{appName:e.name}),yl(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ss:void 0;this._delegate=n.initialize({options:{persistence:M8(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(X5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?di.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){_6(this._delegate,e,n)}applyActionCode(e){return Y6(this._delegate,e)}checkActionCode(e){return ZA(this._delegate,e)}confirmPasswordReset(e,n){return K6(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return vn(this._delegate,X6(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return iV(this._delegate,e)}isSignInWithEmailLink(e){return tV(this._delegate,e)}async getRedirectResult(){yl(Vy(),this._delegate,"operation-not-supported-in-this-environment");const e=await bj(this._delegate,ss);return e?vn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){w8(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=zI(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=zI(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return eV(this._delegate,e,n)}sendPasswordResetEmail(e,n){return G6(this._delegate,e,n||void 0)}async setPersistence(e){N8(this._delegate,e);let n;switch(e){case Ln.SESSION:n=Vo;break;case Ln.LOCAL:n=await Mn(qc)._isAvailable()?qc:Ib;break;case Ln.NONE:n=vu;break;default:return Kt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return vn(this._delegate,z6(this._delegate))}signInWithCredential(e){return vn(this._delegate,Sm(this._delegate,e))}signInWithCustomToken(e){return vn(this._delegate,H6(this._delegate,e))}signInWithEmailAndPassword(e,n){return vn(this._delegate,Z6(this._delegate,e,n))}signInWithEmailLink(e,n){return vn(this._delegate,nV(this._delegate,e,n))}signInWithPhoneNumber(e,n){return U0(this._delegate,ZV(this._delegate,e,n))}async signInWithPopup(e){return yl(Vy(),this._delegate,"operation-not-supported-in-this-environment"),vn(this._delegate,aj(this._delegate,e,ss))}async signInWithRedirect(e){return yl(Vy(),this._delegate,"operation-not-supported-in-this-environment"),await $0(this._delegate),pj(this._delegate,e,ss)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return J6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}V0.Persistence=Ln;function zI(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&di.getOrCreate(o)),error:e,complete:n}}function M8(t,e){const n=A8(t,e);if(typeof self<"u"&&!n.includes(qc)&&n.push(qc),typeof window<"u")for(const r of[Ib,Vo])n.includes(r)||n.push(r);return n.includes(vu)||n.push(vu),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.providerId="phone",this._delegate=new Wr(IR(Qs.auth()))}static credential(e,n){return Wr.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Rb.PHONE_SIGN_IN_METHOD=Wr.PHONE_SIGN_IN_METHOD;Rb.PROVIDER_ID=Wr.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=j;class U8{constructor(e,n,r=Qs.app()){var i;$8((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new JV(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="auth-compat";function j8(t){t.INTERNAL.registerComponent(new Yr(V8,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new V0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ba.EMAIL_SIGNIN,PASSWORD_RESET:ba.PASSWORD_RESET,RECOVER_EMAIL:ba.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ba.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ba.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ba.VERIFY_EMAIL}},EmailAuthProvider:Hs,FacebookAuthProvider:Nr,GithubAuthProvider:Rr,GoogleAuthProvider:Ar,OAuthProvider:tu,SAMLAuthProvider:up,PhoneAuthProvider:Rb,PhoneMultiFactorGenerator:vR,RecaptchaVerifier:U8,TwitterAuthProvider:Pr,Auth:V0,AuthCredential:Hu,Error:dn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(b8,E8)}j8(Qs);var B8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof gt<"u"?gt:typeof self<"u"?self:{},ee,Pb=Pb||{},oe=B8||self;function fp(){}function Om(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function q8(t){return Object.prototype.hasOwnProperty.call(t,jy)&&t[jy]||(t[jy]=++z8)}var jy="closure_uid_"+(1e9*Math.random()>>>0),z8=0;function W8(t,e,n){return t.call.apply(t.bind,arguments)}function Q8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nn=W8:nn=Q8,nn.apply(null,arguments)}function bf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Jt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gs(){this.s=this.s,this.o=this.o}var H8=0;Gs.prototype.s=!1;Gs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),H8!=0)&&q8(this)};Gs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Db(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function WI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Om(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var G8=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",fp,e),oe.removeEventListener("test",fp,e)}catch{}return t}();function dp(t){return/^[\s\xa0]*$/.test(t)}var QI=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function By(t,e){return t<e?-1:t>e?1:0}function Nm(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return Nm().indexOf(t)!=-1}function Lb(t){return Lb[" "](t),t}Lb[" "]=fp;function K8(t){var e=X8;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Y8=Dr("Opera"),bu=Dr("Trident")||Dr("MSIE"),CR=Dr("Edge"),j0=CR||bu,xR=Dr("Gecko")&&!(Nm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),J8=Nm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function OR(){var t=oe.document;return t?t.documentMode:void 0}var pp;e:{var qy="",zy=function(){var t=Nm();if(xR)return/rv:([^\);]+)(\)|;)/.exec(t);if(CR)return/Edge\/([\d\.]+)/.exec(t);if(bu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(J8)return/WebKit\/(\S+)/.exec(t);if(Y8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(zy&&(qy=zy?zy[1]:""),bu){var Wy=OR();if(Wy!=null&&Wy>parseFloat(qy)){pp=String(Wy);break e}}pp=qy}var X8={};function Z8(){return K8(function(){let t=0;const e=QI(String(pp)).split("."),n=QI("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=By(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||By(i[2].length==0,s[2].length==0)||By(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var B0;if(oe.document&&bu){var HI=OR();B0=HI||parseInt(pp,10)||void 0}else B0=void 0;var eB=B0;function zc(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xR){e:{try{Lb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:tB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zc.X.h.call(this)}}Jt(zc,rn);var tB={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oh="closure_listenable_"+(1e6*Math.random()|0),nB=0;function rB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++nB,this.ba=this.ea=!1}function Am(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Fb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function NR(t){const e={};for(const n in t)e[n]=t[n];return e}const GI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<GI.length;s++)n=GI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rm(t){this.src=t,this.g={},this.h=0}Rm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=z0(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new rB(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function q0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Am(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function z0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Mb="closure_lm_"+(1e6*Math.random()|0),Qy={};function RR(t,e,n,r,i){if(r&&r.once)return DR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)RR(t,e[s],n,r,i);return null}return n=Vb(n),t&&t[Oh]?t.N(e,n,xh(r)?!!r.capture:!!r,i):PR(t,e,n,!1,r,i)}function PR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xh(i)?!!i.capture:!!i,a=Ub(t);if(a||(t[Mb]=a=new Rm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=iB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)G8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function iB(){function t(n){return e.call(t.src,t.listener,n)}const e=sB;return t}function DR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)DR(t,e[s],n,r,i);return null}return n=Vb(n),t&&t[Oh]?t.O(e,n,xh(r)?!!r.capture:!!r,i):PR(t,e,n,!0,r,i)}function LR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)LR(t,e[s],n,r,i);else r=xh(r)?!!r.capture:!!r,n=Vb(n),t&&t[Oh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=z0(s,n,r,i),-1<n&&(Am(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ub(t))&&(e=t.g[e.toString()],t=-1,e&&(t=z0(e,n,r,i)),(n=-1<t?e[t]:null)&&$b(n))}function $b(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Oh])q0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ub(e))?(q0(n,t),n.h==0&&(n.src=null,e[Mb]=null)):Am(t)}}}function FR(t){return t in Qy?Qy[t]:Qy[t]="on"+t}function sB(t,e){if(t.ba)t=!0;else{e=new zc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&$b(t),t=n.call(r,e)}return t}function Ub(t){return t=t[Mb],t instanceof Rm?t:null}var Hy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vb(t){return typeof t=="function"?t:(t[Hy]||(t[Hy]=function(e){return t.handleEvent(e)}),t[Hy])}function Dt(){Gs.call(this),this.i=new Rm(this),this.P=this,this.I=null}Jt(Dt,Gs);Dt.prototype[Oh]=!0;Dt.prototype.removeEventListener=function(t,e,n,r){LR(this,t,e,n,r)};function Ht(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;e=new rn(r,t),AR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ef(o,r,!0,e)&&i}if(o=e.g=t,i=Ef(o,r,!0,e)&&i,i=Ef(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ef(o,r,!1,e)&&i}Dt.prototype.M=function(){if(Dt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Am(n[r]);delete t.g[e],t.h--}}this.I=null};Dt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ef(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&q0(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var jb=oe.JSON.stringify;function oB(){var t=UR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class aB{constructor(){this.h=this.g=null}add(e,n){const r=MR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var MR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new uB,t=>t.reset());class uB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lB(t){oe.setTimeout(()=>{throw t},0)}function $R(t,e){W0||cB(),Q0||(W0(),Q0=!0),UR.add(t,e)}var W0;function cB(){var t=oe.Promise.resolve(void 0);W0=function(){t.then(hB)}}var Q0=!1,UR=new aB;function hB(){for(var t;t=oB();){try{t.h.call(t.g)}catch(n){lB(n)}var e=MR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Q0=!1}function Pm(t,e){Dt.call(this),this.h=t||1,this.g=e||oe,this.j=nn(this.lb,this),this.l=Date.now()}Jt(Pm,Dt);ee=Pm.prototype;ee.ca=!1;ee.R=null;ee.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ht(this,"tick"),this.ca&&(Bb(this),this.start()))}};ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bb(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ee.M=function(){Pm.X.M.call(this),Bb(this),delete this.g};function qb(t,e,n){if(typeof t=="function")n&&(t=nn(t,n));else if(t&&typeof t.handleEvent=="function")t=nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function VR(t){t.g=qb(()=>{t.g=null,t.i&&(t.i=!1,VR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class fB extends Gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VR(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(t){Gs.call(this),this.h=t,this.g={}}Jt(Wc,Gs);var KI=[];function jR(t,e,n,r){Array.isArray(n)||(n&&(KI[0]=n.toString()),n=KI);for(var i=0;i<n.length;i++){var s=RR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function BR(t){Fb(t.g,function(e,n){this.g.hasOwnProperty(n)&&$b(e)},t),t.g={}}Wc.prototype.M=function(){Wc.X.M.call(this),BR(this)};Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dm(){this.g=!0}Dm.prototype.Aa=function(){this.g=!1};function dB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function pB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function za(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gB(t,n)+(r?" "+r:"")})}function mB(t,e){t.info(function(){return"TIMEOUT: "+e})}Dm.prototype.info=function(){};function gB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return jb(n)}catch{return e}}var ha={},YI=null;function Lm(){return YI=YI||new Dt}ha.Pa="serverreachability";function qR(t){rn.call(this,ha.Pa,t)}Jt(qR,rn);function Qc(t){const e=Lm();Ht(e,new qR(e))}ha.STAT_EVENT="statevent";function zR(t,e){rn.call(this,ha.STAT_EVENT,t),this.stat=e}Jt(zR,rn);function hn(t){const e=Lm();Ht(e,new zR(e,t))}ha.Qa="timingevent";function WR(t,e){rn.call(this,ha.Qa,t),this.size=e}Jt(WR,rn);function Nh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Fm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},QR={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function zb(){}zb.prototype.h=null;function JI(t){return t.h||(t.h=t.i())}function HR(){}var Ah={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Wb(){rn.call(this,"d")}Jt(Wb,rn);function Qb(){rn.call(this,"c")}Jt(Qb,rn);var H0;function Mm(){}Jt(Mm,zb);Mm.prototype.g=function(){return new XMLHttpRequest};Mm.prototype.i=function(){return{}};H0=new Mm;function Rh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Wc(this),this.O=yB,t=j0?125:void 0,this.T=new Pm(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new GR}function GR(){this.i=null,this.g="",this.h=!1}var yB=45e3,G0={},mp={};ee=Rh.prototype;ee.setTimeout=function(t){this.O=t};function K0(t,e,n){t.K=1,t.v=Um(Ti(e)),t.s=n,t.P=!0,KR(t,null)}function KR(t,e){t.F=Date.now(),Ph(t),t.A=Ti(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),rP(n.i,"t",r),t.C=0,n=t.l.H,t.h=new GR,t.g=IP(t.l,n?e:null,!t.s),0<t.N&&(t.L=new fB(nn(t.La,t,t.g),t.N)),jR(t.S,t.g,"readystatechange",t.ib),e=t.H?NR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Qc(),dB(t.j,t.u,t.A,t.m,t.U,t.s)}ee.ib=function(t){t=t.target;const e=this.L;e&&pi(t)==3?e.l():this.La(t)};ee.La=function(t){try{if(t==this.g)e:{const c=pi(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||j0||this.g&&(this.h.h||this.g.fa()||tT(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Qc(3):Qc(2)),$m(this);var n=this.g.aa();this.Y=n;t:if(YR(this)){var r=tT(this.g);t="";var i=r.length,s=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),sc(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,pB(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dp(a)){var l=a;break t}}l=null}if(n=l)za(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Y0(this,n);else{this.i=!1,this.o=3,hn(12),Eo(this),sc(this);break e}}this.P?(JR(this,c,o),j0&&this.i&&c==3&&(jR(this.S,this.T,"tick",this.hb),this.T.start())):(za(this.j,this.m,o,null),Y0(this,o)),c==4&&Eo(this),this.i&&!this.I&&(c==4?bP(this.l,this):(this.i=!1,Ph(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Eo(this),sc(this)}}}catch{}finally{}};function YR(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function JR(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=vB(t,n),i==mp){e==4&&(t.o=4,hn(14),r=!1),za(t.j,t.m,null,"[Incomplete Response]");break}else if(i==G0){t.o=4,hn(15),za(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else za(t.j,t.m,i,null),Y0(t,i);YR(t)&&i!=mp&&i!=G0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zb(e),e.K=!0,hn(11))):(za(t.j,t.m,n,"[Invalid Chunked Response]"),Eo(t),sc(t))}ee.hb=function(){if(this.g){var t=pi(this.g),e=this.g.fa();this.C<e.length&&($m(this),JR(this,t,e),this.i&&t!=4&&Ph(this))}};function vB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?mp:(n=Number(e.substring(n,r)),isNaN(n)?G0:(r+=1,r+n>e.length?mp:(e=e.substr(r,n),t.C=r+n,e)))}ee.cancel=function(){this.I=!0,Eo(this)};function Ph(t){t.V=Date.now()+t.O,XR(t,t.O)}function XR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Nh(nn(t.gb,t),e)}function $m(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}ee.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(mB(this.j,this.A),this.K!=2&&(Qc(),hn(17)),Eo(this),this.o=2,sc(this)):XR(this,this.V-t)};function sc(t){t.l.G==0||t.I||bP(t.l,t)}function Eo(t){$m(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Bb(t.T),BR(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Y0(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||J0(n.h,t))){if(!t.J&&J0(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)vp(n),Bm(n);else break e;Xb(n),hn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Nh(nn(n.cb,n),6e3));if(1>=oP(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else So(n,11)}else if((t.J||n.g==t)&&vp(n),!dp(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.T=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.I=l[1],n.ka=l[2];const c=l[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=l[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hb(s,s.h),s.h=null))}if(r.D){const m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Ke(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=_P(r,r.H?r.ka:null,r.V),o.J){aP(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&($m(a),Ph(a)),r.g=o}else vP(r);0<n.i.length&&qm(n)}else l[0]!="stop"&&l[0]!="close"||So(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?So(n,7):Jb(n):l[0]!="noop"&&n.l&&n.l.wa(l),n.A=0)}}Qc(4)}catch{}}function wB(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Om(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function bB(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Om(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ZR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Om(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=bB(t),r=wB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ao(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ao){this.h=e!==void 0?e:t.h,gp(this,t.j),this.s=t.s,this.g=t.g,yp(this,t.m),this.l=t.l,e=t.i;var n=new Hc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),XI(this,n),this.o=t.o}else t&&(n=String(t).match(eP))?(this.h=!!e,gp(this,n[1]||"",!0),this.s=Ul(n[2]||""),this.g=Ul(n[3]||"",!0),yp(this,n[4]),this.l=Ul(n[5]||"",!0),XI(this,n[6]||"",!0),this.o=Ul(n[7]||"")):(this.h=!!e,this.i=new Hc(null,this.h))}Ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vl(e,ZI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vl(e,ZI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Vl(n,n.charAt(0)=="/"?IB:_B,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vl(n,kB)),t.join("")};function Ti(t){return new Ao(t)}function gp(t,e,n){t.j=n?Ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function XI(t,e,n){e instanceof Hc?(t.i=e,CB(t.i,t.h)):(n||(e=Vl(e,TB)),t.i=new Hc(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function Um(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ZI=/[#\/\?@]/g,_B=/[#\?:]/g,IB=/[#\?]/g,TB=/[#\?@]/g,kB=/#/g;function Hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ks(t){t.g||(t.g=new Map,t.h=0,t.i&&EB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Hc.prototype;ee.add=function(t,e){Ks(this),this.i=null,t=Ku(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tP(t,e){Ks(t),e=Ku(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nP(t,e){return Ks(t),e=Ku(t,e),t.g.has(e)}ee.forEach=function(t,e){Ks(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.oa=function(){Ks(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.W=function(t){Ks(this);let e=[];if(typeof t=="string")nP(this,t)&&(e=e.concat(this.g.get(Ku(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return Ks(this),this.i=null,t=Ku(this,t),nP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function rP(t,e,n){tP(t,e),0<n.length&&(t.i=null,t.g.set(Ku(t,e),Db(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ku(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function CB(t,e){e&&!t.j&&(Ks(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tP(this,r),rP(this,i,n))},t)),t.j=e}var xB=class{constructor(e,n){this.h=e,this.g=n}};function iP(t){this.l=t||OB,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ga&&oe.g.Ga()&&oe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OB=10;function sP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oP(t){return t.h?1:t.g?t.g.size:0}function J0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hb(t,e){t.g?t.g.add(e):t.h=e}function aP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iP.prototype.cancel=function(){if(this.i=uP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uP(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Db(t.i)}function Gb(){}Gb.prototype.stringify=function(t){return oe.JSON.stringify(t,void 0)};Gb.prototype.parse=function(t){return oe.JSON.parse(t,void 0)};function NB(){this.g=new Gb}function AB(t,e,n){const r=n||"";try{ZR(t,function(i,s){let o=i;xh(i)&&(o=jb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function RB(t,e){const n=new Dm;if(oe.Image){const r=new Image;r.onload=bf(Sf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bf(Sf,n,r,"TestLoadImage: error",!1,e),r.onabort=bf(Sf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bf(Sf,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Sf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dh(t){this.l=t.ac||null,this.j=t.jb||!1}Jt(Dh,zb);Dh.prototype.g=function(){return new Vm(this.l,this.j)};Dh.prototype.i=function(t){return function(){return t}}({});function Vm(t,e){Dt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Kb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jt(Vm,Dt);var Kb=0;ee=Vm.prototype;ee.open=function(t,e){if(this.readyState!=Kb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gc(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||oe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lh(this)),this.readyState=Kb};ee.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lP(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function lP(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ee.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lh(this):Gc(this),this.readyState==3&&lP(this)}};ee.Va=function(t){this.g&&(this.response=this.responseText=t,Lh(this))};ee.Ua=function(t){this.g&&(this.response=t,Lh(this))};ee.ga=function(){this.g&&Lh(this)};function Lh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gc(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var PB=oe.JSON.parse;function ut(t){Dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cP,this.K=this.L=!1}Jt(ut,Dt);var cP="",DB=/^https?$/i,LB=["POST","PUT"];ee=ut.prototype;ee.Ka=function(t){this.L=t};ee.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():H0.g(),this.C=this.u?JI(this.u):JI(H0),this.g.onreadystatechange=nn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){eT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=kR(LB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dP(this),0<this.B&&((this.K=FB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.qa,this)):this.A=qb(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){eT(this,s)}};function FB(t){return bu&&Z8()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.qa=function(){typeof Pb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function eT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hP(t),jm(t)}function hP(t){t.D||(t.D=!0,Ht(t,"complete"),Ht(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),jm(this))};ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jm(this,!0)),ut.X.M.call(this)};ee.Ha=function(){this.s||(this.F||this.v||this.l?fP(this):this.fb())};ee.fb=function(){fP(this)};function fP(t){if(t.h&&typeof Pb<"u"&&(!t.C[1]||pi(t)!=4||t.aa()!=2)){if(t.v&&pi(t)==4)qb(t.Ha,0,t);else if(Ht(t,"readystatechange"),pi(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(eP)[1]||null;if(!i&&oe.self&&oe.self.location){var s=oe.self.location.protocol;i=s.substr(0,s.length-1)}r=!DB.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var o=2<pi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",hP(t)}}finally{jm(t)}}}}function jm(t,e){if(t.g){dP(t);const n=t.g,r=t.C[0]?fp:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function dP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}function pi(t){return t.g?t.g.readyState:0}ee.aa=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}};ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),PB(e)}};function tT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case cP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ee.Ea=function(){return this.m};ee.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pP(t){let e="";return Fb(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mP(t){this.Ca=0,this.i=[],this.j=new Dm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=vl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=vl("baseRetryDelayMs",5e3,t),this.bb=vl("retryDelaySeedMs",1e4,t),this.$a=vl("forwardChannelMaxRetries",2,t),this.ta=vl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new iP(t&&t.concurrentRequestLimit),this.Fa=new NB,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ee=mP.prototype;ee.ma=8;ee.G=1;function Jb(t){if(gP(t),t.G==3){var e=t.U++,n=Ti(t.F);Ke(n,"SID",t.I),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Fh(t,n),e=new Rh(t,t.j,e,void 0),e.K=2,e.v=Um(Ti(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon&&(n=oe.navigator.sendBeacon(e.v.toString(),"")),!n&&oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=IP(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ph(e)}SP(t)}function Bm(t){t.g&&(Zb(t),t.g.cancel(),t.g=null)}function gP(t){Bm(t),t.u&&(oe.clearTimeout(t.u),t.u=null),vp(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function qm(t){sP(t.h)||t.m||(t.m=!0,$R(t.Ja,t),t.C=0)}function MB(t,e){return oP(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Nh(nn(t.Ja,t,e),EP(t,t.C)),t.C++,!0)}ee.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Rh(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=NR(s),AR(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yP(this,i,e),n=Ti(this.F),Ke(n,"RID",t),Ke(n,"CVER",22),this.D&&Ke(n,"X-HTTP-Session-Id",this.D),Fh(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(pP(s)))+"&"+e:this.o&&Yb(n,this.o,s)),Hb(this.h,i),this.Ya&&Ke(n,"TYPE","init"),this.O?(Ke(n,"$req",e),Ke(n,"SID","null"),i.Z=!0,K0(i,n,null)):K0(i,n,e),this.G=2}}else this.G==3&&(t?nT(this,t):this.i.length==0||sP(this.h)||nT(this))};function nT(t,e){var n;e?n=e.m:n=t.U++;const r=Ti(t.F);Ke(r,"SID",t.I),Ke(r,"RID",n),Ke(r,"AID",t.T),Fh(t,r),t.o&&t.s&&Yb(r,t.o,t.s),n=new Rh(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=yP(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Hb(t.h,n),K0(n,r,e)}function Fh(t,e){t.ia&&Fb(t.ia,function(n,r){Ke(e,r,n)}),t.l&&ZR({},function(n,r){Ke(e,r,n)})}function yP(t,e,n){n=Math.min(t.i.length,n);var r=t.l?nn(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{AB(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function vP(t){t.g||t.u||(t.Z=1,$R(t.Ia,t),t.A=0)}function Xb(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Nh(nn(t.Ia,t),EP(t,t.A)),t.A++,!0)}ee.Ia=function(){if(this.u=null,wP(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Nh(nn(this.eb,this),t)}};ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hn(10),Bm(this),wP(this))};function Zb(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function wP(t){t.g=new Rh(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ti(t.sa);Ke(e,"RID","rpc"),Ke(e,"SID",t.I),Ke(e,"CI",t.L?"0":"1"),Ke(e,"AID",t.T),Ke(e,"TYPE","xmlhttp"),Fh(t,e),t.o&&t.s&&Yb(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Um(Ti(e)),n.s=null,n.P=!0,KR(n,t)}ee.cb=function(){this.v!=null&&(this.v=null,Bm(this),Xb(this),hn(19))};function vp(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function bP(t,e){var n=null;if(t.g==e){vp(t),Zb(t),t.g=null;var r=2}else if(J0(t.h,e))n=e.D,aP(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Lm(),Ht(r,new WR(r,n)),qm(t)}else vP(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&MB(t,e)||r==2&&Xb(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:So(t,5);break;case 4:So(t,10);break;case 3:So(t,6);break;default:So(t,2)}}}function EP(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function So(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=nn(t.kb,t);n||(n=new Ao("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||gp(n,"https"),Um(n)),RB(n.toString(),r)}else hn(2);t.G=0,t.l&&t.l.va(e),SP(t),gP(t)}ee.kb=function(t){t?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function SP(t){if(t.G=0,t.la=[],t.l){const e=uP(t.h);(e.length!=0||t.i.length!=0)&&(WI(t.la,e),WI(t.la,t.i),t.h.i.length=0,Db(t.i),t.i.length=0),t.l.ua()}}function _P(t,e,n){var r=n instanceof Ao?Ti(n):new Ao(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),yp(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ao(null,void 0);r&&gp(s,r),e&&(s.g=e),i&&yp(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ma),Fh(t,r),r}function IP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ut(new Dh({jb:!0})):new ut(t.ra),e.Ka(t.H),e}function TP(){}ee=TP.prototype;ee.xa=function(){};ee.wa=function(){};ee.va=function(){};ee.ua=function(){};ee.Ra=function(){};function wp(){if(bu&&!(10<=Number(eB)))throw Error("Environmental error: no available transport.")}wp.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){Dt.call(this),this.g=new mP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!dp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dp(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Yu(this)}Jt(jn,Dt);jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;hn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=_P(t,null,t.V),qm(t)};jn.prototype.close=function(){Jb(this.g)};jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=jb(t),t=n);e.i.push(new xB(e.ab++,t)),e.G==3&&qm(e)};jn.prototype.M=function(){this.g.l=null,delete this.j,Jb(this.g),delete this.g,jn.X.M.call(this)};function kP(t){Wb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Jt(kP,Wb);function CP(){Qb.call(this),this.status=1}Jt(CP,Qb);function Yu(t){this.g=t}Jt(Yu,TP);Yu.prototype.xa=function(){Ht(this.g,"a")};Yu.prototype.wa=function(t){Ht(this.g,new kP(t))};Yu.prototype.va=function(t){Ht(this.g,new CP)};Yu.prototype.ua=function(){Ht(this.g,"b")};wp.prototype.createWebChannel=wp.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;Fm.NO_ERROR=0;Fm.TIMEOUT=8;Fm.HTTP_ERROR=6;QR.COMPLETE="complete";HR.EventType=Ah;Ah.OPEN="a";Ah.CLOSE="b";Ah.ERROR="c";Ah.MESSAGE="d";Dt.prototype.listen=Dt.prototype.N;ut.prototype.listenOnce=ut.prototype.O;ut.prototype.getLastError=ut.prototype.Oa;ut.prototype.getLastErrorCode=ut.prototype.Ea;ut.prototype.getStatus=ut.prototype.aa;ut.prototype.getResponseJson=ut.prototype.Sa;ut.prototype.getResponseText=ut.prototype.fa;ut.prototype.send=ut.prototype.da;ut.prototype.setWithCredentials=ut.prototype.Ka;var $B=function(){return new wp},UB=function(){return Lm()},Gy=Fm,VB=QR,jB=ha,rT={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},BB=Dh,_f=HR,qB=ut;const iT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new ym("@firebase/firestore");function X0(){return xs.logLevel}function zB(t){xs.setLogLevel(t)}function $(t,...e){if(xs.logLevel<=be.DEBUG){const n=e.map(eE);xs.debug(`Firestore (${Ju}): ${t}`,...n)}}function pt(t,...e){if(xs.logLevel<=be.ERROR){const n=e.map(eE);xs.error(`Firestore (${Ju}): ${t}`,...n)}}function Eu(t,...e){if(xs.logLevel<=be.WARN){const n=e.map(eE);xs.warn(`Firestore (${Ju}): ${t}`,...n)}}function eE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t="Unexpected state"){const e=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: `+t;throw pt(e),new Error(e)}function te(t,e){t||H()}function WB(t,e){t||H()}function W(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let L=class extends dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xP=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class QB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}let HB=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},GB=class{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new xP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new Nt(e)}},KB=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(te(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},YB=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new KB(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},JB=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},XB=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.A=n.token,new JB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OP=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function le(t,e){return t<e?-1:t>e?1:0}function Su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function NP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Je(0,0))}static max(){return new ne(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends Kc{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const eq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Kc{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return eq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(ve.fromString(e))}static fromName(e){return new z(ve.fromString(e).popFirst(5))}static empty(){return new z(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Z0(t){return t.fields.find(e=>e.kind===2)}function oo(t){return t.fields.filter(e=>e.kind!==2)}AP.UNKNOWN_ID=-1;class tq{constructor(e,n){this.fieldPath=e,this.kind=n}}class bp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bp(0,Bn.min())}}function RP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Bn(i,z.empty(),e)}function PP(t){return new Bn(t.readTime,t.key,-1)}class Bn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bn(ne.min(),z.empty(),-1)}static max(){return new Bn(ne.max(),z.empty(),-1)}}function tE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==DP)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Rt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new oc(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=nE(r.target.error);this.P.reject(new oc(e,i))}}static open(e,n,r,i){try{return new zm(n,e.transaction(i,r))}catch(s){throw new oc(n,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||($("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new rq(n)}}class gr{constructor(e,n,r){this.name=e,this.version=n,this.S=r,gr.D(rt())===12.2&&pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $("SimpleDb","Removing database:",e),co(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Fc())return!1;if(gr.N())return!0;const e=rt(),n=gr.D(e),r=0<n&&n<10,i=gr.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof Is<"u"&&((e=Is.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||($("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new oc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new L(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new oc(e,o))},i.onupgradeneeded=s=>{$("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.$(o,i.transaction,s.oldVersion,this.version).next(()=>{$("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.F(e);const a=zm.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.V(),l)).catch(l=>(a.abort(l),O.reject(l))).toPromise();return u.catch(()=>{}),await a.v,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if($("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class nq{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return co(this.q.delete())}}class oc extends L{constructor(e,n){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Js(t){return t.name==="IndexedDbTransactionError"}class rq{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?($("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),co(r)}add(e){return $("SimpleDb","ADD",this.store.name,e,e),co(this.store.add(e))}get(e){return co(this.store.get(e)).next(n=>(n===void 0&&(n=null),$("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $("SimpleDb","DELETE",this.store.name,e),co(this.store.delete(e))}count(){return $("SimpleDb","COUNT",this.store.name),co(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new O((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){$("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new O((r,i)=>{n.onerror=s=>{const o=nE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new O((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new nq(a),l=n(a.primaryKey,a.value,u);if(l instanceof O){const c=l.catch(h=>(u.done(),O.reject(h)));r.push(c)}u.isDone?i():u.G===null?a.continue():a.continue(u.G)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function co(t){return new O((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=nE(r.target.error);n(i)}})}let sT=!1;function nE(t){const e=gr.D(rt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sT||(sT=!0,setTimeout(()=>{throw r},0)),r}}return t}class iq{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){$("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{$("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){Js(n)?$("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ys(n)}await this.nt(6e4)})}}class sq{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return O.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return $("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>($("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=PP(s);tE(o,r)>0&&(r=o)}),new Bn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Sn.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Os{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Os("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Os&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){return t==null}function Yc(t){return t===0&&1/t==-1/0}function MP(t){return typeof t=="number"&&Number.isInteger(t)&&!Yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new It(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const uq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(te(!!t),typeof t=="string"){let e=0;const n=uq.exec(t);if(te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $P(t){const e=t.mapValue.fields.__previous_value__;return rE(e)?$P(e):e}function Jc(t){const e=Ns(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ed={nullValue:"NULL_VALUE"};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rE(t)?4:UP(t)?9007199254740991:10:H()}function Xr(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ns(r.timestampValue),o=Ns(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Bo(r.bytesValue).isEqual(Bo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ot(r.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ot(r.integerValue)===ot(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ot(r.doubleValue),o=ot(i.doubleValue);return s===o?Yc(s)===Yc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(oT(s)!==oT(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Xr(s[a],o[a])))return!1;return!0}(t,e);default:return H()}}function Xc(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function As(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ot(i.integerValue||i.doubleValue),a=ot(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT(Jc(t),Jc(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Bo(i),a=Bo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=le(o[u],a[u]);if(l!==0)return l}return le(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=le(ot(i.latitude),ot(s.latitude));return o!==0?o:le(ot(i.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=As(o[u],a[u]);if(l)return l}return le(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===os.mapValue&&s===os.mapValue)return 0;if(i===os.mapValue)return 1;if(s===os.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const h=le(a[c],l[c]);if(h!==0)return h;const f=As(o[a[c]],u[l[c]]);if(f!==0)return f}return le(a.length,l.length)}(t.mapValue,e.mapValue);default:throw H()}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Ns(t),r=Ns(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function _u(t){return ew(t)}function ew(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ns(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ew(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ew(r.fields[a])}`;return s+"}"}(t.mapValue):H();var e,n}function zo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tw(t){return!!t&&"integerValue"in t}function Zc(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function td(t){return!!t&&"mapValue"in t}function ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ac(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function lq(t){return"nullValue"in t?ed:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zo(Os.empty(),z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:H()}function cq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zo(Os.empty(),z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?os:H()}function cT(t,e){const n=As(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function hT(t,e){const n=As(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.position=e,this.inclusive=n}}function fT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=As(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class de extends VP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hq(e,n,r):n==="array-contains"?new pq(e,r):n==="in"?new QP(e,r):n==="not-in"?new mq(e,r):n==="array-contains-any"?new gq(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fq(e,r):new dq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(As(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pe extends VP{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Pe(e,n)}matches(e){return Iu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Iu(t){return t.op==="and"}function nw(t){return t.op==="or"}function iE(t){return jP(t)&&Iu(t)}function jP(t){for(const e of t.filters)if(e instanceof Pe)return!1;return!0}function rw(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+_u(t.value);if(iE(t))return t.filters.map(e=>rw(e)).join(",");{const e=t.filters.map(n=>rw(n)).join(",");return`${t.op}(${e})`}}function BP(t,e){return t instanceof de?function(n,r){return r instanceof de&&n.op===r.op&&n.field.isEqual(r.field)&&Xr(n.value,r.value)}(t,e):t instanceof Pe?function(n,r){return r instanceof Pe&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&BP(s,r.filters[o]),!0):!1}(t,e):void H()}function qP(t,e){const n=t.filters.concat(e);return Pe.create(n,t.op)}function zP(t){return t instanceof de?function(e){return`${e.field.canonicalString()} ${e.op} ${_u(e.value)}`}(t):t instanceof Pe?function(e){return e.op.toString()+" {"+e.getFilters().map(zP).join(" ,")+"}"}(t):"Filter"}class hq extends de{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class fq extends de{constructor(e,n){super(e,"in",n),this.keys=WP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dq extends de{constructor(e,n){super(e,"not-in",n),this.keys=WP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class pq extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zc(n)&&Xc(n.arrayValue,this.value)}}class QP extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class mq extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class gq extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function yq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ea(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new $e(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ac(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(ac(this.value))}}function HP(t){const e=[];return fa(t.fields,(n,r)=>{const i=new mt([n]);if(td(r)){const s=HP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,ne.min(),ne.min(),ne.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new qe(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new qe(e,2,n,ne.min(),ne.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new qe(e,3,n,ne.min(),ne.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vq=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}};function iw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vq(t,e,n,r,i,s,o)}function Wo(t){const e=W(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_u(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_u(r)).join(",")),e.ft=n}return e.ft}function $h(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dT(t.startAt,e.startAt)&&dT(t.endAt,e.endAt)}function Ep(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sp(t,e){return t.filters.filter(n=>n instanceof de&&n.field.isEqual(e))}function mT(t,e,n){let r=ed,i=!0;for(const s of Sp(t,e)){let o=ed,a=!0;switch(s.op){case"<":case"<=":o=lq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ed}cT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];cT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function gT(t,e,n){let r=os,i=!0;for(const s of Sp(t,e)){let o=os,a=!0;switch(s.op){case">=":case">":o=cq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=os}hT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];hT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}};function GP(t,e,n,r,i,s,o,a){return new Ri(t,e,n,r,i,s,o,a)}function Xu(t){return new Ri(t)}function yT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function oE(t){return t.collectionGroup!==null}function Ro(t){const e=W(t);if(e.dt===null){e.dt=[];const n=Wm(e),r=sE(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new ru(n)),e.dt.push(new ru(mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ru(mt.keyField(),s))}}}return e.dt}function On(t){const e=W(t);if(!e._t)if(e.limitType==="F")e._t=iw(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ro(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ru(s.field,o))}const r=e.endAt?new Rs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Rs(e.startAt.position,e.startAt.inclusive):null;e._t=iw(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function sw(t,e){e.getFirstInequalityField(),Wm(t);const n=t.filters.concat([e]);return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _p(t,e,n){return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uh(t,e){return $h(On(t),On(e))&&t.limitType===e.limitType}function KP(t){return`${Wo(On(t))}|lt:${t.limitType}`}function ow(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>zP(r)).join(", ")}]`),Mh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_u(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_u(r)).join(",")),`Target(${n})`}(On(t))}; limitType=${t.limitType})`}function aE(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ro(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=fT(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ro(n),r)||n.endAt&&!function(i,s,o){const a=fT(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ro(n),r))}(t,e)}function YP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JP(t){return(e,n)=>{let r=!1;for(const i of Ro(t)){const s=wq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wq(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?As(a,u):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function ZP(t){return{integerValue:""+t}}function eD(t,e){return MP(e)?ZP(e):XP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this._=void 0}}function bq(t,e,n){return t instanceof Tu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qo?nD(t,e):t instanceof Ho?rD(t,e):function(r,i){const s=tD(r,i),o=vT(s)+vT(r.gt);return tw(s)&&tw(r.gt)?ZP(o):XP(r.yt,o)}(t,e)}function Eq(t,e,n){return t instanceof Qo?nD(t,e):t instanceof Ho?rD(t,e):n}function tD(t,e){return t instanceof ku?tw(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Tu extends Qm{}class Qo extends Qm{constructor(e){super(),this.elements=e}}function nD(t,e){const n=iD(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends Qm{constructor(e){super(),this.elements=e}}function rD(t,e){let n=iD(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class ku extends Qm{constructor(e,n){super(),this.yt=e,this.gt=n}}function vT(t){return ot(t.integerValue||t.doubleValue)}function iD(t){return Zc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.field=e,this.transform=n}}function Sq(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Qo&&r instanceof Qo||n instanceof Ho&&r instanceof Ho?Su(n.elements,r.elements,Xr):n instanceof ku&&r instanceof ku?Xr(n.gt,r.gt):n instanceof Tu&&r instanceof Tu}(t.transform,e.transform)}class _q{constructor(e,n){this.version=e,this.transformResults=n}}class Ye{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hm{}function sD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new el(t.key,Ye.none()):new Zu(t.key,t.data,Ye.none());{const n=t.data,r=zt.empty();let i=new $e(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pi(t.key,r,new _n(i.toArray()),Ye.none())}}function Iq(t,e,n){t instanceof Zu?function(r,i,s){const o=r.value.clone(),a=bT(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(r,i,s){if(!nd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=bT(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(oD(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function uc(t,e,n,r){return t instanceof Zu?function(i,s,o,a){if(!nd(i.precondition,s))return o;const u=i.value.clone(),l=ET(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,s,o,a){if(!nd(i.precondition,s))return o;const u=ET(i.fieldTransforms,a,s),l=s.data;return l.setAll(oD(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return nd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Tq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tD(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function wT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Su(n,r,(i,s)=>Sq(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends Hm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends Hm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bT(t,e,n){const r=new Map;te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Eq(o,a,n[i]))}return r}function ET(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bq(s,o,e))}return r}class el extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uE extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ye;function aD(t){switch(t){default:return H();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function uD(t){if(t===void 0)return pt("GRPC error has no .code"),A.UNKNOWN;switch(t){case vt.OK:return A.OK;case vt.CANCELLED:return A.CANCELLED;case vt.UNKNOWN:return A.UNKNOWN;case vt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case vt.INTERNAL:return A.INTERNAL;case vt.UNAVAILABLE:return A.UNAVAILABLE;case vt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case vt.NOT_FOUND:return A.NOT_FOUND;case vt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case vt.ABORTED:return A.ABORTED;case vt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case vt.DATA_LOSS:return A.DATA_LOSS;default:return H()}}(ye=vt||(vt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=new lt(z.comparator);function In(){return Cq}const lD=new lt(z.comparator);function jl(...t){let e=lD;for(const n of t)e=e.insert(n.key,n);return e}function cD(t){let e=lD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return lc()}function hD(){return lc()}function lc(){return new Xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const xq=new lt(z.comparator),Oq=new $e(z.comparator);function ce(...t){let e=Oq;for(const n of t)e=e.add(n);return e}const Nq=new $e(le);function Gm(){return Nq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(ne.min(),i,Gm(),In(),ce())}}class Bh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bh(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class fD{constructor(e,n){this.targetId=e,this.Et=n}}class dD{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ST{constructor(){this.At=0,this.Rt=IT(),this.bt=It.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ce(),n=ce(),r=ce();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Bh(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=IT()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Aq{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=In(),this.qt=_T(),this.Ut=new $e(le)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Ep(s))if(r===0){const o=new z(s.path);this.Qt(n,o,qe.newNoDocument(o,ne.min()))}else te(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ep(a.target)){const u=new z(a.target.path);this.Lt.get(u)!==null||this.te(o,u)||this.Qt(o,u,qe.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ce();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Yt(u);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new jh(e,n,this.Ut,this.Lt,r);return this.Lt=In(),this.qt=_T(),this.Ut=new $e(le),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new ST,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new $e(le),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ST),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function _T(){return new lt(z.comparator)}function IT(){return new lt(z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Pq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Dq=(()=>({and:"AND",or:"OR"}))();class Lq{constructor(e,n){this.databaseId=e,this.wt=n}}function Cu(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pD(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Fq(t,e){return Cu(t,e.toTimestamp())}function yt(t){return te(!!t),ne.fromTimestamp(function(e){const n=Ns(e);return new Je(n.seconds,n.nanos)}(t))}function lE(t,e){return function(n){return new ve(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function mD(t){const e=ve.fromString(t);return te(ID(e)),e}function eh(t,e){return lE(t.databaseId,e.path)}function Qr(t,e){const n=mD(e);if(n.get(1)!==t.databaseId.projectId)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(yD(n))}function aw(t,e){return lE(t.databaseId,e)}function gD(t){const e=mD(t);return e.length===4?ve.emptyPath():yD(e)}function th(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yD(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TT(t,e,n){return{name:eh(t,e),fields:n.value.mapValue.fields}}function vD(t,e,n){const r=Qr(t,e.name),i=yt(e.updateTime),s=e.createTime?yt(e.createTime):ne.min(),o=new zt({mapValue:{fields:e.fields}}),a=qe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Mq(t,e){return"found"in e?function(n,r){te(!!r.found),r.found.name,r.found.updateTime;const i=Qr(n,r.found.name),s=yt(r.found.updateTime),o=r.found.createTime?yt(r.found.createTime):ne.min(),a=new zt({mapValue:{fields:r.found.fields}});return qe.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){te(!!r.missing),te(!!r.readTime);const i=Qr(n,r.missing),s=yt(r.readTime);return qe.newNoDocument(i,s)}(t,e):H()}function $q(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.wt?(te(l===void 0||typeof l=="string"),It.fromBase64String(l||"")):(te(l===void 0||l instanceof Uint8Array),It.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=u.code===void 0?A.UNKNOWN:uD(u.code);return new L(l,u.message||"")}(o);n=new dD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qr(t,r.document.name),s=yt(r.document.updateTime),o=r.document.createTime?yt(r.document.createTime):ne.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=qe.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new rd(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qr(t,r.document),s=r.readTime?yt(r.readTime):ne.min(),o=qe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qr(t,r.document),s=r.removedTargetIds||[];n=new rd([],s,i,null)}else{if(!("filter"in e))return H();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new kq(i),o=r.targetId;n=new fD(o,s)}}return n}function nh(t,e){let n;if(e instanceof Zu)n={update:TT(t,e.key,e.value)};else if(e instanceof el)n={delete:eh(t,e.key)};else if(e instanceof Pi)n={update:TT(t,e.key,e.data),updateMask:zq(e.fieldMask)};else{if(!(e instanceof uE))return H();n={verify:eh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Tu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ho)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ku)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Fq(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(t,e.precondition)),n}function uw(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ye.updateTime(yt(i.updateTime)):i.exists!==void 0?Ye.exists(i.exists):Ye.none()}(e.currentDocument):Ye.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)te(o.setToServerValue==="REQUEST_TIME"),a=new Tu;else if("appendMissingElements"in o){const l=o.appendMissingElements.values||[];a=new Qo(l)}else if("removeAllFromArray"in o){const l=o.removeAllFromArray.values||[];a=new Ho(l)}else"increment"in o?a=new ku(s,o.increment):H();const u=mt.fromServerFormat(o.fieldPath);return new Vh(u,a)}(t,i)):[];if(e.update){e.update.name;const i=Qr(t,e.update.name),s=new zt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const u=a.fieldPaths||[];return new _n(u.map(l=>mt.fromServerFormat(l)))}(e.updateMask);return new Pi(i,s,o,n,r)}return new Zu(i,s,n,r)}if(e.delete){const i=Qr(t,e.delete);return new el(i,n)}if(e.verify){const i=Qr(t,e.verify);return new uE(i,n)}return H()}function Uq(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?yt(r.updateTime):yt(i);return s.isEqual(ne.min())&&(s=yt(i)),new _q(s,r.transformResults||[])}(n,e))):[]}function wD(t,e){return{documents:[aw(t,e.path)]}}function bD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=aw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=aw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return _D(Pe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:Ca(c.field),direction:jq(c.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(u,l){return u.wt||Mh(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function ED(t){let e=gD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){te(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=SD(c);return h instanceof Pe&&iE(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new ru(xa(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Mh(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(c){const h=!!c.before,f=c.values||[];return new Rs(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const h=!c.before,f=c.values||[];return new Rs(f,h)}(n.endAt)),GP(e,i,o,s,a,"F",u,l)}function Vq(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function SD(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=xa(e.unaryFilter.field);return de.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=xa(e.unaryFilter.field);return de.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xa(e.unaryFilter.field);return de.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xa(e.unaryFilter.field);return de.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(e){return de.create(xa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Pe.create(e.compositeFilter.filters.map(n=>SD(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(t):H()}function jq(t){return Rq[t]}function Bq(t){return Pq[t]}function qq(t){return Dq[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function xa(t){return mt.fromServerFormat(t.fieldPath)}function _D(t){return t instanceof de?function(e){if(e.op==="=="){if(lT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NAN"}};if(uT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NAN"}};if(uT(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(e.field),op:Bq(e.op),value:e.value}}}(t):t instanceof Pe?function(e){const n=e.getFilters().map(r=>_D(r));return n.length===1?n[0]:{compositeFilter:{op:qq(e.op),filters:n}}}(t):H()}function zq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ID(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kT(e)),e=Wq(t.get(n),e);return kT(e)}function Wq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function kT(t){return t+""}function Ur(t){const e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),ve.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&H(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:H()}s=o+2}return new ve(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e){return[t,pn(e)]}function TD(t,e,n){return[t,pn(e),n]}const Qq={},Hq=["prefixPath","collectionGroup","readTime","documentId"],Gq=["prefixPath","collectionGroup","documentId"],Kq=["collectionGroup","readTime","prefixPath","documentId"],Yq=["canonicalId","targetId"],Jq=["targetId","path"],Xq=["path","targetId"],Zq=["collectionId","parent"],e9=["indexId","uid"],t9=["uid","sequenceNumber"],n9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],r9=["indexId","uid","orderedDocumentKey"],i9=["userId","collectionPath","documentId"],s9=["userId","collectionPath","largestBatchId"],o9=["userId","collectionGroup","largestBatchId"],kD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],a9=[...kD,"documentOverlays"],CD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xD=CD,u9=[...xD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends LP{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function Ft(t,e){const n=W(t);return gr.M(n.se,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Iq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=sD(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(n,r)=>wT(n,r))&&Su(this.baseMutations,e.baseMutations,(n,r)=>wT(n,r))}}class hE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){te(e.mutations.length===r.length);let i=xq;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=It.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.ie=e}}function l9(t,e){let n;if(e.document)n=vD(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=z.fromSegments(e.noDocument.path),i=Ko(e.noDocument.readTime);n=qe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return H();{const r=z.fromSegments(e.unknownDocument.path),i=Ko(e.unknownDocument.version);n=qe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Je(r[0],r[1]);return ne.fromTimestamp(i)}(e.readTime)),n}function xT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ip(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:eh(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Cu(i,s.version.toTimestamp()),createTime:Cu(i,s.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Go(e.version)};else{if(!e.isUnknownDocument())return H();r.unknownDocument={path:n.path.toArray(),version:Go(e.version)}}return r}function Ip(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Go(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ko(t){const e=new Je(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function ho(t,e){const n=(e.baseMutations||[]).map(s=>uw(t.ie,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>uw(t.ie,s)),i=Je.fromMillis(e.localWriteTimeMs);return new cE(e.batchId,i,n,r)}function Bl(t){const e=Ko(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ko(t.lastLimboFreeSnapshotVersion):ne.min();let r;var i;return t.query.documents!==void 0?(te((i=t.query).documents.length===1),r=On(Xu(gD(i.documents[0])))):r=function(s){return On(ED(s))}(t.query),new vs(r,t.targetId,0,t.lastListenSequenceNumber,e,n,It.fromBase64String(t.resumeToken))}function ND(t,e){const n=Go(e.snapshotVersion),r=Go(e.lastLimboFreeSnapshotVersion);let i;i=Ep(e.target)?wD(t.ie,e.target):bD(t.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dE(t){const e=ED({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}function Ky(t,e){return new fE(e.largestBatchId,uw(t.ie,e.overlayMutation))}function OT(t,e){const n=e.path.lastSegment();return[t,pn(e.path.popLast()),n]}function NT(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Go(r.readTime),documentKey:pn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{getBundleMetadata(e,n){return AT(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ko(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return AT(e).put({bundleId:(r=n).id,createTime:Go(yt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return RT(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:dE(i.bundledQuery),readTime:Ko(i.readTime)};var i})}saveNamedQuery(e,n){return RT(e).put(function(r){return{name:r.name,readTime:Go(yt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function AT(t){return Ft(t,"bundles")}function RT(t){return Ft(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){const r=n.uid||"";return new Km(e,r)}getOverlay(e,n){return wl(e).get(OT(this.userId,n)).next(r=>r?Ky(this.yt,r):null)}getOverlays(e,n){const r=$r();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new fE(n,o);i.push(this.oe(e,a))}),O.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(pn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(wl(e).Y("collectionPathOverlayIndex",a))}),O.waitFor(s)}getOverlaysForCollection(e,n,r){const i=$r(),s=pn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return wl(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=Ky(this.yt,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=$r();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return wl(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,l,c)=>{const h=Ky(this.yt,l);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):c.done()}).next(()=>s)}oe(e,n){return wl(e).put(function(r,i,s){const[o,a,u]=OT(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:nh(r.ie,s.mutation)}}(this.yt,this.userId,n))}}function wl(t){return Ft(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),Yc(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),typeof r=="string"?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(Bo(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?UP(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):H()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),z.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}fo.Ie=new fo;function h9(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function PT(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=h9(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class f9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ee(r.value),r=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.be(r.value),r=n.next();this.Pe()}ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=n.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=n.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const n=this.De(e),r=PT(n);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}xe(e){const n=this.De(e),r=PT(n);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ee(e){const n=255&e;n===0?(this.ke(0),this.ke(255)):n===255?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;n===0?(this.Me(0),this.Me(255)):n===255?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class d9{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class p9{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class bl{constructor(){this.$e=new f9,this.Be=new d9(this.$e),this.Le=new p9(this.$e)}seed(e){this.$e.seed(e)}qe(e){return e===0?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new po(this.indexId,this.documentKey,this.arrayValue,r)}}function $i(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=DT(t.arrayValue,e.arrayValue),n!==0?n:(n=DT(t.directionalValue,e.directionalValue),n!==0?n:z.comparator(t.documentKey,e.documentKey)))}function DT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const r=n;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){te(e.collectionGroup===this.collectionId);const n=Z0(e);if(n!==void 0&&!this.We(n))return!1;const r=oo(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(this.Qe!==void 0){const o=r[i];if(!this.ze(this.Qe,o)||!this.He(this.Ke[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],o))return!1}return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){var e,n;if(te(t instanceof de||t instanceof Pe),t instanceof de){if(t instanceof QP){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>de.create(t.field,"==",s)))||[];return Pe.create(i,"or")}return t}const r=t.filters.map(i=>AD(i));return Pe.create(r,t.op)}function g9(t){if(t.getFilters().length===0)return[];const e=fw(AD(t));return te(RD(e)),cw(e)||hw(e)?[e]:e.getFilters()}function cw(t){return t instanceof de}function hw(t){return t instanceof Pe&&iE(t)}function RD(t){return cw(t)||hw(t)||function(e){if(e instanceof Pe&&nw(e)){for(const n of e.getFilters())if(!cw(n)&&!hw(n))return!1;return!0}return!1}(t)}function fw(t){if(te(t instanceof de||t instanceof Pe),t instanceof de)return t;if(t.filters.length===1)return fw(t.filters[0]);const e=t.filters.map(r=>fw(r));let n=Pe.create(e,t.op);return n=Tp(n),RD(n)?n:(te(n instanceof Pe),te(Iu(n)),te(n.filters.length>1),n.filters.reduce((r,i)=>pE(r,i)))}function pE(t,e){let n;return te(t instanceof de||t instanceof Pe),te(e instanceof de||e instanceof Pe),n=t instanceof de?e instanceof de?function(r,i){return Pe.create([r,i],"and")}(t,e):LT(t,e):e instanceof de?LT(e,t):function(r,i){if(te(r.filters.length>0&&i.filters.length>0),Iu(r)&&Iu(i))return qP(r,i.getFilters());const s=nw(r)?r:i,o=nw(r)?i:r,a=s.filters.map(u=>pE(u,o));return Pe.create(a,"or")}(t,e),Tp(n)}function LT(t,e){if(Iu(e))return qP(e,t.getFilters());{const n=e.filters.map(r=>pE(t,r));return Pe.create(n,"or")}}function Tp(t){if(te(t instanceof de||t instanceof Pe),t instanceof de)return t;const e=t.getFilters();if(e.length===1)return Tp(e[0]);if(jP(t))return t;const n=e.map(i=>Tp(i)),r=[];return n.forEach(i=>{i instanceof de?r.push(i):i instanceof Pe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Pe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.Je=new mE}addToCollectionParentIndex(e,n){return this.Je.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Bn.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class mE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Uint8Array(0);class v9{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new mE,this.Xe=new Xs(r=>Wo(r),(r,i)=>$h(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const s={collectionId:r,parent:pn(i)};return FT(e).put(s)}return O.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[NP(n),""],!1,!0);return FT(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ur(o.parent))}return r})}addFieldIndex(e,n){const r=kf(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Sl(e);return s.next(a=>{o.put(NT(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=kf(e),i=Sl(e),s=El(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=El(e);let i=!0;const s=new Map;return O.forEach(this.Ze(n),o=>this.tn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ce();const a=[];return O.forEach(s,(u,l)=>{var c;$("IndexedDbIndexManager",`Using index ${c=u,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`} to execute ${Wo(n)}`);const h=function(w,E){const _=Z0(E);if(_===void 0)return null;for(const T of Sp(w,_.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(l,u),f=function(w,E){const _=new Map;for(const T of oo(E))for(const k of Sp(w,T.fieldPath))switch(k.op){case"==":case"in":_.set(T.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return _.set(T.fieldPath.canonicalString(),k.value),Array.from(_.values())}return null}(l,u),d=function(w,E){const _=[];let T=!0;for(const k of oo(E)){const x=k.kind===0?mT(w,k.fieldPath,w.startAt):gT(w,k.fieldPath,w.startAt);_.push(x.value),T&&(T=x.inclusive)}return new Rs(_,T)}(l,u),p=function(w,E){const _=[];let T=!0;for(const k of oo(E)){const x=k.kind===0?gT(w,k.fieldPath,w.endAt):mT(w,k.fieldPath,w.endAt);_.push(x.value),T&&(T=x.inclusive)}return new Rs(_,T)}(l,u),m=this.en(u,l,d),b=this.en(u,l,p),g=this.nn(u,l,f),y=this.sn(u.indexId,h,m,d.inclusive,b,p.inclusive,g);return O.forEach(y,w=>r.J(w,n.limit).next(E=>{E.forEach(_=>{const T=z.fromSegments(_.documentKey);o.has(T)||(o=o.add(T),a.push(T))})}))}).next(()=>a)}return O.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(e.filters.length===0?n=[e]:n=g9(Pe.create(e.filters,"and")).map(r=>iw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),c=[];for(let h=0;h<u;++h){const f=n?this.rn(n[h/l]):Tf,d=this.on(e,f,r[h%l],i),p=this.un(e,f,s[h%l],o),m=a.map(b=>this.on(e,f,b,!0));c.push(...this.createRange(d,p,m))}return c}on(e,n,r,i){const s=new po(e,z.empty(),n,r);return i?s:s.Ue()}un(e,n,r,i){const s=new po(e,z.empty(),n,r);return i?s.Ue():s}tn(e,n){const r=new m9(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.je(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Ze(n);return O.forEach(i,s=>this.tn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let u=new $e(mt.comparator),l=!1;for(const c of a.filters)for(const h of c.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?l=!0:u=u.add(h.field));for(const c of a.orderBy)c.field.isKeyField()||(u=u.add(c.field));return u.size+(l?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}cn(e,n){const r=new bl;for(const i of oo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.qe(i.kind);fo.Ie.ue(s,o)}return r.Fe()}rn(e){const n=new bl;return fo.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const r=new bl;return fo.Ie.ue(zo(this.databaseId,n),r.qe(function(i){const s=oo(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,n,r){if(r===null)return[];let i=[];i.push(new bl);let s=0;for(const o of oo(e)){const a=r[s++];for(const u of i)if(this.hn(n,o.fieldPath)&&Zc(a))i=this.ln(i,o,a);else{const l=u.qe(o.kind);fo.Ie.ue(a,l)}}return this.fn(i)}en(e,n,r){return this.nn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Fe();return n}ln(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new bl;u.seed(a.Fe()),fo.Ie.ue(o,u.qe(n.kind)),s.push(u)}return s}hn(e,n){return!!e.filters.find(r=>r instanceof de&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=kf(e),i=Sl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return O.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(l,c){const h=c?new bp(c.sequenceNumber,new Bn(Ko(c.readTime),new z(Ur(c.documentKey)),c.largestBatchId)):bp.empty(),f=l.fields.map(([d,p])=>new tq(mt.fromServerFormat(d),p));return new AP(l.indexId,l.collectionGroup,f,h)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:le(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=kf(e),s=Sl(e);return this.dn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>O.forEach(a,u=>s.put(NT(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return O.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?O.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),O.forEach(a,u=>this._n(e,i,u).next(l=>{const c=this.wn(s,u);return l.isEqual(c)?O.resolve():this.mn(e,s,u,l,c)}))))})}gn(e,n,r,i){return El(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,n.key),documentKey:n.key.path.toArray()})}yn(e,n,r,i){return El(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,n.key),n.key.path.toArray()])}_n(e,n,r){const i=El(e);let s=new $e($i);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,n)])},(o,a)=>{s=s.add(new po(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new $e($i);const i=this.cn(n,e);if(i==null)return r;const s=Z0(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Zc(o))for(const a of o.arrayValue.values||[])r=r.add(new po(n.indexId,e.key,this.rn(a),i))}else r=r.add(new po(n.indexId,e.key,Tf,i));return r}mn(e,n,r,i,s){$("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,u,l,c,h){const f=a.getIterator(),d=u.getIterator();let p=Ea(f),m=Ea(d);for(;p||m;){let b=!1,g=!1;if(p&&m){const y=l(p,m);y<0?g=!0:y>0&&(b=!0)}else p!=null?g=!0:b=!0;b?(c(m),m=Ea(d)):g?(h(p),p=Ea(f)):(p=Ea(f),m=Ea(d))}}(i,s,$i,a=>{o.push(this.gn(e,n,r,a))},a=>{o.push(this.yn(e,n,r,a))}),O.waitFor(o)}dn(e){let n=1;return Sl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>$i(o,a)).filter((o,a,u)=>!a||$i(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=$i(o,e),u=$i(o,n);if(a===0)i[0]=e.Ue();else if(a>0&&u<0)i.push(o),i.push(o.Ue());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.pn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Tf,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Tf,[]];s.push(IDBKeyRange.bound(a,u))}return s}pn(e,n){return $i(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(MT)}getMinOffset(e,n){return O.mapArray(this.Ze(n),r=>this.tn(e,r).next(i=>i||H())).next(MT)}}function FT(t){return Ft(t,"collectionParents")}function El(t){return Ft(t,"indexEntries")}function kf(t){return Ft(t,"indexConfiguration")}function Sl(t){return Ft(t,"indexState")}function MT(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;tE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:o},(c,h,f)=>(a++,f.delete()));s.push(u.next(()=>{te(a===1)}));const l=[];for(const c of n.mutations){const h=TD(e,c.key.path,n.batchId);s.push(i.delete(h)),l.push(c.key)}return O.waitFor(s).next(()=>l)}function kp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw H();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Ym{constructor(e,n,r,i){this.userId=e,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,n,r,i){te(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Ym(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ui(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Oa(e),o=Ui(e);return o.add({}).next(a=>{te(typeof a=="number");const u=new cE(a,n,r,i),l=function(f,d,p){const m=p.baseMutations.map(g=>nh(f.ie,g)),b=p.mutations.map(g=>nh(f.ie,g));return{userId:d,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:m,mutations:b}}(this.yt,this.userId,u),c=[];let h=new $e((f,d)=>le(f.canonicalString(),d.canonicalString()));for(const f of i){const d=TD(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),c.push(o.put(l)),c.push(s.put(d,Qq))}return h.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.In[a]=u.keys()}),O.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return Ui(e).get(n).next(r=>r?(te(r.userId===this.userId),ho(this.yt,r)):null)}Tn(e,n){return this.In[n]?O.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ui(e).Z({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(te(a.batchId>=r),s=ho(this.yt,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ui(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ui(e).W("userMutationsIndex",n).next(r=>r.map(i=>ho(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=id(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Oa(e).Z({range:i},(o,a,u)=>{const[l,c,h]=o,f=Ur(c);if(l===this.userId&&n.path.isEqual(f))return Ui(e).get(h).next(d=>{if(!d)throw H();te(d.userId===this.userId),s.push(ho(this.yt,d))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(le);const i=[];return n.forEach(s=>{const o=id(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Oa(e).Z({range:a},(l,c,h)=>{const[f,d,p]=l,m=Ur(d);f===this.userId&&s.path.isEqual(m)?r=r.add(p):h.done()});i.push(u)}),O.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=id(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new $e(le);return Oa(e).Z({range:o},(u,l,c)=>{const[h,f,d]=u,p=Ur(f);h===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(d)):c.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ui(e).get(s).next(o=>{if(o===null)throw H();te(o.userId===this.userId),r.push(ho(this.yt,o))}))}),O.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return PD(e.se,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),O.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return O.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Oa(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Ur(s[1]);i.push(u)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,n){return DD(e,this.userId,n)}Rn(e){return LD(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DD(t,e,n){const r=id(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Oa(t).Z({range:s,X:!0},(a,u,l)=>{const[c,h,f]=a;c===e&&h===i&&(o=!0),l.done()}).next(()=>o)}function Ui(t){return Ft(t,"mutations")}function Oa(t){return Ft(t,"documentMutations")}function LD(t){return Ft(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Yo(0)}static vn(){return new Yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new Yo(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>ne.fromTimestamp(new Je(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Sa(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Sa(e).Z((o,a)=>{const u=Bl(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>O.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Sa(e).Z((r,i)=>{const s=Bl(i);n(s)})}Vn(e){return UT(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}Sn(e,n){return UT(e).put("targetGlobalKey",n)}Dn(e,n){return Sa(e).put(ND(this.yt,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Wo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Sa(e).Z({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Bl(a);$h(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Zi(e);return n.forEach(o=>{const a=pn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),O.waitFor(i)}removeMatchingKeys(e,n,r){const i=Zi(e);return O.forEach(n,s=>{const o=pn(s.path);return O.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Zi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Zi(e);let s=ce();return i.Z({range:r,X:!0},(o,a,u)=>{const l=Ur(o[1]),c=new z(l);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=pn(n.path),i=IDBKeyRange.bound([r],[NP(r)],!1,!0);let s=0;return Zi(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ne(e,n){return Sa(e).get(n).next(r=>r?Bl(r):null)}}function Sa(t){return Ft(t,"targets")}function UT(t){return Ft(t,"targetGlobal")}function Zi(t){return Ft(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class b9{constructor(e){this.xn=e,this.buffer=new $e(VT),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Js(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.Fn(3e5)})}}class S9{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(Sn.at);const r=new b9(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve($T)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let r,i,s,o,a,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),X0()<=be.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new S9(r,i)}(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Un(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return Cf(e,r)}removeReference(e,n,r){return Cf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Cf(e,n)}Gn(e,n){return function(r,i){let s=!1;return LD(r).tt(o=>DD(r,o,i).next(a=>(a&&(s=!0),O.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=n){const u=this.Gn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),Zi(e).delete([0,pn(o.path)])))});i.push(u)}}).next(()=>O.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Cf(e,n)}Kn(e,n){const r=Zi(e);let i,s=Sn.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==Sn.at&&n(new z(Ur(i)),s),s=l,i=u):s=Sn.at}).next(()=>{s!==Sn.at&&n(new z(Ur(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(t,e){return Zi(t).put(function(n,r){return{targetId:0,path:pn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return no(e).put(r)}removeEntry(e,n,r){return no(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Ip(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=qe.newInvalidDocument(n);return no(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_l(n))},(i,s)=>{r=this.jn(n,s)}).next(()=>r)}Wn(e,n){let r={size:0,document:qe.newInvalidDocument(n)};return no(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_l(n))},(i,s)=>{r={document:this.jn(n,s),size:kp(s)}}).next(()=>r)}getEntries(e,n){let r=In();return this.zn(e,n,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,n){let r=In(),i=new lt(z.comparator);return this.zn(e,n,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,kp(o))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return O.resolve();let i=new $e(qT);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(_l(i.first()),_l(i.last())),o=i.getIterator();let a=o.getNext();return no(e).Z({index:"documentKeyIndex",range:s},(u,l,c)=>{const h=z.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&qT(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.j(_l(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),Ip(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return no(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=In();for(const u of o){const l=this.jn(z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(l.key,l)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=In();const o=BT(n,r),a=BT(n,Bn.max());return no(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,c)=>{const h=this.jn(z.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(h.key,h),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new T9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return jT(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}Qn(e,n){return jT(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=l9(this.yt,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return qe.newInvalidDocument(e)}}function MD(t){return new I9(t)}class T9 extends FD{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Xs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new $e((s,o)=>le(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(n.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=xT(this.Yn.yt,o);i=i.add(s.path.popLast());const l=kp(u);r+=l-a.size,n.push(this.Yn.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=xT(this.Yn.yt,o.convertToNoDocument(ne.min()));n.push(this.Yn.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Yn.updateMetadata(e,r)),O.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function jT(t){return Ft(t,"remoteDocumentGlobal")}function no(t){return Ft(t,"remoteDocumentsV14")}function _l(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BT(t,e){const n=e.documentKey.path.toArray();return[t,Ip(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qT(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=le(n[s],r[s]),i)return i;return i=le(n.length,r.length),i||(i=le(n[n.length-2],r[r.length-2]),i||le(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uc(r.mutation,i,_n.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=$r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=In();const o=lc(),a=lc();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Pi)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),uc(c.mutation,l,c.mutation.getFieldMask(),Je.now())):o.set(l.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new k9(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=lc();let i=new lt((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||_n.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=hD();c.forEach(f=>{if(!s.has(f)){const d=sD(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve($r());let a=-1,u=s;return o.next(l=>O.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ce())).next(c=>({batchId:a,changes:cD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=jl();return this.indexManager.getCollectionParents(e,i).next(o=>O.forEach(o,a=>{const u=function(l,c){return new Ri(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,qe.newInvalidDocument(l)))});let o=jl();return i.forEach((a,u)=>{const l=s.get(a);l!==void 0&&uc(l.mutation,u,_n.empty(),Je.now()),aE(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return O.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:yt(r.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:dE(r.bundledQuery),readTime:yt(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.overlays=new lt(z.comparator),this.es=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=$r(),s=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=$r(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=$r(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return O.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fE(n,r));let s=this.es.get(n);s===void 0&&(s=ce(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.ns=new $e(Ct.ss),this.rs=new $e(Ct.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ct(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new z(new ve([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new z(new ve([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=ce();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return z.comparator(e.key,n.key)||le(e._s,n._s)}static os(e,n){return le(e._s,n._s)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new $e(Ct.ss)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(le);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),O.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;z.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new z(s),0);let a=new $e(le);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},o),O.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){te(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return O.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ct(n,0),i=this.gs.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.Es=e,this.docs=new lt(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(n))}getEntries(e,n){let r=In();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qe.newInvalidDocument(i))}),O.resolve(r)}getAllFromCollection(e,n,r){let i=In();const s=new z(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||tE(PP(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,i){H()}As(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A9(this)}getSize(e){return O.resolve(this.size)}}class A9 extends FD{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.persistence=e,this.Rs=new Xs(n=>Wo(n),$h),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.bs=0,this.Ps=new gE,this.targetCount=0,this.vs=Yo.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),O.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Dn(n),O.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Sn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new R9(this),this.indexManager=new y9,this.remoteDocumentCache=function(r){return new N9(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new OD(n),this.Ns=new C9(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new O9(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new P9(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return O.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class P9 extends LP{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Fs=new gE,this.$s=null}static Bs(e){return new Jm(e)}get Ls(){if(this.$s)return this.$s;throw H()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),O.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Ls,r=>{const i=z.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return O.or([()=>O.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.yt=e}$(e,n,r,i){const s=new zm("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CT,{unique:!0}),a.createObjectStore("documentMutations")}(e),zT(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=O.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),zT(e)),o=o.next(()=>function(a){const u=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,u){return u.store("mutations").W().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CT,{unique:!0});const c=u.store("mutations"),h=l.map(f=>c.put(f));return O.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Us(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const u=a.createObjectStore("documentOverlays",{keyPath:i9});u.createIndex("collectionPathOverlayIndex",s9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",o9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:Hq});u.createIndex("documentKeyIndex",Gq),u.createIndex("collectionGroupIndex",Kq)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:e9}).createIndex("sequenceNumberIndex",t9,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:n9}).createIndex("documentKeyIndex",r9,{unique:!1})}(e))),o}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=kp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>O.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>O.forEach(a,u=>{te(u.userId===s.userId);const l=ho(this.yt,u);return PD(e,s.userId,l).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const u=new ve(o),l=function(c){return[0,pn(c)]}(u);s.push(n.get(l).next(c=>c?O.resolve():(h=>n.put({targetId:0,path:pn(h),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>O.waitFor(s))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:Zq});const r=n.store("collectionParents"),i=new mE,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:pn(u)})}};return n.store("remoteDocuments").Z({X:!0},(o,a)=>{const u=new ve(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([o,a,u],l)=>{const c=Ur(a);return s(c.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Bl(i),o=ND(this.yt,s);return n.put(o)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(l=o,l.document?new z(ve.fromString(l.document.name).popFirst(5)):l.noDocument?z.fromSegments(l.noDocument.path):l.unknownDocument?z.fromSegments(l.unknownDocument.path):H()).path.toArray();var l;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>O.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=MD(this.yt),s=new UD(Jm.Bs,this.yt.ie);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var l;let c=(l=a.get(u.userId))!==null&&l!==void 0?l:ce();ho(this.yt,u).keys().forEach(h=>c=c.add(h)),a.set(u.userId,c)}),O.forEach(a,(u,l)=>{const c=new Nt(l),h=Km.re(this.yt,c),f=s.getIndexManager(c),d=Ym.re(c,this.yt,f,s.referenceDelegate);return new $D(i,d,h,f).recalculateAndSaveOverlaysForDocumentKeys(new lw(n,Sn.at),u).next()})})}}function zT(t){t.createObjectStore("targetDocuments",{keyPath:Jq}).createIndex("documentTargetsIndex",Xq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yq,{unique:!0}),t.createObjectStore("targetGlobal")}const Yy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yE{constructor(e,n,r,i,s,o,a,u,l,c,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=l,this.Ys=c,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=f=>Promise.resolve(),!yE.C())throw new L(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _9(this,i),this.ii=n+"main",this.yt=new OD(u),this.ri=new gr(this.ii,this.Xs,new D9(this.yt)),this.Cs=new w9(this.referenceDelegate,this.yt),this.remoteDocumentCache=MD(this.yt),this.Ns=new c9,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,c===!1&&pt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,Yy);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Sn(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Js(e))return $("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Il(e).get("owner").next(n=>O.resolve(this.mi(n)))}gi(e){return xf(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ft(n,"clientMetadata");return r.W().next(i=>{const s=this.Ii(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return O.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?O.resolve(!0):Il(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,Yy);return!1}}return!(!this.networkEnabled||!this.inForeground)||xf(e).W().next(r=>this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new lw(e,Sn.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>xf(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Ym.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new v9(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Km.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){$("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Xs)===15?u9:o===14?xD:o===13?CD:o===12?a9:o===11?kD:void H();var o;let a;return this.ri.runTransaction(e,i,s,u=>(a=new lw(u,this.Ss?this.Ss.next():Sn.at),n==="readwrite-primary"?this.fi(a).next(l=>!!l||this.di(a)).next(l=>{if(!l)throw pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new L(A.FAILED_PRECONDITION,DP);return r(a)}).next(l=>this.wi(a).next(()=>l)):this.Vi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}Vi(e){return Il(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(A.FAILED_PRECONDITION,Yy)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Il(e).put("owner",n)}static C(){return gr.C()}_i(e){const n=Il(e);return n.get("owner").next(r=>this.mi(r)?($("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):O.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(pt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),IU()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return $("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){pt("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Il(t){return Ft(t,"owner")}function xf(t){return Ft(t,"clientMetadata")}function vE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(yT(n))return O.resolve(null);let r=On(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_p(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(n,a);return this.$i(n,l,o,u.readTime)?this.ki(e,_p(n,null,"F")):this.Bi(e,l,n,u)}))})))}Oi(e,n,r,i){return yT(n)||i.isEqual(ne.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(X0()<=be.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ow(n)),this.Bi(e,o,n,RP(i,-1)))})}Fi(e,n){let r=new $e(JP(e));return n.forEach((i,s)=>{aE(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return X0()<=be.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ow(n)),this.Ni.getDocumentsMatchingQuery(e,n,Bn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new lt(le),this.Ui=new Xs(s=>Wo(s),$h),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $D(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function jD(t,e,n,r){return new L9(t,e,n,r)}async function BD(t,e){const n=W(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ce();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}function F9(t,e){const n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,h=c.keys();let f=O.resolve();return h.forEach(d=>{f=f.next(()=>l.getEntry(a,d)).next(p=>{const m=u.docVersions.get(d);te(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ce();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qD(t){const e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function M9(t,e){const n=W(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?d=d.withResumeToken(It.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(p,m,b){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,d,c)&&a.push(n.Cs.updateTargetData(s,d))});let u=In(),l=ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(zD(s,o,e.documentUpdates).next(c=>{u=c.Wi,l=c.zi})),!r.isEqual(ne.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.qi=i,s))}function zD(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=In();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:o,zi:i}})}function $9(t,e){const n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xu(t,e){const n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new vs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Ou(t,e,n){const r=W(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Js(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function Cp(t,e,n){const r=W(t);let i=ne.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=W(a),h=c.Ui.get(l);return h!==void 0?O.resolve(c.qi.get(h)):c.Cs.getTargetData(u,l)}(r,o,On(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ce())).next(a=>(HD(r,YP(e),a),{documents:a,Hi:s})))}function WD(t,e){const n=W(t),r=W(n.Cs),i=n.qi.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function QD(t,e){const n=W(t),r=n.Ki.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,RP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(HD(n,e,i),i))}function HD(t,e,n){let r=t.Ki.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}async function U9(t,e,n,r){const i=W(t);let s=ce(),o=In();for(const l of n){const c=e.Ji(l.metadata.name);l.document&&(s=s.add(c));const h=e.Yi(l);h.setReadTime(e.Xi(l.metadata.readTime)),o=o.insert(c,h)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),u=await xu(i,function(l){return On(Xu(ve.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>zD(l,a,o).next(c=>(a.apply(l),c)).next(c=>i.Cs.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Cs.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.Wi,c.zi)).next(()=>c.Wi)))}async function V9(t,e,n=ce()){const r=await xu(t,On(dE(e.bundledQuery))),i=W(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=yt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(It.EMPTY_BYTE_STRING,o);return i.qi=i.qi.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}function WT(t,e){return`firestore_clients_${t}_${e}`}function QT(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Jy(t,e){return`firestore_targets_${t}_${e}`}class xp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new L(i.error.code,i.error.message))),o?new xp(e,n,i.state,s):(pt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new L(r.error.code,r.error.message))),s?new cc(e,r.state,i):(pt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Op{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Gm();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=MP(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Op(e,s):(pt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class bE{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new bE(n.clientId,n.onlineState):(pt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dw{constructor(){this.activeTargetIds=Gm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xy{constructor(e,n,r,i,s){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new lt(le),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=WT(this.persistenceKey,this.sr),this.hr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new dw),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const r of e){if(r===this.sr)continue;const i=this.getItem(WT(this.persistenceKey,r));if(i){const s=Op.Zi(r,i);s&&(this.ur=this.ur.insert(s.clientId,s))}}this.gr();const n=this.storage.getItem(this.wr);if(n){const r=this.yr(n);r&&this.pr(r)}for(const r of this.cr)this.rr(r);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Jy(this.persistenceKey,e));if(r){const i=cc.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jy(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return $("SharedClientState","READ",e,n),n}setItem(e,n){$("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const n=e;if(n.storageArea===this.storage){if($("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.lr.test(n.key)){if(n.newValue==null){const r=this.vr(n.key);return this.Vr(r,null)}{const r=this.Sr(n.key,n.newValue);if(r)return this.Vr(r.clientId,r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(this._r.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.yr(n.newValue);if(r)return this.pr(r)}}else if(n.key===this.hr){const r=function(i){let s=Sn.at;if(i!=null)try{const o=JSON.parse(i);te(typeof o=="number"),s=o}catch(o){pt("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Sn.at&&this.sequenceNumberHandler(r)}else if(n.key===this.mr){const r=this.Or(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Mr(i)))}}}else this.cr.push(n)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new xp(this.currentUser,e,n,r),s=QT(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const n=QT(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Rr(e,n,r){const i=Jy(this.persistenceKey,e),s=new cc(e,n,r);this.setItem(i,s.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return Op.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return xp.Zi(new Nt(s),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return cc.Zi(i,n)}yr(e){return bE.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);$("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Gm();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class GD{constructor(){this.Lr=new dw,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new dw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);$("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>($("RestConnection","Received: ",u),u),u=>{throw Eu("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ju,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=B9[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new qB;a.setWithCredentials(!0),a.listenOnce(VB.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Gy.NO_ERROR:const l=a.getResponseJson();$("Connection","XHR received:",JSON.stringify(l)),s(l);break;case Gy.TIMEOUT:$("Connection",'RPC "'+e+'" timed out'),o(new L(A.DEADLINE_EXCEEDED,"Request time out"));break;case Gy.HTTP_ERROR:const c=a.getStatus();if($("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const d=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(m)>=0?m:A.UNKNOWN}(f.status);o(new L(d,f.message))}else o(new L(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new L(A.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{$("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$B(),o=UB(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new BB({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");$("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,h=!1;const f=new q9({Hr:p=>{h?$("Connection","Not sending because WebChannel is closed:",p):(c||($("Connection","Opening WebChannel transport."),l.open(),c=!0),$("Connection","WebChannel sending:",p),l.send(p))},Jr:()=>l.close()}),d=(p,m,b)=>{p.listen(m,g=>{try{b(g)}catch(y){setTimeout(()=>{throw y},0)}})};return d(l,_f.EventType.OPEN,()=>{h||$("Connection","WebChannel transport opened.")}),d(l,_f.EventType.CLOSE,()=>{h||(h=!0,$("Connection","WebChannel transport closed"),f.io())}),d(l,_f.EventType.ERROR,p=>{h||(h=!0,Eu("Connection","WebChannel transport errored:",p),f.io(new L(A.UNAVAILABLE,"The operation could not be completed")))}),d(l,_f.EventType.MESSAGE,p=>{var m;if(!h){const b=p.data[0];te(!!b);const g=b,y=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(y){$("Connection","WebChannel received error:",y);const w=y.status;let E=function(T){const k=vt[T];if(k!==void 0)return uD(k)}(w),_=y.message;E===void 0&&(E=A.INTERNAL,_="Unknown error status: "+w+" with message "+y.message),h=!0,f.io(new L(E,_)),l.close()}else $("Connection","WebChannel received:",b),f.ro(b)}}),d(o,jB.STAT_EVENT,p=>{p.stat===rT.PROXY?$("Connection","Detected buffering proxy"):p.stat===rT.NOPROXY&&$("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return typeof window<"u"?window:null}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new Lq(t,!0)}class EE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new EE(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(pt(n.toString()),pt("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new L(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W9 extends YD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=$q(this.yt,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?yt(s.readTime):ne.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=th(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Ep(a)?{documents:wD(i,a)}:{query:bD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=pD(i,s.resumeToken):s.snapshotVersion.compareTo(ne.min())>0&&(o.readTime=Cu(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=Vq(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=th(this.yt),n.removeTarget=e,this.Bo(n)}}class Q9 extends YD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=Uq(e.writeResults,e.commitTime),r=yt(e.commitTime);return this.listener.Zo(r,n)}return te(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=th(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nh(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(A.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(A.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class G9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(pt(n),this.ou=!1):$("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Zs(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=W(a);u._u.add(4),await tl(u),u.gu.set("Unknown"),u._u.delete(4),await zh(u)}(this))})}),this.gu=new G9(r,i)}}async function zh(t){if(Zs(t))for(const e of t.wu)await e(!0)}async function tl(t){for(const e of t.wu)await e(!1)}function Xm(t,e){const n=W(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),IE(n)?_E(n):rl(n).ko()&&SE(n,e))}function rh(t,e){const n=W(t),r=rl(n);n.du.delete(e),r.ko()&&JD(n,e),n.du.size===0&&(r.ko()?r.Fo():Zs(n)&&n.gu.set("Unknown"))}function SE(t,e){t.yu.Ot(e.targetId),rl(t).zo(e)}function JD(t,e){t.yu.Ot(e),rl(t).Ho(e)}function _E(t){t.yu=new Aq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),rl(t).start(),t.gu.uu()}function IE(t){return Zs(t)&&!rl(t).No()&&t.du.size>0}function Zs(t){return W(t)._u.size===0}function XD(t){t.yu=void 0}async function Y9(t){t.du.forEach((e,n)=>{SE(t,e)})}async function J9(t,e){XD(t),IE(t)?(t.gu.hu(e),_E(t)):t.gu.set("Unknown")}async function X9(t,e,n){if(t.gu.set("Online"),e instanceof dD&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Np(t,r)}else if(e instanceof rd?t.yu.Kt(e):e instanceof fD?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(ne.min()))try{const r=await qD(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(It.EMPTY_BYTE_STRING,u.snapshotVersion)),JD(i,a);const l=new vs(u.target,a,1,u.sequenceNumber);SE(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await Np(t,r)}}async function Np(t,e,n){if(!Js(e))throw e;t._u.add(1),await tl(t),t.gu.set("Offline"),n||(n=()=>qD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await zh(t)})}function ZD(t,e){return e().catch(n=>Np(t,n,e))}async function nl(t){const e=W(t),n=Ps(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Z9(e);)try{const i=await $9(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,ez(e,i)}catch(i){await Np(e,i)}e2(e)&&t2(e)}function Z9(t){return Zs(t)&&t.fu.length<10}function ez(t,e){t.fu.push(e);const n=Ps(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function e2(t){return Zs(t)&&!Ps(t).No()&&t.fu.length>0}function t2(t){Ps(t).start()}async function tz(t){Ps(t).eu()}async function nz(t){const e=Ps(t);for(const n of t.fu)e.Xo(n.mutations)}async function rz(t,e,n){const r=t.fu.shift(),i=hE.from(r,e,n);await ZD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nl(t)}async function iz(t,e){e&&Ps(t).Yo&&await async function(n,r){if(i=r.code,aD(i)&&i!==A.ABORTED){const s=n.fu.shift();Ps(n).Mo(),await ZD(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await nl(n)}var i}(t,e),e2(t)&&t2(t)}async function GT(t,e){const n=W(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n._u.add(3),await tl(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await zh(n)}async function pw(t,e){const n=W(t);e?(n._u.delete(2),await zh(n)):e||(n._u.add(2),await tl(n),n.gu.set("Unknown"))}function rl(t){return t.pu||(t.pu=function(e,n,r){const i=W(e);return i.su(),new W9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Y9.bind(null,t),Zr:J9.bind(null,t),Wo:X9.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),IE(t)?_E(t):t.gu.set("Unknown")):(await t.pu.stop(),XD(t))})),t.pu}function Ps(t){return t.Iu||(t.Iu=function(e,n,r){const i=W(e);return i.su(),new Q9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:tz.bind(null,t),Zr:iz.bind(null,t),tu:nz.bind(null,t),Zo:rz.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await nl(t)):(await t.Iu.stop(),t.fu.length>0&&($("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new TE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function il(t,e){if(pt("AsyncQueue",`${e}: ${t}`),Js(t))return new L(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new iu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.Tu=new lt(z.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):H():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nu{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Nu(e,n,iu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.Au=void 0,this.listeners=[]}}class oz{constructor(){this.queries=new Xs(e=>KP(e),Uh),this.onlineState="Unknown",this.Ru=new Set}}async function kE(t,e){const n=W(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new sz),i)try{s.Au=await n.onListen(r)}catch(o){const a=il(o,`Initialization of query '${ow(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&xE(n)}async function CE(t,e){const n=W(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function az(t,e){const n=W(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&xE(n)}function uz(t,e,n){const r=W(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xE(t){t.Ru.forEach(e=>{e.next()})}class OE{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.yt=e}Ji(e){return Qr(this.yt,e)}Yi(e){return e.metadata.exists?vD(this.yt,e.document,!1):qe.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return yt(e)}}class cz{constructor(e,n,r){this.Mu=e,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=n2(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const r=ve.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new YT(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ce()).add(s);n.set(o,a)}}return n}async complete(){const e=await U9(this.localStore,new YT(this.yt),this.documents,this.Mu.id),n=this.$u(this.documents);for(const r of this.queries)await V9(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function n2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.key=e}}class i2{constructor(e){this.key=e}}class s2{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ce(),this.mutatedKeys=ce(),this.Gu=JP(e),this.Qu=new iu(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new KT,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=aE(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let b=!1;f&&d?f.data.isEqual(d.data)?p!==m&&(r.track({type:3,doc:d}),b=!0):this.Hu(f,d)||(r.track({type:2,doc:d}),b=!0,(u&&this.Gu(d,u)>0||l&&this.Gu(d,l)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),b=!0):f&&!d&&(r.track({type:1,doc:f}),b=!0,(u||l)&&(a=!0)),b&&(d?(o=o.add(d),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((l,c)=>function(h,f){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return d(h)-d(f)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,s.length!==0||u?{snapshot:new Nu(this.query,e.Qu,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new KT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ce(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new i2(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new r2(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ce();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Nu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class hz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fz{constructor(e){this.key=e,this.nc=!1}}class dz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Xs(a=>KP(a),Uh),this.rc=new Map,this.oc=new Set,this.uc=new lt(z.comparator),this.cc=new Map,this.ac=new gE,this.hc={},this.lc=new Map,this.fc=Yo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function pz(t,e){const n=DE(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await xu(n.localStore,On(e));n.isPrimaryClient&&Xm(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await NE(n,e,r,a==="current",o.resumeToken)}return i}async function NE(t,e,n,r,i){t._c=(h,f,d)=>async function(p,m,b,g){let y=m.view.Wu(b);y.$i&&(y=await Cp(p.localStore,m.query,!1).then(({documents:_})=>m.view.Wu(_,y)));const w=g&&g.targetChanges.get(m.targetId),E=m.view.applyChanges(y,p.isPrimaryClient,w);return mw(p,m.targetId,E.Xu),E.snapshot}(t,h,f,d);const s=await Cp(t.localStore,e,!0),o=new s2(e,s.Hi),a=o.Wu(s.documents),u=Bh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);mw(t,n,l.Xu);const c=new hz(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function mz(t,e){const n=W(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Uh(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ou(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rh(n.remoteStore,r.targetId),Au(n,r.targetId)}).catch(Ys)):(Au(n,r.targetId),await Ou(n.localStore,r.targetId,!0))}async function gz(t,e,n){const r=LE(t);try{const i=await function(s,o){const a=W(s),u=Je.now(),l=o.reduce((f,d)=>f.add(d.key),ce());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=In(),p=ce();return a.Gi.getEntries(f,l).next(m=>{d=m,d.forEach((b,g)=>{g.isValidDocument()||(p=p.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(m=>{c=m;const b=[];for(const g of o){const y=Tq(g,c.get(g.key).overlayedDocument);y!=null&&b.push(new Pi(g.key,y,HP(y.value.mapValue),Ye.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,b,o)}).next(m=>{h=m;const b=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,m.batchId,b)})}).then(()=>({batchId:h.batchId,changes:cD(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new lt(le)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),await Di(r,i.changes),await nl(r.remoteStore)}catch(i){const s=il(i,"Failed to persist write");n.reject(s)}}async function o2(t,e){const n=W(t);try{const r=await M9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?te(o.nc):i.removedDocuments.size>0&&(te(o.nc),o.nc=!1))}),await Di(n,r,e)}catch(r){await Ys(r)}}function JT(t,e,n){const r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=W(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const h of c.listeners)h.bu(o)&&(u=!0)}),u&&xE(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yz(t,e,n){const r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new lt(z.comparator);o=o.insert(s,qe.newNoDocument(s,ne.min()));const a=ce().add(s),u=new jh(ne.min(),new Map,new $e(le),o,a);await o2(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),PE(r)}else await Ou(r.localStore,e,!1).then(()=>Au(r,e,n)).catch(Ys)}async function vz(t,e){const n=W(t),r=e.batch.batchId;try{const i=await F9(n.localStore,e);RE(n,r,null),AE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Di(n,i)}catch(i){await Ys(i)}}async function wz(t,e,n){const r=W(t);try{const i=await function(s,o){const a=W(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(te(c!==null),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);RE(r,e,n),AE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Di(r,i)}catch(i){await Ys(i)}}async function bz(t,e){const n=W(t);Zs(n.remoteStore)||$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=W(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=il(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function AE(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function RE(t,e,n){const r=W(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Au(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||a2(t,r)})}function a2(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(rh(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),PE(t))}function mw(t,e,n){for(const r of n)r instanceof r2?(t.ac.addReference(r.key,e),Ez(t,r)):r instanceof i2?($("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||a2(t,r.key)):H()}function Ez(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||($("SyncEngine","New document in limbo: "+n),t.oc.add(r),PE(t))}function PE(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new z(ve.fromString(e)),r=t.fc.next();t.cc.set(r,new fz(n)),t.uc=t.uc.insert(n,r),Xm(t.remoteStore,new vs(On(Xu(n.path)),r,2,Sn.at))}}async function Di(t,e,n){const r=W(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=wE.Ci(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,u){const l=W(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>O.forEach(u,h=>O.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>O.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Js(c))throw c;$("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const f=l.qi.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);l.qi=l.qi.insert(h,p)}}}(r.localStore,s))}async function Sz(t,e){const n=W(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await BD(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new L(A.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Di(n,r.ji)}}function _z(t,e){const n=W(t),r=n.cc.get(e);if(r&&r.nc)return ce().add(r.key);{let i=ce();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}async function Iz(t,e){const n=W(t),r=await Cp(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&mw(n,e.targetId,i.Xu),i}async function Tz(t,e){const n=W(t);return QD(n.localStore,e).then(r=>Di(n,r))}async function kz(t,e,n,r){const i=W(t),s=await function(o,a){const u=W(o),l=W(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",c=>l.Tn(c,a).next(h=>h?u.localDocuments.getDocuments(c,h):O.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await nl(i.remoteStore):n==="acknowledged"||n==="rejected"?(RE(i,e,r||null),AE(i,e),function(o,a){W(W(o).mutationQueue).An(a)}(i.localStore,e)):H(),await Di(i,s)):$("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Cz(t,e){const n=W(t);if(DE(n),LE(n),e===!0&&n.dc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await XT(n,r.toArray());n.dc=!0,await pw(n.remoteStore,!0);for(const s of i)Xm(n.remoteStore,s)}else if(e===!1&&n.dc!==!1){const r=[];let i=Promise.resolve();n.rc.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Au(n,o),Ou(n.localStore,o,!0))),rh(n.remoteStore,o)}),await i,await XT(n,r),function(s){const o=W(s);o.cc.forEach((a,u)=>{rh(o.remoteStore,u)}),o.ac.fs(),o.cc=new Map,o.uc=new lt(z.comparator)}(n),n.dc=!1,await pw(n.remoteStore,!1)}}async function XT(t,e,n){const r=W(t),i=[],s=[];for(const o of e){let a;const u=r.rc.get(o);if(u&&u.length!==0){a=await xu(r.localStore,On(u[0]));for(const l of u){const c=r.ic.get(l),h=await Iz(r,c);h.snapshot&&s.push(h.snapshot)}}else{const l=await WD(r.localStore,o);a=await xu(r.localStore,l),await NE(r,u2(l),o,!1,a.resumeToken)}i.push(a)}return r.sc.Wo(s),i}function u2(t){return GP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xz(t){const e=W(t);return W(W(e.localStore).persistence).vi()}async function Oz(t,e,n,r){const i=W(t);if(i.dc)return void $("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await QD(i.localStore,YP(s[0])),a=jh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",It.EMPTY_BYTE_STRING);await Di(i,o,a);break}case"rejected":await Ou(i.localStore,e,!0),Au(i,e,r);break;default:H()}}async function Nz(t,e,n){const r=DE(t);if(r.dc){for(const i of e){if(r.rc.has(i)){$("SyncEngine","Adding an already active target "+i);continue}const s=await WD(r.localStore,i),o=await xu(r.localStore,s);await NE(r,u2(s),o.targetId,!1,o.resumeToken),Xm(r.remoteStore,o)}for(const i of n)r.rc.has(i)&&await Ou(r.localStore,i,!1).then(()=>{rh(r.remoteStore,i),Au(r,i)}).catch(Ys)}}function DE(t){const e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_z.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yz.bind(null,e),e.sc.Wo=az.bind(null,e.eventManager),e.sc.wc=uz.bind(null,e.eventManager),e}function LE(t){const e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wz.bind(null,e),e}function Az(t,e,n){const r=W(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(h,f){const d=W(h),p=yt(f.createTime);return d.persistence.runTransaction("hasNewerBundle","readonly",m=>d.Ns.getBundleMetadata(m,f.id)).then(m=>!!m&&m.createTime.compareTo(p)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(n2(a));const u=new cz(a,i.localStore,s.yt);let l=await s.mc();for(;l;){const h=await u.Fu(l);h&&o._updateProgress(h),l=await s.mc()}const c=await u.complete();return await Di(i,c.Lu,void 0),await function(h,f){const d=W(h);return d.persistence.runTransaction("Save bundle","readwrite",p=>d.Ns.saveBundleMetadata(p,f))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Bu)}catch(a){return Eu("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class l2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=qh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return jD(this.persistence,new VD,e.initialUser,this.yt)}yc(e){return new UD(Jm.Bs,this.yt)}gc(e){return new GD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class c2 extends l2{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await LE(this.Ac.syncEngine),await nl(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return jD(this.persistence,new VD,e.initialUser,this.yt)}Tc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new E9(r,e.asyncQueue,n)}Ec(e,n){const r=new sq(n,this.persistence);return new iq(e.asyncQueue,r)}yc(e){const n=vE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new yE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,KD(),sd(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new GD}}class Rz extends c2{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ac.syncEngine;this.sharedClientState instanceof Xy&&(this.sharedClientState.syncEngine={Fr:kz.bind(null,n),$r:Oz.bind(null,n),Br:Nz.bind(null,n),vi:xz.bind(null,n),Mr:Tz.bind(null,n)},await this.sharedClientState.start()),await this.persistence.li(async r=>{await Cz(this.Ac.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}gc(e){const n=KD();if(!Xy.C(n))throw new L(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class FE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sz.bind(null,this.syncEngine),await pw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new oz}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new z9(i));var i;return function(s,o,a,u){return new H9(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>JT(this.syncEngine,a,0),o=HT.C()?new HT:new j9,new K9(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new dz(r,i,s,o,a,u);return l&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=W(e);$("RemoteStore","RemoteStore shutting down."),n._u.add(5),await tl(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e,n){if(!n)throw new L(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h2(t,e,n,r){if(e===!0&&r===!0)throw new L(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZT(t){if(!z.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ek(t){if(z.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function _e(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zm(t);throw new L(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function f2(t,e){if(e<=0)throw new L(A.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Map;class nk{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new L(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,h2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QB;switch(n.type){case"gapi":const r=n.client;return new YB(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new L(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=tk.get(e);n&&($("ComponentProvider","Removing Datastore"),tk.delete(e),n.terminate())}(this),Promise.resolve()}}function Pz(t,e,n,r={}){var i;const s=(t=_e(t,Wh))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Eu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Nt.MOCK_USER;else{o=EU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(u)}t._authCredentials=new HB(new xP(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}}class Yt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yt(this.firestore,e,this._query)}}class Hr extends Yt{constructor(e,n,r){super(e,n,Xu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new z(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function d2(t,e,...n){if(t=se(t),ME("collection","path",e),t instanceof Wh){const r=ve.fromString(e,...n);return ek(r),new Hr(t,null,r)}{if(!(t instanceof We||t instanceof Hr))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return ek(r),new Hr(t.firestore,null,r)}}function Dz(t,e){if(t=_e(t,Wh),ME("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(A.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yt(t,null,function(n){return new Ri(ve.emptyPath(),n)}(e))}function Ap(t,e,...n){if(t=se(t),arguments.length===1&&(e=OP.R()),ME("doc","path",e),t instanceof Wh){const r=ve.fromString(e,...n);return ZT(r),new We(t,null,new z(r))}{if(!(t instanceof We||t instanceof Hr))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return ZT(r),new We(t.firestore,t instanceof Hr?t.converter:null,new z(r))}}function p2(t,e){return t=se(t),e=se(e),(t instanceof We||t instanceof Hr)&&(e instanceof We||e instanceof Hr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function m2(t,e){return t=se(t),e=se(e),t instanceof Yt&&e instanceof Yt&&t.firestore===e.firestore&&Uh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):pt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new Rt,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const n=this.vc.decode(e),r=Number(n);isNaN(r)&&this.Dc(`length string (${n}) is not valid number`);const i=await this.Cc(r);return new lz(JSON.parse(i),e.length+r)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const n=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=W(r),o=th(s.yt)+"/documents",a={documents:i.map(h=>eh(s.yt,h))},u=await s._o("BatchGetDocuments",o,a,i.length),l=new Map;u.forEach(h=>{const f=Mq(s.yt,h);l.set(f.key.toString(),f)});const c=[];return i.forEach(h=>{const f=l.get(h.toString());te(!!f),c.push(f)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new el(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=z.fromPath(r);this.mutations.push(new uE(i,this.precondition(i)))}),await async function(n,r){const i=W(n),s=th(i.yt)+"/documents",o={writes:r.map(a=>nh(i.yt,a))};await i.ao("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw H();n=ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new L(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?Ye.exists(!1):Ye.updateTime(n):Ye.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new L(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ye.updateTime(n)}return Ye.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new EE(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new Fz(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Fc(i)}))}).catch(r=>{this.Fc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!Mh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!aD(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=OP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{$("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=il(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function g2(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function y2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $E(t);$("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>GT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>GT(e.remoteStore,s)),t.onlineComponents=e}async function $E(t){return t.offlineComponents||($("FirestoreClient","Using default OfflineComponentProvider"),await g2(t,new l2)),t.offlineComponents}async function tg(t){return t.onlineComponents||($("FirestoreClient","Using default OnlineComponentProvider"),await y2(t,new FE)),t.onlineComponents}function v2(t){return $E(t).then(e=>e.persistence)}function UE(t){return $E(t).then(e=>e.localStore)}function w2(t){return tg(t).then(e=>e.remoteStore)}function VE(t){return tg(t).then(e=>e.syncEngine)}function Uz(t){return tg(t).then(e=>e.datastore)}async function Ru(t){const e=await tg(t),n=e.eventManager;return n.onListen=pz.bind(null,e.syncEngine),n.onUnlisten=mz.bind(null,e.syncEngine),n}function Vz(t){return t.asyncQueue.enqueue(async()=>{const e=await v2(t),n=await w2(t);return e.setNetworkEnabled(!0),function(r){const i=W(r);return i._u.delete(0),zh(i)}(n)})}function jz(t){return t.asyncQueue.enqueue(async()=>{const e=await v2(t),n=await w2(t);return e.setNetworkEnabled(!1),async function(r){const i=W(r);i._u.add(0),await tl(i),i.gu.set("Offline")}(n)})}function Bz(t,e){const n=new Rt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,u){const l=W(a);return l.persistence.runTransaction("read document","readonly",c=>l.localDocuments.getDocument(c,u))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new L(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=il(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await UE(t),e,n)),n.promise}function b2(t,e,n={}){const r=new Rt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new eg({next:h=>{s.enqueueAndForget(()=>CE(i,c));const f=h.docs.has(o);!f&&h.fromCache?u.reject(new L(A.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?u.reject(new L(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new OE(Xu(o.path),l,{includeMetadataChanges:!0,Nu:!0});return kE(i,c)}(await Ru(t),t.asyncQueue,e,n,r)),r.promise}function qz(t,e){const n=new Rt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Cp(r,i,!0),a=new s2(i,o.Hi),u=a.Wu(o.documents),l=a.applyChanges(u,!1);s.resolve(l.snapshot)}catch(o){const a=il(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await UE(t),e,n)),n.promise}function E2(t,e,n={}){const r=new Rt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new eg({next:h=>{s.enqueueAndForget(()=>CE(i,c)),h.fromCache&&a.source==="server"?u.reject(new L(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new OE(o,l,{includeMetadataChanges:!0,Nu:!0});return kE(i,c)}(await Ru(t),t.asyncQueue,e,n,r)),r.promise}function zz(t,e){const n=new eg(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){W(r).Ru.add(i),i.next()}(await Ru(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){W(r).Ru.delete(i)}(await Ru(t),n))}}function Wz(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(u,l){return new Lz(u,l)}(function(u,l){if(u instanceof Uint8Array)return rk(u,l);if(u instanceof ArrayBuffer)return rk(new Uint8Array(u),l);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,qh(e));t.asyncQueue.enqueueAndForget(async()=>{Az(await VE(t),i,r)})}function Qz(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=W(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(await UE(t),e))}class Hz{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new EE(this,"async_queue_retry"),this.Wc=()=>{const n=sd();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=sd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Rt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Js(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw pt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=TE.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&H()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function gw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Gz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=-1;class ct extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||S2(this),this._firestoreClient.terminate()}}function Mt(t){return t._firestoreClient||S2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function S2(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new oq(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new $z(t._authCredentials,t._appCheckCredentials,t._queue,r)}function Yz(t,e){I2(t=_e(t,ct));const n=Mt(t),r=t._freezeSettings(),i=new FE;return _2(n,i,new c2(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Jz(t){I2(t=_e(t,ct));const e=Mt(t),n=t._freezeSettings(),r=new FE;return _2(e,r,new Rz(r,n.cacheSizeBytes))}function _2(t,e,n){const r=new Rt;return t.asyncQueue.enqueue(async()=>{try{await g2(t,n),await y2(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===A.FAILED_PRECONDITION||o.code===A.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;Eu("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function Xz(t){if(t._initialized&&!t._terminated)throw new L(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!gr.C())return Promise.resolve();const r=n+"main";await gr.delete(r)}(vE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Zz(t){return function(e){const n=new Rt;return e.asyncQueue.enqueueAndForget(async()=>bz(await VE(e),n)),n.promise}(Mt(t=_e(t,ct)))}function e7(t){return Vz(Mt(t=_e(t,ct)))}function t7(t){return jz(Mt(t=_e(t,ct)))}function n7(t,e){const n=Mt(t=_e(t,ct)),r=new Gz;return Wz(n,t._databaseId,e,r),r}function r7(t,e){return Qz(Mt(t=_e(t,ct)),e).then(n=>n?new Yt(t,null,n.query):null)}function I2(t){if(t._initialized||t._terminated)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(It.fromBase64String(e))}catch(n){throw new L(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zr(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=/^__.*__$/;class s7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class T2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function k2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class rg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Rp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(k2(this.sa)&&i7.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class o7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||qh(e)}da(e,n,r,i=!1){return new rg({sa:e,methodName:n,fa:r,path:mt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function pa(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new o7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ig(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);zE("Data must be an object, but it was:",o,r);const a=O2(r,o);let u,l;if(s.merge)u=new _n(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=yw(e,h,n);if(!o.contains(f))throw new L(A.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);A2(c,f)||c.push(f)}u=new _n(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new s7(new zt(a),u,l)}class Qh extends da{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function C2(t,e,n){return new rg({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class jE extends da{_toFieldTransform(e){return new Vh(e.path,new Tu)}isEqual(e){return e instanceof jE}}class a7 extends da{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=C2(this,e,!0),r=this._a.map(s=>ma(s,n)),i=new Qo(r);return new Vh(e.path,i)}isEqual(e){return this===e}}class u7 extends da{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=C2(this,e,!0),r=this._a.map(s=>ma(s,n)),i=new Ho(r);return new Vh(e.path,i)}isEqual(e){return this===e}}class l7 extends da{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new ku(e.yt,eD(e.yt,this.wa));return new Vh(e.path,n)}isEqual(e){return this===e}}function BE(t,e,n,r){const i=t.da(1,e,n);zE("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();fa(r,(u,l)=>{const c=WE(e,u,n);l=se(l);const h=i.ca(c);if(l instanceof Qh)s.push(c);else{const f=ma(l,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new _n(s);return new T2(o,a,i.fieldTransforms)}function qE(t,e,n,r,i,s){const o=t.da(1,e,n),a=[yw(e,r,n)],u=[i];if(s.length%2!=0)throw new L(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(yw(e,s[f])),u.push(s[f+1]);const l=[],c=zt.empty();for(let f=a.length-1;f>=0;--f)if(!A2(l,a[f])){const d=a[f];let p=u[f];p=se(p);const m=o.ca(d);if(p instanceof Qh)l.push(d);else{const b=ma(p,m);b!=null&&(l.push(d),c.set(d,b))}}const h=new _n(l);return new T2(c,h,o.fieldTransforms)}function x2(t,e,n,r=!1){return ma(n,t.da(r?4:3,e))}function ma(t,e){if(N2(t=se(t)))return zE("Unsupported field value:",e,t),O2(t,e);if(t instanceof da)return function(n,r){if(!k2(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ma(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=se(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eD(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Je.fromDate(n);return{timestampValue:Cu(r.yt,i)}}if(n instanceof Je){const i=new Je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Cu(r.yt,i)}}if(n instanceof ng)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zr)return{bytesValue:pD(r.yt,n._byteString)};if(n instanceof We){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Zm(n)}`)}(t,e)}function O2(t,e){const n={};return FP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,(r,i)=>{const s=ma(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function N2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof ng||t instanceof Zr||t instanceof We||t instanceof da)}function zE(t,e,n){if(!N2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Zm(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function yw(t,e,n){if((e=se(e))instanceof Ds)return e._internalPath;if(typeof e=="string")return WE(t,e);throw Rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const c7=new RegExp("[~\\*/\\[\\]]");function WE(t,e,n){if(e.search(c7)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ds(...e.split("."))._internalPath}catch{throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(A.INVALID_ARGUMENT,a+t+u)}function A2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h7 extends ih{data(){return super.data()}}function sg(t,e){return typeof e=="string"?WE(t,e):e instanceof Ds?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QE{}class Hh extends QE{}function Vi(t,e,...n){let r=[];e instanceof QE&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof HE).length,o=i.filter(a=>a instanceof og).length;if(s>1||s>0&&o>0)throw new L(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class og extends Hh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new og(e,n,r)}_apply(e){const n=this._parse(e);return D2(e._query,n),new Yt(e.firestore,e.converter,sw(e._query,n))}_parse(e){const n=pa(e.firestore);return function(i,s,o,a,u,l,c){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new L(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){sk(c,l);const f=[];for(const d of c)f.push(ik(a,i,d));h={arrayValue:{values:f}}}else h=ik(a,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||sk(c,l),h=x2(o,s,c,l==="in"||l==="not-in");return de.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function f7(t,e,n){const r=e,i=sg("where",t);return og._create(i,r,n)}class HE extends QE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new HE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)D2(s,a),s=sw(s,a)}(e._query,n),new Yt(e.firestore,e.converter,sw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GE extends Hh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new GE(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new L(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new L(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ru(i,s);return function(a,u){if(sE(a)===null){const l=Wm(a);l!==null&&L2(a,l,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new Yt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ri(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function d7(t,e="asc"){const n=e,r=sg("orderBy",t);return GE._create(r,n)}class ag extends Hh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ag(e,n,r)}_apply(e){return new Yt(e.firestore,e.converter,_p(e._query,this._limit,this._limitType))}}function p7(t){return f2("limit",t),ag._create("limit",t,"F")}function m7(t){return f2("limitToLast",t),ag._create("limitToLast",t,"L")}class ug extends Hh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ug(e,n,r)}_apply(e){const n=P2(e,this.type,this._docOrFields,this._inclusive);return new Yt(e.firestore,e.converter,function(r,i){return new Ri(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function g7(...t){return ug._create("startAt",t,!0)}function y7(...t){return ug._create("startAfter",t,!1)}class lg extends Hh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lg(e,n,r)}_apply(e){const n=P2(e,this.type,this._docOrFields,this._inclusive);return new Yt(e.firestore,e.converter,function(r,i){return new Ri(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function v7(...t){return lg._create("endBefore",t,!1)}function w7(...t){return lg._create("endAt",t,!0)}function P2(t,e,n,r){if(n[0]=se(n[0]),n[0]instanceof ih)return function(i,s,o,a,u){if(!a)throw new L(A.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const l=[];for(const c of Ro(i))if(c.field.isKeyField())l.push(zo(s,a.key));else{const h=a.data.field(c.field);if(rE(h))throw new L(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=c.field.canonicalString();throw new L(A.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}l.push(h)}return new Rs(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=pa(t.firestore);return function(s,o,a,u,l,c){const h=s.explicitOrderBy;if(l.length>h.length)throw new L(A.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let d=0;d<l.length;d++){const p=l[d];if(h[d].field.isKeyField()){if(typeof p!="string")throw new L(A.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!oE(s)&&p.indexOf("/")!==-1)throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(ve.fromString(p));if(!z.isDocumentKey(m))throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const b=new z(m);f.push(zo(o,b))}else{const m=x2(a,u,p);f.push(m)}}return new Rs(f,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function ik(t,e,n){if(typeof(n=se(n))=="string"){if(n==="")throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oE(e)&&n.indexOf("/")!==-1)throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!z.isDocumentKey(r))throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zo(t,new z(r))}if(n instanceof We)return zo(t,n._key);throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zm(n)}.`)}function sk(t,e){if(!Array.isArray(t)||t.length===0)throw new L(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new L(A.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function D2(t,e){if(e.isInequality()){const r=Wm(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new L(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=sE(t);s!==null&&L2(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function L2(t,e,n){if(!n.isEqual(e))throw new L(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class KE{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){const r={};return fa(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ng(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$P(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);te(ID(r));const i=new Os(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(n)||pt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class b7 extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends ih{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hc extends ki{data(e={}){return super.data(e)}}class Ls{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hc(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new hc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new hc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:E7(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function E7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}function F2(t,e){return t instanceof ki&&e instanceof ki?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ls&&e instanceof Ls&&t._firestore===e._firestore&&m2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t){t=_e(t,We);const e=_e(t.firestore,ct);return b2(Mt(e),t._key).then(n=>YE(e,t,n))}class ga extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function _7(t){t=_e(t,We);const e=_e(t.firestore,ct),n=Mt(e),r=new ga(e);return Bz(n,t._key).then(i=>new ki(e,r,t._key,i,new _o(i!==null&&i.hasLocalMutations,!0),t.converter))}function I7(t){t=_e(t,We);const e=_e(t.firestore,ct);return b2(Mt(e),t._key,{source:"server"}).then(n=>YE(e,t,n))}function T7(t){t=_e(t,Yt);const e=_e(t.firestore,ct),n=Mt(e),r=new ga(e);return R2(t._query),E2(n,t._query).then(i=>new Ls(e,r,t,i))}function k7(t){t=_e(t,Yt);const e=_e(t.firestore,ct),n=Mt(e),r=new ga(e);return qz(n,t._query).then(i=>new Ls(e,r,t,i))}function C7(t){t=_e(t,Yt);const e=_e(t.firestore,ct),n=Mt(e),r=new ga(e);return E2(n,t._query,{source:"server"}).then(i=>new Ls(e,r,t,i))}function ok(t,e,n){t=_e(t,We);const r=_e(t.firestore,ct),i=cg(t.converter,e,n);return Gh(r,[ig(pa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ye.none())])}function ak(t,e,n,...r){t=_e(t,We);const i=_e(t.firestore,ct),s=pa(i);let o;return o=typeof(e=se(e))=="string"||e instanceof Ds?qE(s,"updateDoc",t._key,e,n,r):BE(s,"updateDoc",t._key,e),Gh(i,[o.toMutation(t._key,Ye.exists(!0))])}function x7(t){return Gh(_e(t.firestore,ct),[new el(t._key,Ye.none())])}function O7(t,e){const n=_e(t.firestore,ct),r=Ap(t),i=cg(t.converter,e);return Gh(n,[ig(pa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}function M2(t,...e){var n,r,i;t=se(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||gw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(gw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(t instanceof We)l=_e(t.firestore,ct),c=Xu(t._key.path),u={next:h=>{e[o]&&e[o](YE(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=_e(t,Yt);l=_e(h.firestore,ct),c=h._query;const f=new ga(l);u={next:d=>{e[o]&&e[o](new Ls(l,f,h,d))},error:e[o+1],complete:e[o+2]},R2(t._query)}return function(h,f,d,p){const m=new eg(p),b=new OE(f,m,d);return h.asyncQueue.enqueueAndForget(async()=>kE(await Ru(h),b)),()=>{m.bc(),h.asyncQueue.enqueueAndForget(async()=>CE(await Ru(h),b))}}(Mt(l),c,a,u)}function N7(t,e){return zz(Mt(t=_e(t,ct)),gw(e)?e:{next:e})}function Gh(t,e){return function(n,r){const i=new Rt;return n.asyncQueue.enqueueAndForget(async()=>gz(await VE(n),r,i)),i.promise}(Mt(t),e)}function YE(t,e,n){const r=n.docs.get(e._key),i=new ga(t);return new ki(t,i,e._key,r,new _o(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pa(e)}set(e,n,r){this._verifyNotCommitted();const i=es(e,this._firestore),s=cg(i.converter,n,r),o=ig(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ye.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=es(e,this._firestore);let o;return o=typeof(n=se(n))=="string"||n instanceof Ds?qE(this._dataReader,"WriteBatch.update",s._key,n,r,i):BE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ye.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=es(e,this._firestore);return this._mutations=this._mutations.concat(new el(n._key,Ye.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function es(t,e){if((t=se(t)).firestore!==e)throw new L(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=pa(e)}get(e){const n=es(e,this._firestore),r=new b7(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return H();const s=i[0];if(s.isFoundDocument())return new ih(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ih(this._firestore,r,n._key,null,n.converter);throw H()})}set(e,n,r){const i=es(e,this._firestore),s=cg(i.converter,n,r),o=ig(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=es(e,this._firestore);let o;return o=typeof(n=se(n))=="string"||n instanceof Ds?qE(this._dataReader,"Transaction.update",s._key,n,r,i):BE(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=es(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=es(e,this._firestore),r=new ga(this._firestore);return super.get(e).then(i=>new ki(this._firestore,r,n._key,i._document,new _o(!1,!1),n.converter))}}function D7(t,e,n){t=_e(t,ct);const r=Object.assign(Object.assign({},A7),n);return function(i){if(i.maxAttempts<1)throw new L(A.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Rt;return i.asyncQueue.enqueueAndForget(async()=>{const u=await Uz(i);new Mz(i.asyncQueue,u,o,s,a).run()}),a.promise}(Mt(t),i=>e(new P7(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(){return new Qh("deleteField")}function F7(){return new jE("serverTimestamp")}function M7(...t){return new a7("arrayUnion",t)}function $7(...t){return new u7("arrayRemove",t)}function U7(t){return new l7("increment",t)}(function(t,e=!0){(function(n){Ju=n})(la),Cs(new Yr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ct(new GB(n.getProvider("auth-internal")),new XB(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new L(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),zr(iT,"3.8.1",t),zr(iT,"3.8.1","esm2017")})();const V7="@firebase/firestore-compat",j7="0.3.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function lk(){if(!aq())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Pp=class{constructor(e){this._delegate=e}static fromBase64String(e){return lk(),new Pp(Zr.fromBase64String(e))}static fromUint8Array(e){return uk(),new Pp(Zr.fromUint8Array(e))}toBase64(){return lk(),this._delegate.toBase64()}toUint8Array(){return uk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){return B7(t,["next","error","complete"])}function B7(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{enableIndexedDbPersistence(e,n){return Yz(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Jz(e._delegate)}clearIndexedDbPersistence(e){return Xz(e._delegate)}}class $2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Os||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Eu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Pz(this._delegate,e,n,r)}enableNetwork(){return e7(this._delegate)}disableNetwork(){return t7(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,h2("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Zz(this._delegate)}onSnapshotsInSync(e){return N7(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pu(this,d2(this._delegate,e))}catch(n){throw cn(n,"collection()","Firestore.collection()")}}doc(e){try{return new er(this,Ap(this._delegate,e))}catch(n){throw cn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ln(this,Dz(this._delegate,e))}catch(n){throw cn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return D7(this._delegate,n=>e(new U2(this,n)))}batch(){return Mt(this._delegate),new V2(new R7(this._delegate,e=>Gh(this._delegate,e)))}loadBundle(e){return n7(this._delegate,e)}namedQuery(e){return r7(this._delegate,e).then(n=>n?new ln(this,n):null)}}class hg extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pp(new Zr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return er.forKey(n,this.firestore,null)}}function z7(t){zB(t)}class U2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new hg(e)}get(e){const n=Io(e);return this._delegate.get(n).then(r=>new sh(this._firestore,new ki(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Io(e);return r?(JE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Io(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Io(e);return this._delegate.delete(n),this}}class V2{constructor(e){this._delegate=e}set(e,n,r){const i=Io(e);return r?(JE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Io(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Io(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Jo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new hc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oh(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Jo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Jo(e,new hg(e),n),i.set(n,s)),s}}Jo.INSTANCES=new WeakMap;class er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new er(n,new We(n._delegate,r,new z(e)))}static forKey(e,n,r){return new er(n,new We(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pu(this.firestore,d2(this._delegate,e))}catch(n){throw cn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=se(e),e instanceof We?p2(this._delegate,e):!1}set(e,n){n=JE("DocumentReference.set",n);try{return n?ok(this._delegate,e,n):ok(this._delegate,e)}catch(r){throw cn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?ak(this._delegate,e):ak(this._delegate,e,n,...r)}catch(i){throw cn(i,"updateDoc()","DocumentReference.update()")}}delete(){return x7(this._delegate)}onSnapshot(...e){const n=j2(e),r=B2(e,i=>new sh(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return M2(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=_7(this._delegate):(e==null?void 0:e.source)==="server"?n=I7(this._delegate):n=S7(this._delegate),n.then(r=>new sh(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new er(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function cn(t,e,n){return t.message=t.message.replace(e,n),t}function j2(t){for(const e of t)if(typeof e=="object"&&!vw(e))return e;return{}}function B2(t,e){var n,r;let i;return vw(t[0])?i=t[0]:vw(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class sh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new er(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return F2(this._delegate,e._delegate)}}class oh extends sh{data(e){const n=this._delegate.data(e);return WB(n!==void 0),n}}class ln{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hg(e)}where(e,n,r){try{return new ln(this.firestore,Vi(this._delegate,f7(e,n,r)))}catch(i){throw cn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ln(this.firestore,Vi(this._delegate,d7(e,n)))}catch(r){throw cn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ln(this.firestore,Vi(this._delegate,p7(e)))}catch(n){throw cn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ln(this.firestore,Vi(this._delegate,m7(e)))}catch(n){throw cn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ln(this.firestore,Vi(this._delegate,g7(...e)))}catch(n){throw cn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ln(this.firestore,Vi(this._delegate,y7(...e)))}catch(n){throw cn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ln(this.firestore,Vi(this._delegate,v7(...e)))}catch(n){throw cn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ln(this.firestore,Vi(this._delegate,w7(...e)))}catch(n){throw cn(n,"endAt()","Query.endAt()")}}isEqual(e){return m2(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=k7(this._delegate):(e==null?void 0:e.source)==="server"?n=C7(this._delegate):n=T7(this._delegate),n.then(r=>new ww(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=j2(e),r=B2(e,i=>new ww(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return M2(this._delegate,n,r)}withConverter(e){return new ln(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class W7{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new oh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ww{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ln(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new oh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new W7(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new oh(this._firestore,r))})}isEqual(e){return F2(this._delegate,e._delegate)}}class Pu extends ln{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new er(this.firestore,e):null}doc(e){try{return e===void 0?new er(this.firestore,Ap(this._delegate)):new er(this.firestore,Ap(this._delegate,e))}catch(n){throw cn(n,"doc()","CollectionReference.doc()")}}add(e){return O7(this._delegate,e).then(n=>new er(this.firestore,n))}isEqual(e){return p2(this._delegate,e._delegate)}withConverter(e){return new Pu(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Io(t){return _e(t,We)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(...e){this._delegate=new Ds(...e)}static documentId(){return new XE(mt.keyField().canonicalString())}isEqual(e){return e=se(e),e instanceof Ds?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._delegate=e}static serverTimestamp(){const e=F7();return e._methodName="FieldValue.serverTimestamp",new mo(e)}static delete(){const e=L7();return e._methodName="FieldValue.delete",new mo(e)}static arrayUnion(...e){const n=M7(...e);return n._methodName="FieldValue.arrayUnion",new mo(n)}static arrayRemove(...e){const n=$7(...e);return n._methodName="FieldValue.arrayRemove",new mo(n)}static increment(e){const n=U7(e);return n._methodName="FieldValue.increment",new mo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7={Firestore:$2,GeoPoint:ng,Timestamp:Je,Blob:Pp,Transaction:U2,WriteBatch:V2,DocumentReference:er,DocumentSnapshot:sh,Query:ln,QueryDocumentSnapshot:oh,QuerySnapshot:ww,CollectionReference:Pu,FieldPath:XE,FieldValue:mo,setLogLevel:z7,CACHE_SIZE_UNLIMITED:Kz};function H7(t,e){t.INTERNAL.registerComponent(new Yr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Q7)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){H7(t,(e,n)=>new $2(e,n,new q7)),t.registerVersion(V7,j7)}G7(Qs);const K7={apiKey:"AIzaSyC7df4AV5wSGFYNaCf5zKD0bWHB2soBzME",authDomain:"o-churrasco-e4e99.firebaseapp.com",projectId:"o-churrasco-e4e99",storageBucket:"o-churrasco-e4e99.appspot.com",messagingSenderId:"77605742025",appId:"1:77605742025:web:6fef65bcf497c6d469f418",measurementId:"G-HYJN6X0TW2"};Qs.initializeApp(K7);const ai=Qs.auth(),Y7=new Qs.auth.GoogleAuthProvider,J7=(t,e)=>{switch(e.type){case"LOGGED_IN_USER":return{...t,user:e.payload};default:return t}},X7={user:null},ni=S.createContext(),Z7=({children:t})=>{const[e,n]=S.useReducer(J7,X7);S.useEffect(()=>{const i=ai.onAuthStateChanged(async s=>{if(s){const o=await s.getIdTokenResult();console.log(o),n({type:"LOGGED_IN_USER",payload:{email:s.email,token:o.token}})}else n({type:"LOGGED_IN_USER",payload:null})});return()=>i()},[]);const r={state:e,dispatch:n};return v(ni.Provider,{value:r,children:t})};var bw={},eW={get exports(){return bw},set exports(t){bw=t}},q2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=S;function tW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nW=typeof Object.is=="function"?Object.is:tW,rW=Du.useState,iW=Du.useEffect,sW=Du.useLayoutEffect,oW=Du.useDebugValue;function aW(t,e){var n=e(),r=rW({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return sW(function(){i.value=n,i.getSnapshot=e,Zy(i)&&s({inst:i})},[t,n,e]),iW(function(){return Zy(i)&&s({inst:i}),t(function(){Zy(i)&&s({inst:i})})},[t]),oW(n),n}function Zy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nW(t,n)}catch{return!0}}function uW(t,e){return e()}var lW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uW:aW;q2.useSyncExternalStore=Du.useSyncExternalStore!==void 0?Du.useSyncExternalStore:lW;(function(t){t.exports=q2})(eW);var Ew={},cW={get exports(){return Ew},set exports(t){Ew=t}},z2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=S,hW=bw;function fW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dW=typeof Object.is=="function"?Object.is:fW,pW=hW.useSyncExternalStore,mW=fg.useRef,gW=fg.useEffect,yW=fg.useMemo,vW=fg.useDebugValue;z2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=mW(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=yW(function(){function u(d){if(!l){if(l=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return h=p}return h=d}if(p=h,dW(c,d))return p;var m=r(d);return i!==void 0&&i(p,m)?p:(c=d,h=m)}var l=!1,c,h,f=n===void 0?null:n;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,n,r,i]);var a=pW(t,s[0],s[1]);return gW(function(){o.hasValue=!0,o.value=a},[a]),vW(a),a};(function(t){t.exports=z2})(cW);function wW(t){t()}let W2=wW;const bW=t=>W2=t,EW=()=>W2,Fs=S.createContext(null);function Q2(){return S.useContext(Fs)}const SW=()=>{throw new Error("uSES not initialized!")};let H2=SW;const _W=t=>{H2=t},IW=(t,e)=>t===e;function TW(t=Fs){const e=t===Fs?Q2:()=>S.useContext(t);return function(r,i=IW){const{store:s,subscription:o,getServerState:a}=e(),u=H2(o.addNestedSub,s.getState,a||s.getState,r,i);return S.useDebugValue(u),u}}const dg=TW();var Sw={},kW={get exports(){return Sw},set exports(t){Sw=t}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,ZE=$t?Symbol.for("react.element"):60103,eS=$t?Symbol.for("react.portal"):60106,pg=$t?Symbol.for("react.fragment"):60107,mg=$t?Symbol.for("react.strict_mode"):60108,gg=$t?Symbol.for("react.profiler"):60114,yg=$t?Symbol.for("react.provider"):60109,vg=$t?Symbol.for("react.context"):60110,tS=$t?Symbol.for("react.async_mode"):60111,wg=$t?Symbol.for("react.concurrent_mode"):60111,bg=$t?Symbol.for("react.forward_ref"):60112,Eg=$t?Symbol.for("react.suspense"):60113,CW=$t?Symbol.for("react.suspense_list"):60120,Sg=$t?Symbol.for("react.memo"):60115,_g=$t?Symbol.for("react.lazy"):60116,xW=$t?Symbol.for("react.block"):60121,OW=$t?Symbol.for("react.fundamental"):60117,NW=$t?Symbol.for("react.responder"):60118,AW=$t?Symbol.for("react.scope"):60119;function Qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ZE:switch(t=t.type,t){case tS:case wg:case pg:case gg:case mg:case Eg:return t;default:switch(t=t&&t.$$typeof,t){case vg:case bg:case _g:case Sg:case yg:return t;default:return e}}case eS:return e}}}function G2(t){return Qn(t)===wg}Le.AsyncMode=tS;Le.ConcurrentMode=wg;Le.ContextConsumer=vg;Le.ContextProvider=yg;Le.Element=ZE;Le.ForwardRef=bg;Le.Fragment=pg;Le.Lazy=_g;Le.Memo=Sg;Le.Portal=eS;Le.Profiler=gg;Le.StrictMode=mg;Le.Suspense=Eg;Le.isAsyncMode=function(t){return G2(t)||Qn(t)===tS};Le.isConcurrentMode=G2;Le.isContextConsumer=function(t){return Qn(t)===vg};Le.isContextProvider=function(t){return Qn(t)===yg};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ZE};Le.isForwardRef=function(t){return Qn(t)===bg};Le.isFragment=function(t){return Qn(t)===pg};Le.isLazy=function(t){return Qn(t)===_g};Le.isMemo=function(t){return Qn(t)===Sg};Le.isPortal=function(t){return Qn(t)===eS};Le.isProfiler=function(t){return Qn(t)===gg};Le.isStrictMode=function(t){return Qn(t)===mg};Le.isSuspense=function(t){return Qn(t)===Eg};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pg||t===wg||t===gg||t===mg||t===Eg||t===CW||typeof t=="object"&&t!==null&&(t.$$typeof===_g||t.$$typeof===Sg||t.$$typeof===yg||t.$$typeof===vg||t.$$typeof===bg||t.$$typeof===OW||t.$$typeof===NW||t.$$typeof===AW||t.$$typeof===xW)};Le.typeOf=Qn;(function(t){t.exports=Le})(kW);var K2=Sw,RW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},PW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y2={};Y2[K2.ForwardRef]=RW;Y2[K2.Memo]=PW;var ck={},DW={get exports(){return ck},set exports(t){ck=t}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=Symbol.for("react.element"),rS=Symbol.for("react.portal"),Ig=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),LW=Symbol.for("react.server_context"),Og=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),Rg=Symbol.for("react.memo"),Pg=Symbol.for("react.lazy"),FW=Symbol.for("react.offscreen"),J2;J2=Symbol.for("react.module.reference");function ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nS:switch(t=t.type,t){case Ig:case kg:case Tg:case Ng:case Ag:return t;default:switch(t=t&&t.$$typeof,t){case LW:case xg:case Og:case Pg:case Rg:case Cg:return t;default:return e}}case rS:return e}}}Fe.ContextConsumer=xg;Fe.ContextProvider=Cg;Fe.Element=nS;Fe.ForwardRef=Og;Fe.Fragment=Ig;Fe.Lazy=Pg;Fe.Memo=Rg;Fe.Portal=rS;Fe.Profiler=kg;Fe.StrictMode=Tg;Fe.Suspense=Ng;Fe.SuspenseList=Ag;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return ar(t)===xg};Fe.isContextProvider=function(t){return ar(t)===Cg};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nS};Fe.isForwardRef=function(t){return ar(t)===Og};Fe.isFragment=function(t){return ar(t)===Ig};Fe.isLazy=function(t){return ar(t)===Pg};Fe.isMemo=function(t){return ar(t)===Rg};Fe.isPortal=function(t){return ar(t)===rS};Fe.isProfiler=function(t){return ar(t)===kg};Fe.isStrictMode=function(t){return ar(t)===Tg};Fe.isSuspense=function(t){return ar(t)===Ng};Fe.isSuspenseList=function(t){return ar(t)===Ag};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ig||t===kg||t===Tg||t===Ng||t===Ag||t===FW||typeof t=="object"&&t!==null&&(t.$$typeof===Pg||t.$$typeof===Rg||t.$$typeof===Cg||t.$$typeof===xg||t.$$typeof===Og||t.$$typeof===J2||t.getModuleId!==void 0)};Fe.typeOf=ar;(function(t){t.exports=Fe})(DW);function MW(){const t=EW();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const hk={notify(){},get:()=>[]};function $W(t,e){let n,r=hk;function i(h){return u(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function u(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=MW())}function l(){n&&(n(),n=void 0,r.clear(),r=hk)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const UW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VW=UW?S.useLayoutEffect:S.useEffect;function jW({store:t,context:e,children:n,serverState:r}){const i=S.useMemo(()=>{const a=$W(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=S.useMemo(()=>t.getState(),[t]);VW(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Fs;return Ce.createElement(o.Provider,{value:i},n)}function X2(t=Fs){const e=t===Fs?Q2:()=>S.useContext(t);return function(){const{store:r}=e();return r}}const BW=X2();function qW(t=Fs){const e=t===Fs?BW:X2(t);return function(){return e().dispatch}}const zW=qW();_W(Ew.useSyncExternalStoreWithSelector);bW(Ad.unstable_batchedUpdates);function mr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ms(t){return!!t&&!!t[Qe]}function Ci(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ZW}(t)||Array.isArray(t)||!!t[vk]||!!(!((e=t.constructor)===null||e===void 0)&&e[vk])||iS(t)||sS(t))}function Xo(t,e,n){n===void 0&&(n=!1),sl(t)===0?(n?Object.keys:ou)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function sl(t){var e=t[Qe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:iS(t)?2:sS(t)?3:0}function su(t,e){return sl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WW(t,e){return sl(t)===2?t.get(e):t[e]}function Z2(t,e,n){var r=sl(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function eL(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function iS(t){return JW&&t instanceof Map}function sS(t){return XW&&t instanceof Set}function ao(t){return t.o||t.t}function oS(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=nL(t);delete e[Qe];for(var n=ou(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function aS(t,e){return e===void 0&&(e=!1),uS(t)||Ms(t)||!Ci(t)||(sl(t)>1&&(t.set=t.add=t.clear=t.delete=QW),Object.freeze(t),e&&Xo(t,function(n,r){return aS(r,!0)},!0)),t}function QW(){mr(2)}function uS(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Gr(t){var e=kw[t];return e||mr(18,t),e}function HW(t,e){kw[t]||(kw[t]=e)}function _w(){return ah}function ev(t,e){e&&(Gr("Patches"),t.u=[],t.s=[],t.v=e)}function Dp(t){Iw(t),t.p.forEach(GW),t.p=null}function Iw(t){t===ah&&(ah=t.l)}function fk(t){return ah={p:[],l:ah,h:t,m:!0,_:0}}function GW(t){var e=t[Qe];e.i===0||e.i===1?e.j():e.O=!0}function tv(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Gr("ES5").S(e,t,r),r?(n[Qe].P&&(Dp(e),mr(4)),Ci(t)&&(t=Lp(e,t),e.l||Fp(e,t)),e.u&&Gr("Patches").M(n[Qe].t,t,e.u,e.s)):t=Lp(e,n,[]),Dp(e),e.u&&e.v(e.u,e.s),t!==tL?t:void 0}function Lp(t,e,n){if(uS(e))return e;var r=e[Qe];if(!r)return Xo(e,function(a,u){return dk(t,r,e,a,u,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Fp(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=oS(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Xo(s,function(a,u){return dk(t,r,i,a,u,n,o)}),Fp(t,i,!1),n&&t.u&&Gr("Patches").N(r,n,t.u,t.s)}return r.o}function dk(t,e,n,r,i,s,o){if(Ms(i)){var a=Lp(t,i,s&&e&&e.i!==3&&!su(e.R,r)?s.concat(r):void 0);if(Z2(n,r,a),!Ms(a))return;t.m=!1}else o&&n.add(i);if(Ci(i)&&!uS(i)){if(!t.h.D&&t._<1)return;Lp(t,i),e&&e.A.l||Fp(t,i)}}function Fp(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&aS(e,n)}function nv(t,e){var n=t[Qe];return(n?ao(n):t)[e]}function pk(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ts(t){t.P||(t.P=!0,t.l&&ts(t.l))}function rv(t){t.o||(t.o=oS(t.t))}function Tw(t,e,n){var r=iS(e)?Gr("MapSet").F(e,n):sS(e)?Gr("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:_w(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=uh;o&&(u=[a],l=ql);var c=Proxy.revocable(u,l),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):Gr("ES5").J(e,n);return(n?n.A:_w()).p.push(r),r}function KW(t){return Ms(t)||mr(22,t),function e(n){if(!Ci(n))return n;var r,i=n[Qe],s=sl(n);if(i){if(!i.P&&(i.i<4||!Gr("ES5").K(i)))return i.t;i.I=!0,r=mk(n,s),i.I=!1}else r=mk(n,s);return Xo(r,function(o,a){i&&WW(i.t,o)===a||Z2(r,o,e(a))}),s===3?new Set(r):r}(t)}function mk(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return oS(t)}function YW(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[Qe];return uh.get(u,s)},set:function(u){var l=this[Qe];uh.set(l,s,u)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Qe];if(!a.P)switch(a.i){case 5:r(a)&&ts(a);break;case 4:n(a)&&ts(a)}}}function n(s){for(var o=s.t,a=s.k,u=ou(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==Qe){var h=o[c];if(h===void 0&&!su(o,c))return!0;var f=a[c],d=f&&f[Qe];if(d?d.t!==h:!eL(f,h))return!0}}var p=!!o[Qe];return u.length!==ou(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};HW("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,h){if(c){for(var f=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(f,""+d,t(d,!0));return f}var p=nL(h);delete p[Qe];for(var m=ou(p),b=0;b<m.length;b++){var g=m[b];p[g]=t(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(h),p)}(a,s),l={i:a?5:4,A:o?o.A:_w(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,Qe,{value:l,writable:!0}),u},S:function(s,o,a){a?Ms(o)&&o[Qe].A===s&&e(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[Qe];if(c){var h=c.t,f=c.k,d=c.R,p=c.i;if(p===4)Xo(f,function(w){w!==Qe&&(h[w]!==void 0||su(h,w)?d[w]||u(f[w]):(d[w]=!0,ts(c)))}),Xo(h,function(w){f[w]!==void 0||su(f,w)||(d[w]=!1,ts(c))});else if(p===5){if(r(c)&&(ts(c),d.length=!0),f.length<h.length)for(var m=f.length;m<h.length;m++)d[m]=!1;else for(var b=h.length;b<f.length;b++)d[b]=!0;for(var g=Math.min(f.length,h.length),y=0;y<g;y++)f.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&u(f[y])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var gk,ah,lS=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",JW=typeof Map<"u",XW=typeof Set<"u",yk=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",tL=lS?Symbol.for("immer-nothing"):((gk={})["immer-nothing"]=!0,gk),vk=lS?Symbol.for("immer-draftable"):"__$immer_draftable",Qe=lS?Symbol.for("immer-state"):"__$immer_state",ZW=""+Object.prototype.constructor,ou=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,nL=Object.getOwnPropertyDescriptors||function(t){var e={};return ou(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},kw={},uh={get:function(t,e){if(e===Qe)return t;var n=ao(t);if(!su(n,e))return function(i,s,o){var a,u=pk(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Ci(r)?r:r===nv(t.t,e)?(rv(t),t.o[e]=Tw(t.A.h,r,t)):r},has:function(t,e){return e in ao(t)},ownKeys:function(t){return Reflect.ownKeys(ao(t))},set:function(t,e,n){var r=pk(ao(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=nv(ao(t),e),s=i==null?void 0:i[Qe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(eL(n,i)&&(n!==void 0||su(t.t,e)))return!0;rv(t),ts(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return nv(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,rv(t),ts(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ao(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){mr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){mr(12)}},ql={};Xo(uh,function(t,e){ql[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ql.deleteProperty=function(t,e){return ql.set.call(this,t,e,void 0)},ql.set=function(t,e,n){return uh.set.call(this,t[0],e,n,t[0])};var eQ=function(){function t(n){var r=this;this.g=yk,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var b=this;m===void 0&&(m=a);for(var g=arguments.length,y=Array(g>1?g-1:0),w=1;w<g;w++)y[w-1]=arguments[w];return u.produce(m,function(E){var _;return(_=s).call.apply(_,[b,E].concat(y))})}}var l;if(typeof s!="function"&&mr(6),o!==void 0&&typeof o!="function"&&mr(7),Ci(i)){var c=fk(r),h=Tw(r,i,void 0),f=!0;try{l=s(h),f=!1}finally{f?Dp(c):Iw(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return ev(c,o),tv(m,c)},function(m){throw Dp(c),m}):(ev(c,o),tv(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===tL&&(l=void 0),r.D&&aS(l,!0),o){var d=[],p=[];Gr("Patches").M(i,l,d,p),o(d,p)}return l}mr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(h))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ci(n)||mr(8),Ms(n)&&(n=KW(n));var r=fk(this),i=Tw(this,n,void 0);return i[Qe].C=!0,Iw(r),i},e.finishDraft=function(n,r){var i=n&&n[Qe],s=i.A;return ev(s,r),tv(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!yk&&mr(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Gr("Patches").$;return Ms(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),qn=new eQ,rL=qn.produce;qn.produceWithPatches.bind(qn);qn.setAutoFreeze.bind(qn);qn.setUseProxies.bind(qn);qn.applyPatches.bind(qn);qn.createDraft.bind(qn);qn.finishDraft.bind(qn);function wr(t){return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(t)}function tQ(t,e){if(wr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iL(t){var e=tQ(t,"string");return wr(e)==="symbol"?e:String(e)}function ri(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function en(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ek=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),iv=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mp={INIT:"@@redux/INIT"+iv(),REPLACE:"@@redux/REPLACE"+iv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+iv()}};function nQ(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function sL(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(en(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(en(1));return n(sL)(t,e)}if(typeof t!="function")throw new Error(en(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(en(3));return s}function h(m){if(typeof m!="function")throw new Error(en(4));if(u)throw new Error(en(5));var b=!0;return l(),a.push(m),function(){if(b){if(u)throw new Error(en(6));b=!1,l();var y=a.indexOf(m);a.splice(y,1),o=null}}}function f(m){if(!nQ(m))throw new Error(en(7));if(typeof m.type>"u")throw new Error(en(8));if(u)throw new Error(en(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var b=o=a,g=0;g<b.length;g++){var y=b[g];y()}return m}function d(m){if(typeof m!="function")throw new Error(en(10));i=m,f({type:Mp.REPLACE})}function p(){var m,b=h;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(en(11));function w(){y.next&&y.next(c())}w();var E=b(w);return{unsubscribe:E}}},m[Ek]=function(){return this},m}return f({type:Mp.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[Ek]=p,r}function rQ(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Mp.INIT});if(typeof r>"u")throw new Error(en(12));if(typeof n(void 0,{type:Mp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(en(13))})}function iQ(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{rQ(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],p=n[d],m=u[d],b=p(m,l);if(typeof b>"u")throw l&&l.type,new Error(en(14));h[d]=b,c=c||b!==m}return c=c||s.length!==Object.keys(u).length,c?h:u}}function $p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function sQ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(en(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=$p.apply(void 0,a)(i.dispatch),bk(bk({},i),{},{dispatch:s})}}}function oL(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var aL=oL();aL.withExtraArgument=oL;const Sk=aL;var oQ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aQ=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Up=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},uQ=Object.defineProperty,lQ=Object.defineProperties,cQ=Object.getOwnPropertyDescriptors,_k=Object.getOwnPropertySymbols,hQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,Ik=function(t,e,n){return e in t?uQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ws=function(t,e){for(var n in e||(e={}))hQ.call(e,n)&&Ik(t,n,e[n]);if(_k)for(var r=0,i=_k(e);r<i.length;r++){var n=i[r];fQ.call(e,n)&&Ik(t,n,e[n])}return t},sv=function(t,e){return lQ(t,cQ(e))},dQ=function(t,e,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(t,e)).next())})},pQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$p:$p.apply(null,arguments)};function mQ(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var gQ=function(t){oQ(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Up([void 0],n[0].concat(this)))):new(e.bind.apply(e,Up([void 0],n.concat(this))))},e}(Array);function Cw(t){return Ci(t)?rL(t,function(){}):t}function yQ(t){return typeof t=="boolean"}function vQ(){return function(e){return wQ(e)}}function wQ(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new gQ;return n&&(yQ(n)?r.push(Sk):r.push(Sk.withExtraArgument(n.extraArgument))),r}var bQ=!0;function EQ(t){var e=vQ(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,h=n.enhancers,f=h===void 0?void 0:h,d;if(typeof i=="function")d=i;else if(mQ(i))d=iQ(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var m=sQ.apply(void 0,p),b=$p;u&&(b=pQ(ws({trace:!bQ},typeof u=="object"&&u)));var g=[m];Array.isArray(f)?g=Up([m],f):typeof f=="function"&&(g=f(g));var y=b.apply(void 0,g);return sL(d,c,y)}function bs(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return ws(ws({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function uL(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function SQ(t){return typeof t=="function"}function _Q(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?uL(e):[e,n,r],s=i[0],o=i[1],a=i[2],u;if(SQ(t))u=function(){return Cw(t())};else{var l=Cw(t);u=function(){return l}}function c(h,f){h===void 0&&(h=u());var d=Up([s[f.type]],o.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return d.filter(function(p){return!!p}).length===0&&(d=[a]),d.reduce(function(p,m){if(m)if(Ms(p)){var b=p,g=m(b,f);return g===void 0?p:g}else{if(Ci(p))return rL(p,function(y){return m(y,f)});var g=m(p,f);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},h)}return c.getInitialState=u,c}function IQ(t,e){return t+"/"+e}function cS(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof Is<"u";var n=typeof t.initialState=="function"?t.initialState:Cw(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=IQ(e,c),d,p;"reducer"in h?(d=h.reducer,p=h.prepare):d=h,s[c]=d,o[f]=d,a[c]=p?bs(f,p):bs(f)});function u(){var c=typeof t.extraReducers=="function"?uL(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,d=c[1],p=d===void 0?[]:d,m=c[2],b=m===void 0?void 0:m,g=ws(ws({},f),o);return _Q(n,function(y){for(var w in g)y.addCase(w,g[w]);for(var E=0,_=p;E<_.length;E++){var T=_[E];y.addMatcher(T.matcher,T.reducer)}b&&y.addDefaultCase(b)})}var l;return{name:e,reducer:function(c,h){return l||(l=u()),l(c,h)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var TQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kQ=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=TQ[Math.random()*64|0];return e},CQ=["name","message","stack","code"],ov=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Tk=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),xQ=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=CQ;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=bs(e+"/fulfilled",function(l,c,h,f){return{payload:l,meta:sv(ws({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=bs(e+"/pending",function(l,c,h){return{payload:void 0,meta:sv(ws({},h||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=bs(e+"/rejected",function(l,c,h,f,d){return{payload:f,error:(r&&r.serializeError||xQ)(l||"Rejected"),meta:sv(ws({},d||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,h,f){var d=r!=null&&r.idGenerator?r.idGenerator(l):kQ(),p=new a,m;function b(y){m=y,p.abort()}var g=function(){return dQ(this,null,function(){var y,w,E,_,T,k,x;return aQ(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),_=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:h,extra:f}),NQ(_)?[4,_]:[3,2];case 1:_=M.sent(),M.label=2;case 2:if(_===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(C,ae){return p.signal.addEventListener("abort",function(){return ae({name:"AbortError",message:m||"Aborted"})})}),c(s(d,l,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:d,arg:l},{getState:h,extra:f}))),[4,Promise.race([T,Promise.resolve(n(l,{dispatch:c,getState:h,extra:f,requestId:d,signal:p.signal,abort:b,rejectWithValue:function(C,ae){return new ov(C,ae)},fulfillWithValue:function(C,ae){return new Tk(C,ae)}})).then(function(C){if(C instanceof ov)throw C;return C instanceof Tk?i(C.payload,d,l,C.meta):i(C,d,l)})])];case 3:return E=M.sent(),[3,5];case 4:return k=M.sent(),E=k instanceof ov?o(null,d,l,k.payload,k.meta):o(k,d,l),[3,5];case 5:return x=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,x||c(E),[2,E]}})})}();return Object.assign(g,{abort:b,requestId:d,arg:l,unwrap:function(){return g.then(OQ)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function OQ(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function NQ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var hS="listenerMiddleware";bs(hS+"/add");bs(hS+"/removeAll");bs(hS+"/remove");var kk;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof gt<"u"?gt:globalThis);YW();const AQ=()=>{const t=localStorage.getItem("theme");return["lightTheme","darkTheme"].includes(t)?t:window.matchMedia("(prefers-color-scheme: light)").matches?"lightTheme":"darkTheme"},RQ=AQ(),PQ=cS({name:"theme",initialState:RQ,reducers:{setTheme:(t,e)=>e.payload}}),DQ=PQ.reducer,LQ=()=>"myAppPath",FQ=LQ(),lL=cS({name:"app",initialState:FQ,reducers:{setAppPath:(t,e)=>e.payload}}),{setAppPath:MQ}=lL.actions,$Q=lL.reducer,UQ=()=>"100px",VQ=UQ(),jQ=cS({name:"headerHeight",initialState:VQ,reducers:{setHeaderHeight:(t,e)=>e.payload}}),BQ=jQ.reducer,qQ=EQ({reducer:{theme:DQ,appPath:$Q,headerHeight:BQ}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xw=function(){return xw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xw.apply(this,arguments)},Ow,zQ=function(t){var e;t?function(n){if(n)for(;n.lastChild;)n.lastChild.remove()}(typeof t=="string"?document.getElementById(t):t):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},WQ=function(t,e){zQ(e),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+t);n&&n.remove(),function(){var r=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');r&&r.remove()}()},QQ=function(t){var e=t.render,n=t.onLoadCallbackName,r=t.language,i=t.onLoad,s=t.useRecaptchaNet,o=t.useEnterprise,a=t.scriptProps,u=a===void 0?{}:a,l=u.nonce,c=l===void 0?"":l,h=u.defer,f=h!==void 0&&h,d=u.async,p=d!==void 0&&d,m=u.id,b=m===void 0?"":m,g=u.appendTo,y=b||"google-recaptcha-v3";if(function(_){return!!document.querySelector("#"+_)}(y))i();else{var w=function(_){return"https://www."+(_.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(_.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:o,useRecaptchaNet:s}),E=document.createElement("script");E.id=y,E.src=w+"?render="+e+(e==="explicit"?"&onload="+n:"")+(r?"&hl="+r:""),c&&(E.nonce=c),E.defer=!!f,E.async=!!p,E.onload=i,(g==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(E)}},av=function(t){typeof Is<"u"&&Is.env&&!1||console.warn(t)};(function(t){t.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Ow||(Ow={}));var fS=S.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});fS.Consumer;function HQ(t){var e=t.reCaptchaKey,n=t.useEnterprise,r=n!==void 0&&n,i=t.useRecaptchaNet,s=i!==void 0&&i,o=t.scriptProps,a=t.language,u=t.container,l=t.children,c=S.useState(null),h=c[0],f=c[1],d=S.useRef(e),p=JSON.stringify(o),m=JSON.stringify(u==null?void 0:u.parameters);S.useEffect(function(){if(e){var y=(o==null?void 0:o.id)||"google-recaptcha-v3",w=(o==null?void 0:o.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[w]=function(){var E=r?window.grecaptcha.enterprise:window.grecaptcha,_=xw({badge:"inline",size:"invisible",sitekey:e},(u==null?void 0:u.parameters)||{});d.current=E.render(u==null?void 0:u.element,_)},QQ({render:u!=null&&u.element?"explicit":e,onLoadCallbackName:w,useEnterprise:r,useRecaptchaNet:s,scriptProps:o,language:a,onLoad:function(){if(window&&window.grecaptcha){var E=r?window.grecaptcha.enterprise:window.grecaptcha;E.ready(function(){f(E)})}else av("<GoogleRecaptchaProvider /> "+Ow.SCRIPT_NOT_AVAILABLE)},onError:function(){av("Error loading google recaptcha script")}}),function(){WQ(y,u==null?void 0:u.element)}}av("<GoogleReCaptchaProvider /> recaptcha key not provided")},[r,s,p,m,a,e,u==null?void 0:u.element]);var b=S.useCallback(function(y){if(!h||!h.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return h.execute(d.current,{action:y})},[h,d]),g=S.useMemo(function(){return{executeRecaptcha:h?b:void 0,container:u==null?void 0:u.element}},[b,h,u==null?void 0:u.element]);return Ce.createElement(fS.Provider,{value:g},l)}var GQ=function(){return S.useContext(fS)};function cL(t,e){return t(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var Ut=typeof Symbol=="function"&&Symbol.for,Nw=Ut?Symbol.for("react.element"):60103,Aw=Ut?Symbol.for("react.portal"):60106,od=Ut?Symbol.for("react.fragment"):60107,ad=Ut?Symbol.for("react.strict_mode"):60108,ud=Ut?Symbol.for("react.profiler"):60114,ld=Ut?Symbol.for("react.provider"):60109,cd=Ut?Symbol.for("react.context"):60110,Rw=Ut?Symbol.for("react.async_mode"):60111,Vp=Ut?Symbol.for("react.concurrent_mode"):60111,hd=Ut?Symbol.for("react.forward_ref"):60112,fd=Ut?Symbol.for("react.suspense"):60113,KQ=Ut?Symbol.for("react.suspense_list"):60120,dd=Ut?Symbol.for("react.memo"):60115,pd=Ut?Symbol.for("react.lazy"):60116,YQ=Ut?Symbol.for("react.block"):60121,JQ=Ut?Symbol.for("react.fundamental"):60117,XQ=Ut?Symbol.for("react.responder"):60118,ZQ=Ut?Symbol.for("react.scope"):60119;function Rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nw:switch(t=t.type){case Rw:case Vp:case od:case ud:case ad:case fd:return t;default:switch(t=t&&t.$$typeof){case cd:case hd:case pd:case dd:case ld:return t;default:return e}}case Aw:return e}}}function Ck(t){return Rn(t)===Vp}var eH={AsyncMode:Rw,ConcurrentMode:Vp,ContextConsumer:cd,ContextProvider:ld,Element:Nw,ForwardRef:hd,Fragment:od,Lazy:pd,Memo:dd,Portal:Aw,Profiler:ud,StrictMode:ad,Suspense:fd,isAsyncMode:function(t){return Ck(t)||Rn(t)===Rw},isConcurrentMode:Ck,isContextConsumer:function(t){return Rn(t)===cd},isContextProvider:function(t){return Rn(t)===ld},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nw},isForwardRef:function(t){return Rn(t)===hd},isFragment:function(t){return Rn(t)===od},isLazy:function(t){return Rn(t)===pd},isMemo:function(t){return Rn(t)===dd},isPortal:function(t){return Rn(t)===Aw},isProfiler:function(t){return Rn(t)===ud},isStrictMode:function(t){return Rn(t)===ad},isSuspense:function(t){return Rn(t)===fd},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===od||t===Vp||t===ud||t===ad||t===fd||t===KQ||typeof t=="object"&&t!==null&&(t.$$typeof===pd||t.$$typeof===dd||t.$$typeof===ld||t.$$typeof===cd||t.$$typeof===hd||t.$$typeof===JQ||t.$$typeof===XQ||t.$$typeof===ZQ||t.$$typeof===YQ)},typeOf:Rn},Me=cL(function(t,e){}),xk=(Me.AsyncMode,Me.ConcurrentMode,Me.ContextConsumer,Me.ContextProvider,Me.Element,Me.ForwardRef,Me.Fragment,Me.Lazy,Me.Memo,Me.Portal,Me.Profiler,Me.StrictMode,Me.Suspense,Me.isAsyncMode,Me.isConcurrentMode,Me.isContextConsumer,Me.isContextProvider,Me.isElement,Me.isForwardRef,Me.isFragment,Me.isLazy,Me.isMemo,Me.isPortal,Me.isProfiler,Me.isStrictMode,Me.isSuspense,Me.isValidElementType,Me.typeOf,cL(function(t){t.exports=eH})),tH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ok={};Ok[xk.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ok[xk.Memo]=tH;var uv="Invariant Violation",Nk=Object.setPrototypeOf,nH=Nk===void 0?function(t,e){return t.__proto__=e,t}:Nk,Ne=function(t){or(e,t);function e(n){n===void 0&&(n=uv);var r=t.call(this,typeof n=="number"?uv+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=uv,nH(r,e.prototype),r}return e}(Error);function V(t,e){if(!t)throw new Ne(e)}var hL=["debug","log","warn","error","silent"],rH=hL.indexOf("log");function Of(t){return function(){if(hL.indexOf(t)>=rH){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=Of("debug"),t.log=Of("log"),t.warn=Of("warn"),t.error=Of("error")})(V||(V={}));function Xn(t){try{return t()}catch{}}const Ak=Xn(function(){return globalThis})||Xn(function(){return window})||Xn(function(){return self})||Xn(function(){return gt})||Xn(function(){return Xn.constructor("return this")()});var Rk="__",Pk=[Rk,Rk].join("DEV");function iH(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(Ak,Pk,{value:Xn(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),Ak[Pk]}}const lv=iH();function Yi(t){try{return t()}catch{}}var Pw=Yi(function(){return globalThis})||Yi(function(){return window})||Yi(function(){return self})||Yi(function(){return gt})||Yi(function(){return Yi.constructor("return this")()}),Dw=!1;function sH(){Pw&&!Yi(function(){return"production"})&&!Yi(function(){return Is})&&(Object.defineProperty(Pw,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Dw=!0)}sH();function Dk(){Dw&&(delete Pw.process,Dw=!1)}function md(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?md=function(n){return typeof n}:md=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},md(t)}function oH(t){return md(t)=="object"&&t!==null}var fL=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function Lw(t,e){for(var n=/\r\n|[\n\r]/g,r=1,i=e+1,s;(s=n.exec(t.body))&&s.index<e;)r+=1,i=e+1-(s.index+s[0].length);return{line:r,column:i}}function aH(t){return dL(t.source,Lw(t.source,t.start))}function dL(t,e){var n=t.locationOffset.column-1,r=gd(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?n:0,u=e.column+a,l="".concat(t.name,":").concat(o,":").concat(u,`
`),c=r.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){for(var f=Math.floor(u/80),d=u%80,p=[],m=0;m<h.length;m+=80)p.push(h.slice(m,m+80));return l+Lk([["".concat(o),p[0]]].concat(p.slice(1,f+1).map(function(b){return["",b]}),[[" ",gd(d-1)+"^"],["",p[f+1]]]))}return l+Lk([["".concat(o-1),c[i-1]],["".concat(o),h],["",gd(u-1)+"^"],["".concat(o+1),c[i+1]]])}function Lk(t){var e=t.filter(function(r){r[0];var i=r[1];return i!==void 0}),n=Math.max.apply(Math,e.map(function(r){var i=r[0];return i.length}));return e.map(function(r){var i=r[0],s=r[1];return uH(n,i)+(s?" | "+s:" |")}).join(`
`)}function gd(t){return Array(t+1).join(" ")}function uH(t,e){return gd(t-e.length)+e}function yd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(n){return typeof n}:yd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yd(t)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){cH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fH(t,e,n){return e&&Mk(t.prototype,e),n&&Mk(t,n),t}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lh(t,e)}function pH(t){var e=mL();return function(){var r=ch(t),i;if(e){var s=ch(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return pL(this,i)}}function pL(t,e){return e&&(yd(e)==="object"||typeof e=="function")?e:zl(t)}function zl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fw(t){var e=typeof Map=="function"?new Map:void 0;return Fw=function(r){if(r===null||!mH(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return vd(r,arguments,ch(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),lh(i,r)},Fw(t)}function vd(t,e,n){return mL()?vd=Reflect.construct:vd=function(i,s,o){var a=[null];a.push.apply(a,s);var u=Function.bind.apply(i,a),l=new u;return o&&lh(l,o.prototype),l},vd.apply(null,arguments)}function mL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function mH(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function lh(t,e){return lh=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lh(t,e)}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(t)}var gH=function(t){dH(n,t);var e=pH(n);function n(r,i,s,o,a,u,l){var c,h,f,d;hH(this,n),d=e.call(this,r),d.name="GraphQLError",d.originalError=u??void 0,d.nodes=$k(Array.isArray(i)?i:i?[i]:void 0);for(var p=[],m=0,b=(g=d.nodes)!==null&&g!==void 0?g:[];m<b.length;m++){var g,y=b[m],w=y.loc;w!=null&&p.push(w)}p=$k(p),d.source=s??((c=p)===null||c===void 0?void 0:c[0].source),d.positions=o??((h=p)===null||h===void 0?void 0:h.map(function(_){return _.start})),d.locations=o&&s?o.map(function(_){return Lw(s,_)}):(f=p)===null||f===void 0?void 0:f.map(function(_){return Lw(_.source,_.start)}),d.path=a??void 0;var E=u==null?void 0:u.extensions;return l==null&&oH(E)?d.extensions=lH({},E):d.extensions=l??{},Object.defineProperties(zl(d),{message:{enumerable:!0},locations:{enumerable:d.locations!=null},path:{enumerable:d.path!=null},extensions:{enumerable:d.extensions!=null&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?(Object.defineProperty(zl(d),"stack",{value:u.stack,writable:!0,configurable:!0}),pL(d)):(Error.captureStackTrace?Error.captureStackTrace(zl(d),n):Object.defineProperty(zl(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return fH(n,[{key:"toString",value:function(){return yH(this)}},{key:fL,get:function(){return"Object"}}]),n}(Fw(Error));function $k(t){return t===void 0||t.length===0?void 0:t}function yH(t){var e=t.message;if(t.nodes)for(var n=0,r=t.nodes;n<r.length;n++){var i=r[n];i.loc&&(e+=`

`+aH(i.loc))}else if(t.source&&t.locations)for(var s=0,o=t.locations;s<o.length;s++){var a=o[s];e+=`

`+dL(t.source,a)}return e}function $n(t,e,n){return new gH("Syntax Error: ".concat(n),void 0,t,[e])}var Z=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function vH(t,e){var n=Boolean(t);if(!n)throw new Error(e??"Unexpected invariant triggered.")}var wH=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const Mw=wH;function gL(t){var e=t.prototype.toJSON;typeof e=="function"||vH(0),t.prototype.inspect=e,Mw&&(t.prototype[Mw]=e)}var yL=function(){function t(n,r,i){this.start=n.start,this.end=r.end,this.startToken=n,this.endToken=r,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();gL(yL);var it=function(){function t(n,r,i,s,o,a,u){this.kind=n,this.start=r,this.end=i,this.line=s,this.column=o,this.value=u,this.prev=a,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();gL(it);function Uk(t){return t!=null&&typeof t.kind=="string"}var D=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function wd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wd=function(n){return typeof n}:wd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wd(t)}var bH=10,vL=2;function wL(t){return Dg(t,[])}function Dg(t,e){switch(wd(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":EH(t,e);default:return String(t)}}function EH(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var n=[].concat(e,[t]),r=IH(t);if(r!==void 0){var i=r.call(t);if(i!==t)return typeof i=="string"?i:Dg(i,n)}else if(Array.isArray(t))return _H(t,n);return SH(t,n)}function SH(t,e){var n=Object.keys(t);if(n.length===0)return"{}";if(e.length>vL)return"["+TH(t)+"]";var r=n.map(function(i){var s=Dg(t[i],e);return i+": "+s});return"{ "+r.join(", ")+" }"}function _H(t,e){if(t.length===0)return"[]";if(e.length>vL)return"[Array]";for(var n=Math.min(bH,t.length),r=t.length-n,i=[],s=0;s<n;++s)i.push(Dg(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}function IH(t){var e=t[String(Mw)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function TH(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}function cv(t,e){var n=Boolean(t);if(!n)throw new Error(e)}const kH=function(e,n){return e instanceof n};function Vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CH(t,e,n){return e&&Vk(t.prototype,e),n&&Vk(t,n),t}var dS=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||cv(0,"Body must be a string. Received: ".concat(wL(e),".")),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||cv(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||cv(0,"column in locationOffset is 1-indexed and must be positive.")}return CH(t,[{key:fL,get:function(){return"Source"}}]),t}();function xH(t){return kH(t,dS)}var OH=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function NH(t){var e=t.split(/\r\n|[\n\r]/g),n=AH(t);if(n!==0)for(var r=1;r<e.length;r++)e[r]=e[r].slice(n);for(var i=0;i<e.length&&jk(e[i]);)++i;for(var s=e.length;s>i&&jk(e[s-1]);)--s;return e.slice(i,s).join(`
`)}function jk(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function AH(t){for(var e,n=!0,r=!0,i=0,s=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(s===null||i<s)&&(s=i),r=!1}return(e=s)!==null&&e!==void 0?e:0}function RH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",s=t[t.length-1]==='"',o=t[t.length-1]==="\\",a=!r||s||o||n,u="";return a&&!(r&&i)&&(u+=`
`+e),u+=e?t.replace(/\n/g,`
`+e):t,a&&(u+=`
`),'"""'+u.replace(/"""/g,'\\"""')+'"""'}var PH=function(){function t(n){var r=new it(D.SOF,0,0,0,0,null);this.source=n,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var r=this.token=this.lookahead();return r},e.lookahead=function(){var r=this.token;if(r.kind!==D.EOF)do{var i;r=(i=r.next)!==null&&i!==void 0?i:r.next=LH(this,r)}while(r.kind===D.COMMENT);return r},t}();function DH(t){return t===D.BANG||t===D.DOLLAR||t===D.AMP||t===D.PAREN_L||t===D.PAREN_R||t===D.SPREAD||t===D.COLON||t===D.EQUALS||t===D.AT||t===D.BRACKET_L||t===D.BRACKET_R||t===D.BRACE_L||t===D.PIPE||t===D.BRACE_R}function Zo(t){return isNaN(t)?D.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function LH(t,e){for(var n=t.source,r=n.body,i=r.length,s=e.end;s<i;){var o=r.charCodeAt(s),a=t.line,u=1+s-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:r.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new it(D.BANG,s,s+1,a,u,e);case 35:return MH(n,s,a,u,e);case 36:return new it(D.DOLLAR,s,s+1,a,u,e);case 38:return new it(D.AMP,s,s+1,a,u,e);case 40:return new it(D.PAREN_L,s,s+1,a,u,e);case 41:return new it(D.PAREN_R,s,s+1,a,u,e);case 46:if(r.charCodeAt(s+1)===46&&r.charCodeAt(s+2)===46)return new it(D.SPREAD,s,s+3,a,u,e);break;case 58:return new it(D.COLON,s,s+1,a,u,e);case 61:return new it(D.EQUALS,s,s+1,a,u,e);case 64:return new it(D.AT,s,s+1,a,u,e);case 91:return new it(D.BRACKET_L,s,s+1,a,u,e);case 93:return new it(D.BRACKET_R,s,s+1,a,u,e);case 123:return new it(D.BRACE_L,s,s+1,a,u,e);case 124:return new it(D.PIPE,s,s+1,a,u,e);case 125:return new it(D.BRACE_R,s,s+1,a,u,e);case 34:return r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34?VH(n,s,a,u,e,t):UH(n,s,a,u,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return $H(n,s,o,a,u,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return BH(n,s,a,u,e)}throw $n(n,s,FH(o))}var l=t.line,c=1+s-t.lineStart;return new it(D.EOF,i,i,l,c,e)}function FH(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(Zo(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Zo(t),".")}function MH(t,e,n,r,i){var s=t.body,o,a=e;do o=s.charCodeAt(++a);while(!isNaN(o)&&(o>31||o===9));return new it(D.COMMENT,e,a,n,r,i,s.slice(e+1,a))}function $H(t,e,n,r,i,s){var o=t.body,a=n,u=e,l=!1;if(a===45&&(a=o.charCodeAt(++u)),a===48){if(a=o.charCodeAt(++u),a>=48&&a<=57)throw $n(t,u,"Invalid number, unexpected digit after 0: ".concat(Zo(a),"."))}else u=hv(t,u,a),a=o.charCodeAt(u);if(a===46&&(l=!0,a=o.charCodeAt(++u),u=hv(t,u,a),a=o.charCodeAt(u)),(a===69||a===101)&&(l=!0,a=o.charCodeAt(++u),(a===43||a===45)&&(a=o.charCodeAt(++u)),u=hv(t,u,a),a=o.charCodeAt(u)),a===46||qH(a))throw $n(t,u,"Invalid number, expected digit but got: ".concat(Zo(a),"."));return new it(l?D.FLOAT:D.INT,e,u,r,i,s,o.slice(e,u))}function hv(t,e,n){var r=t.body,i=e,s=n;if(s>=48&&s<=57){do s=r.charCodeAt(++i);while(s>=48&&s<=57);return i}throw $n(t,i,"Invalid number, expected digit but got: ".concat(Zo(s),"."))}function UH(t,e,n,r,i){for(var s=t.body,o=e+1,a=o,u=0,l="";o<s.length&&!isNaN(u=s.charCodeAt(o))&&u!==10&&u!==13;){if(u===34)return l+=s.slice(a,o),new it(D.STRING,e,o+1,n,r,i,l);if(u<32&&u!==9)throw $n(t,o,"Invalid character within String: ".concat(Zo(u),"."));if(++o,u===92){switch(l+=s.slice(a,o-1),u=s.charCodeAt(o),u){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+=`
`;break;case 114:l+="\r";break;case 116:l+="	";break;case 117:{var c=jH(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(c<0){var h=s.slice(o+1,o+5);throw $n(t,o,"Invalid character escape sequence: \\u".concat(h,"."))}l+=String.fromCharCode(c),o+=4;break}default:throw $n(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}++o,a=o}}throw $n(t,o,"Unterminated string.")}function VH(t,e,n,r,i,s){for(var o=t.body,a=e+3,u=a,l=0,c="";a<o.length&&!isNaN(l=o.charCodeAt(a));){if(l===34&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34)return c+=o.slice(u,a),new it(D.BLOCK_STRING,e,a+3,n,r,i,NH(c));if(l<32&&l!==9&&l!==10&&l!==13)throw $n(t,a,"Invalid character within String: ".concat(Zo(l),"."));l===10?(++a,++s.line,s.lineStart=a):l===13?(o.charCodeAt(a+1)===10?a+=2:++a,++s.line,s.lineStart=a):l===92&&o.charCodeAt(a+1)===34&&o.charCodeAt(a+2)===34&&o.charCodeAt(a+3)===34?(c+=o.slice(u,a)+'"""',a+=4,u=a):++a}throw $n(t,a,"Unterminated string.")}function jH(t,e,n,r){return Nf(t)<<12|Nf(e)<<8|Nf(n)<<4|Nf(r)}function Nf(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function BH(t,e,n,r,i){for(var s=t.body,o=s.length,a=e+1,u=0;a!==o&&!isNaN(u=s.charCodeAt(a))&&(u===95||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++a;return new it(D.NAME,e,a,n,r,i,s.slice(e,a))}function qH(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function zH(t,e){var n=new WH(t,e);return n.parseDocument()}var WH=function(){function t(n,r){var i=xH(n)?n:new dS(n);this._lexer=new PH(i),this._options=r}var e=t.prototype;return e.parseName=function(){var r=this.expectToken(D.NAME);return{kind:Z.NAME,value:r.value,loc:this.loc(r)}},e.parseDocument=function(){var r=this._lexer.token;return{kind:Z.DOCUMENT,definitions:this.many(D.SOF,this.parseDefinition,D.EOF),loc:this.loc(r)}},e.parseDefinition=function(){if(this.peek(D.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(D.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var r=this._lexer.token;if(this.peek(D.BRACE_L))return{kind:Z.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(r)};var i=this.parseOperationType(),s;return this.peek(D.NAME)&&(s=this.parseName()),{kind:Z.OPERATION_DEFINITION,operation:i,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseOperationType=function(){var r=this.expectToken(D.NAME);switch(r.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(r)},e.parseVariableDefinitions=function(){return this.optionalMany(D.PAREN_L,this.parseVariableDefinition,D.PAREN_R)},e.parseVariableDefinition=function(){var r=this._lexer.token;return{kind:Z.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(D.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(D.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(r)}},e.parseVariable=function(){var r=this._lexer.token;return this.expectToken(D.DOLLAR),{kind:Z.VARIABLE,name:this.parseName(),loc:this.loc(r)}},e.parseSelectionSet=function(){var r=this._lexer.token;return{kind:Z.SELECTION_SET,selections:this.many(D.BRACE_L,this.parseSelection,D.BRACE_R),loc:this.loc(r)}},e.parseSelection=function(){return this.peek(D.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var r=this._lexer.token,i=this.parseName(),s,o;return this.expectOptionalToken(D.COLON)?(s=i,o=this.parseName()):o=i,{kind:Z.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(D.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},e.parseArguments=function(r){var i=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(D.PAREN_L,i,D.PAREN_R)},e.parseArgument=function(){var r=this._lexer.token,i=this.parseName();return this.expectToken(D.COLON),{kind:Z.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(r)}},e.parseConstArgument=function(){var r=this._lexer.token;return{kind:Z.ARGUMENT,name:this.parseName(),value:(this.expectToken(D.COLON),this.parseValueLiteral(!0)),loc:this.loc(r)}},e.parseFragment=function(){var r=this._lexer.token;this.expectToken(D.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(D.NAME)?{kind:Z.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(r)}:{kind:Z.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseFragmentDefinition=function(){var r,i=this._lexer.token;return this.expectKeyword("fragment"),((r=this._options)===null||r===void 0?void 0:r.experimentalFragmentVariables)===!0?{kind:Z.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:Z.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(r){var i=this._lexer.token;switch(i.kind){case D.BRACKET_L:return this.parseList(r);case D.BRACE_L:return this.parseObject(r);case D.INT:return this._lexer.advance(),{kind:Z.INT,value:i.value,loc:this.loc(i)};case D.FLOAT:return this._lexer.advance(),{kind:Z.FLOAT,value:i.value,loc:this.loc(i)};case D.STRING:case D.BLOCK_STRING:return this.parseStringLiteral();case D.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:Z.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:Z.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:Z.NULL,loc:this.loc(i)};default:return{kind:Z.ENUM,value:i.value,loc:this.loc(i)}}case D.DOLLAR:if(!r)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var r=this._lexer.token;return this._lexer.advance(),{kind:Z.STRING,value:r.value,block:r.kind===D.BLOCK_STRING,loc:this.loc(r)}},e.parseList=function(r){var i=this,s=this._lexer.token,o=function(){return i.parseValueLiteral(r)};return{kind:Z.LIST,values:this.any(D.BRACKET_L,o,D.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(r){var i=this,s=this._lexer.token,o=function(){return i.parseObjectField(r)};return{kind:Z.OBJECT,fields:this.any(D.BRACE_L,o,D.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(r){var i=this._lexer.token,s=this.parseName();return this.expectToken(D.COLON),{kind:Z.OBJECT_FIELD,name:s,value:this.parseValueLiteral(r),loc:this.loc(i)}},e.parseDirectives=function(r){for(var i=[];this.peek(D.AT);)i.push(this.parseDirective(r));return i},e.parseDirective=function(r){var i=this._lexer.token;return this.expectToken(D.AT),{kind:Z.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r),loc:this.loc(i)}},e.parseTypeReference=function(){var r=this._lexer.token,i;return this.expectOptionalToken(D.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(D.BRACKET_R),i={kind:Z.LIST_TYPE,type:i,loc:this.loc(r)}):i=this.parseNamedType(),this.expectOptionalToken(D.BANG)?{kind:Z.NON_NULL_TYPE,type:i,loc:this.loc(r)}:i},e.parseNamedType=function(){var r=this._lexer.token;return{kind:Z.NAMED_TYPE,name:this.parseName(),loc:this.loc(r)}},e.parseTypeSystemDefinition=function(){var r=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(r.kind===D.NAME)switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(r)},e.peekDescription=function(){return this.peek(D.STRING)||this.peek(D.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(D.BRACE_L,this.parseOperationTypeDefinition,D.BRACE_R);return{kind:Z.SCHEMA_DEFINITION,description:i,directives:s,operationTypes:o,loc:this.loc(r)}},e.parseOperationTypeDefinition=function(){var r=this._lexer.token,i=this.parseOperationType();this.expectToken(D.COLON);var s=this.parseNamedType();return{kind:Z.OPERATION_TYPE_DEFINITION,operation:i,type:s,loc:this.loc(r)}},e.parseScalarTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:Z.SCALAR_TYPE_DEFINITION,description:i,name:s,directives:o,loc:this.loc(r)}},e.parseObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:Z.OBJECT_TYPE_DEFINITION,description:i,name:s,interfaces:o,directives:a,fields:u,loc:this.loc(r)}},e.parseImplementsInterfaces=function(){var r;if(!this.expectOptionalKeyword("implements"))return[];if(((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(D.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(D.AMP)||this.peek(D.NAME));return i}return this.delimitedMany(D.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var r;return((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLEmptyFields)===!0&&this.peek(D.BRACE_L)&&this._lexer.lookahead().kind===D.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(D.BRACE_L,this.parseFieldDefinition,D.BRACE_R)},e.parseFieldDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(D.COLON);var a=this.parseTypeReference(),u=this.parseDirectives(!0);return{kind:Z.FIELD_DEFINITION,description:i,name:s,arguments:o,type:a,directives:u,loc:this.loc(r)}},e.parseArgumentDefs=function(){return this.optionalMany(D.PAREN_L,this.parseInputValueDef,D.PAREN_R)},e.parseInputValueDef=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName();this.expectToken(D.COLON);var o=this.parseTypeReference(),a;this.expectOptionalToken(D.EQUALS)&&(a=this.parseValueLiteral(!0));var u=this.parseDirectives(!0);return{kind:Z.INPUT_VALUE_DEFINITION,description:i,name:s,type:o,defaultValue:a,directives:u,loc:this.loc(r)}},e.parseInterfaceTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:Z.INTERFACE_TYPE_DEFINITION,description:i,name:s,interfaces:o,directives:a,fields:u,loc:this.loc(r)}},e.parseUnionTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();return{kind:Z.UNION_TYPE_DEFINITION,description:i,name:s,directives:o,types:a,loc:this.loc(r)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(D.EQUALS)?this.delimitedMany(D.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();return{kind:Z.ENUM_TYPE_DEFINITION,description:i,name:s,directives:o,values:a,loc:this.loc(r)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(D.BRACE_L,this.parseEnumValueDefinition,D.BRACE_R)},e.parseEnumValueDefinition=function(){var r=this._lexer.token,i=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:Z.ENUM_VALUE_DEFINITION,description:i,name:s,directives:o,loc:this.loc(r)}},e.parseInputObjectTypeDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();return{kind:Z.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:s,directives:o,fields:a,loc:this.loc(r)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(D.BRACE_L,this.parseInputValueDef,D.BRACE_R)},e.parseTypeSystemExtension=function(){var r=this._lexer.lookahead();if(r.kind===D.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)},e.parseSchemaExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),s=this.optionalMany(D.BRACE_L,this.parseOperationTypeDefinition,D.BRACE_R);if(i.length===0&&s.length===0)throw this.unexpected();return{kind:Z.SCHEMA_EXTENSION,directives:i,operationTypes:s,loc:this.loc(r)}},e.parseScalarTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:Z.SCALAR_TYPE_EXTENSION,name:i,directives:s,loc:this.loc(r)}},e.parseObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:Z.OBJECT_TYPE_EXTENSION,name:i,interfaces:s,directives:o,fields:a,loc:this.loc(r)}},e.parseInterfaceTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&a.length===0)throw this.unexpected();return{kind:Z.INTERFACE_TYPE_EXTENSION,name:i,interfaces:s,directives:o,fields:a,loc:this.loc(r)}},e.parseUnionTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Z.UNION_TYPE_EXTENSION,name:i,directives:s,types:o,loc:this.loc(r)}},e.parseEnumTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Z.ENUM_TYPE_EXTENSION,name:i,directives:s,values:o,loc:this.loc(r)}},e.parseInputObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Z.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:s,fields:o,loc:this.loc(r)}},e.parseDirectiveDefinition=function(){var r=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(D.AT);var s=this.parseName(),o=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var u=this.parseDirectiveLocations();return{kind:Z.DIRECTIVE_DEFINITION,description:i,name:s,arguments:o,repeatable:a,locations:u,loc:this.loc(r)}},e.parseDirectiveLocations=function(){return this.delimitedMany(D.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var r=this._lexer.token,i=this.parseName();if(OH[i.value]!==void 0)return i;throw this.unexpected(r)},e.loc=function(r){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new yL(r,this._lexer.lastToken,this._lexer.source)},e.peek=function(r){return this._lexer.token.kind===r},e.expectToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i;throw $n(this._lexer.source,i.start,"Expected ".concat(bL(r),", found ").concat(fv(i),"."))},e.expectOptionalToken=function(r){var i=this._lexer.token;if(i.kind===r)return this._lexer.advance(),i},e.expectKeyword=function(r){var i=this._lexer.token;if(i.kind===D.NAME&&i.value===r)this._lexer.advance();else throw $n(this._lexer.source,i.start,'Expected "'.concat(r,'", found ').concat(fv(i),"."))},e.expectOptionalKeyword=function(r){var i=this._lexer.token;return i.kind===D.NAME&&i.value===r?(this._lexer.advance(),!0):!1},e.unexpected=function(r){var i=r??this._lexer.token;return $n(this._lexer.source,i.start,"Unexpected ".concat(fv(i),"."))},e.any=function(r,i,s){this.expectToken(r);for(var o=[];!this.expectOptionalToken(s);)o.push(i.call(this));return o},e.optionalMany=function(r,i,s){if(this.expectOptionalToken(r)){var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(r,i,s){this.expectToken(r);var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(r,i){this.expectOptionalToken(r);var s=[];do s.push(i.call(this));while(this.expectOptionalToken(r));return s},t}();function fv(t){var e=t.value;return bL(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function bL(t){return DH(t)?'"'.concat(t,'"'):t}var QH={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},pS=Object.freeze({});function xi(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QH,r=void 0,i=Array.isArray(t),s=[t],o=-1,a=[],u=void 0,l=void 0,c=void 0,h=[],f=[],d=t;do{o++;var p=o===s.length,m=p&&a.length!==0;if(p){if(l=f.length===0?void 0:h[h.length-1],u=c,c=f.pop(),m){if(i)u=u.slice();else{for(var b={},g=0,y=Object.keys(u);g<y.length;g++){var w=y[g];b[w]=u[w]}u=b}for(var E=0,_=0;_<a.length;_++){var T=a[_][0],k=a[_][1];i&&(T-=E),i&&k===null?(u.splice(T,1),E++):u[T]=k}}o=r.index,s=r.keys,a=r.edits,i=r.inArray,r=r.prev}else{if(l=c?i?o:s[o]:void 0,u=c?c[l]:d,u==null)continue;c&&h.push(l)}var x=void 0;if(!Array.isArray(u)){if(!Uk(u))throw new Error("Invalid AST Node: ".concat(wL(u),"."));var M=HH(e,u.kind,p);if(M){if(x=M.call(e,u,l,c,h,f),x===pS)break;if(x===!1){if(!p){h.pop();continue}}else if(x!==void 0&&(a.push([l,x]),!p))if(Uk(x))u=x;else{h.pop();continue}}}if(x===void 0&&m&&a.push([l,u]),p)h.pop();else{var C;r={inArray:i,index:o,keys:s,edits:a,prev:r},i=Array.isArray(u),s=i?u:(C=n[u.kind])!==null&&C!==void 0?C:[],o=-1,a=[],c&&f.push(c),c=u}}while(r!==void 0);return a.length!==0&&(d=a[a.length-1][1]),d}function HH(t,e,n){var r=t[e];if(r){if(!n&&typeof r=="function")return r;var i=n?r.leave:r.enter;if(typeof i=="function")return i}else{var s=n?t.leave:t.enter;if(s){if(typeof s=="function")return s;var o=s[e];if(typeof o=="function")return o}}}function EL(t){return xi(t,{leave:KH})}var GH=80,KH={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return J(e.definitions,`

`)+`
`},OperationDefinition:function(e){var n=e.operation,r=e.name,i=Xe("(",J(e.variableDefinitions,", "),")"),s=J(e.directives," "),o=e.selectionSet;return!r&&!s&&!i&&n==="query"?o:J([n,J([r,i]),s,o]," ")},VariableDefinition:function(e){var n=e.variable,r=e.type,i=e.defaultValue,s=e.directives;return n+": "+r+Xe(" = ",i)+Xe(" ",J(s," "))},SelectionSet:function(e){var n=e.selections;return cr(n)},Field:function(e){var n=e.alias,r=e.name,i=e.arguments,s=e.directives,o=e.selectionSet,a=Xe("",n,": ")+r,u=a+Xe("(",J(i,", "),")");return u.length>GH&&(u=a+Xe(`(
`,bd(J(i,`
`)),`
)`)),J([u,J(s," "),o]," ")},Argument:function(e){var n=e.name,r=e.value;return n+": "+r},FragmentSpread:function(e){var n=e.name,r=e.directives;return"..."+n+Xe(" ",J(r," "))},InlineFragment:function(e){var n=e.typeCondition,r=e.directives,i=e.selectionSet;return J(["...",Xe("on ",n),J(r," "),i]," ")},FragmentDefinition:function(e){var n=e.name,r=e.typeCondition,i=e.variableDefinitions,s=e.directives,o=e.selectionSet;return"fragment ".concat(n).concat(Xe("(",J(i,", "),")")," ")+"on ".concat(r," ").concat(Xe("",J(s," ")," "))+o},IntValue:function(e){var n=e.value;return n},FloatValue:function(e){var n=e.value;return n},StringValue:function(e,n){var r=e.value,i=e.block;return i?RH(r,n==="description"?"":"  "):JSON.stringify(r)},BooleanValue:function(e){var n=e.value;return n?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var n=e.value;return n},ListValue:function(e){var n=e.values;return"["+J(n,", ")+"]"},ObjectValue:function(e){var n=e.fields;return"{"+J(n,", ")+"}"},ObjectField:function(e){var n=e.name,r=e.value;return n+": "+r},Directive:function(e){var n=e.name,r=e.arguments;return"@"+n+Xe("(",J(r,", "),")")},NamedType:function(e){var n=e.name;return n},ListType:function(e){var n=e.type;return"["+n+"]"},NonNullType:function(e){var n=e.type;return n+"!"},SchemaDefinition:lr(function(t){var e=t.directives,n=t.operationTypes;return J(["schema",J(e," "),cr(n)]," ")}),OperationTypeDefinition:function(e){var n=e.operation,r=e.type;return n+": "+r},ScalarTypeDefinition:lr(function(t){var e=t.name,n=t.directives;return J(["scalar",e,J(n," ")]," ")}),ObjectTypeDefinition:lr(function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return J(["type",e,Xe("implements ",J(n," & ")),J(r," "),cr(i)]," ")}),FieldDefinition:lr(function(t){var e=t.name,n=t.arguments,r=t.type,i=t.directives;return e+(Bk(n)?Xe(`(
`,bd(J(n,`
`)),`
)`):Xe("(",J(n,", "),")"))+": "+r+Xe(" ",J(i," "))}),InputValueDefinition:lr(function(t){var e=t.name,n=t.type,r=t.defaultValue,i=t.directives;return J([e+": "+n,Xe("= ",r),J(i," ")]," ")}),InterfaceTypeDefinition:lr(function(t){var e=t.name,n=t.interfaces,r=t.directives,i=t.fields;return J(["interface",e,Xe("implements ",J(n," & ")),J(r," "),cr(i)]," ")}),UnionTypeDefinition:lr(function(t){var e=t.name,n=t.directives,r=t.types;return J(["union",e,J(n," "),r&&r.length!==0?"= "+J(r," | "):""]," ")}),EnumTypeDefinition:lr(function(t){var e=t.name,n=t.directives,r=t.values;return J(["enum",e,J(n," "),cr(r)]," ")}),EnumValueDefinition:lr(function(t){var e=t.name,n=t.directives;return J([e,J(n," ")]," ")}),InputObjectTypeDefinition:lr(function(t){var e=t.name,n=t.directives,r=t.fields;return J(["input",e,J(n," "),cr(r)]," ")}),DirectiveDefinition:lr(function(t){var e=t.name,n=t.arguments,r=t.repeatable,i=t.locations;return"directive @"+e+(Bk(n)?Xe(`(
`,bd(J(n,`
`)),`
)`):Xe("(",J(n,", "),")"))+(r?" repeatable":"")+" on "+J(i," | ")}),SchemaExtension:function(e){var n=e.directives,r=e.operationTypes;return J(["extend schema",J(n," "),cr(r)]," ")},ScalarTypeExtension:function(e){var n=e.name,r=e.directives;return J(["extend scalar",n,J(r," ")]," ")},ObjectTypeExtension:function(e){var n=e.name,r=e.interfaces,i=e.directives,s=e.fields;return J(["extend type",n,Xe("implements ",J(r," & ")),J(i," "),cr(s)]," ")},InterfaceTypeExtension:function(e){var n=e.name,r=e.interfaces,i=e.directives,s=e.fields;return J(["extend interface",n,Xe("implements ",J(r," & ")),J(i," "),cr(s)]," ")},UnionTypeExtension:function(e){var n=e.name,r=e.directives,i=e.types;return J(["extend union",n,J(r," "),i&&i.length!==0?"= "+J(i," | "):""]," ")},EnumTypeExtension:function(e){var n=e.name,r=e.directives,i=e.values;return J(["extend enum",n,J(r," "),cr(i)]," ")},InputObjectTypeExtension:function(e){var n=e.name,r=e.directives,i=e.fields;return J(["extend input",n,J(r," "),cr(i)]," ")}};function lr(t){return function(e){return J([e.description,t(e)],`
`)}}function J(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(r){return r}).join(n))!==null&&e!==void 0?e:""}function cr(t){return Xe(`{
`,bd(J(t,`
`)),`
}`)}function Xe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+n:""}function bd(t){return Xe("  ",t.replace(/\n/g,`
  `))}function YH(t){return t.indexOf(`
`)!==-1}function Bk(t){return t!=null&&t.some(YH)}function qk(t){return t.kind===Z.FIELD||t.kind===Z.FRAGMENT_SPREAD||t.kind===Z.INLINE_FRAGMENT}function JH(){return Dk()}function XH(){__DEV__?V(typeof lv=="boolean",lv):V(typeof lv=="boolean",39)}JH();XH();function Lg(t,e){var n=t.directives;return!n||!n.length?!0:tG(n).every(function(r){var i=r.directive,s=r.ifArgument,o=!1;return s.value.kind==="Variable"?(o=e&&e[s.value.name.value],__DEV__?V(o!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):V(o!==void 0,40)):o=s.value.value,i.name.value==="skip"?!o:o})}function mS(t,e,n){var r=new Set(t),i=r.size;return xi(e,{Directive:function(s){if(r.delete(s.name.value)&&(!n||!r.size))return pS}}),n?!r.size:r.size<i}function ZH(t){return t&&mS(["client","export"],t,!0)}function eG(t){var e=t.name.value;return e==="skip"||e==="include"}function tG(t){var e=[];return t&&t.length&&t.forEach(function(n){if(eG(n)){var r=n.arguments,i=n.name.value;__DEV__?V(r&&r.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):V(r&&r.length===1,41);var s=r[0];__DEV__?V(s.name&&s.name.value==="if","Invalid argument for the @".concat(i," directive.")):V(s.name&&s.name.value==="if",42);var o=s.value;__DEV__?V(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):V(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),43),e.push({directive:n,ifArgument:s})}}),e}function nG(t,e){var n=e,r=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw __DEV__?new Ne("Found a ".concat(s.operation," operation").concat(s.name?" named '".concat(s.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Ne(44);s.kind==="FragmentDefinition"&&r.push(s)}),typeof n>"u"&&(__DEV__?V(r.length===1,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):V(r.length===1,45),n=r[0].name.value);var i=N(N({},t),{definitions:ap([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function gS(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function yS(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return __DEV__?V(r,"No fragment named ".concat(n)):V(r,46),r||null}default:return null}}function et(t){return t!==null&&typeof t=="object"}function au(t){return{__ref:String(t)}}function Re(t){return Boolean(t&&typeof t=="object"&&typeof t.__ref=="string")}function rG(t){return et(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function iG(t){return t.kind==="StringValue"}function sG(t){return t.kind==="BooleanValue"}function oG(t){return t.kind==="IntValue"}function aG(t){return t.kind==="FloatValue"}function uG(t){return t.kind==="Variable"}function lG(t){return t.kind==="ObjectValue"}function cG(t){return t.kind==="ListValue"}function hG(t){return t.kind==="EnumValue"}function fG(t){return t.kind==="NullValue"}function Lu(t,e,n,r){if(oG(n)||aG(n))t[e.value]=Number(n.value);else if(sG(n)||iG(n))t[e.value]=n.value;else if(lG(n)){var i={};n.fields.map(function(o){return Lu(i,o.name,o.value,r)}),t[e.value]=i}else if(uG(n)){var s=(r||{})[n.name.value];t[e.value]=s}else if(cG(n))t[e.value]=n.values.map(function(o){var a={};return Lu(a,e,o,r),a[e.value]});else if(hG(n))t[e.value]=n.value;else if(fG(n))t[e.value]=null;else throw __DEV__?new Ne('The inline argument "'.concat(e.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Ne(55)}function dG(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(s){var o=s.name,a=s.value;return Lu(n[i.name.value],o,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var s=i.name,o=i.value;return Lu(r,s,o,e)})),vS(t.name.value,r,n)}var pG=["connection","include","skip","client","rest","export"],vS=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(Tl(i),")")}else return n.connection.key;var s=t;if(e){var o=Tl(e);s+="(".concat(o,")")}return n&&Object.keys(n).forEach(function(a){pG.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?s+="@".concat(a,"(").concat(Tl(n[a]),")"):s+="@".concat(a))}),s},{setStringify:function(t){var e=Tl;return Tl=t,e}}),Tl=function(e){return JSON.stringify(e,mG)};function mG(t,e){return et(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(n,r){return n[r]=e[r],n},{})),e}function Fg(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,s=r.value;return Lu(n,i,s,e)}),n}return null}function ea(t){return t.alias?t.alias.value:t.name.value}function $w(t,e,n){if(typeof t.__typename=="string")return t.__typename;for(var r=0,i=e.selections;r<i.length;r++){var s=i[r];if(ta(s)){if(s.name.value==="__typename")return t[ea(s)]}else{var o=$w(t,yS(s,n).selectionSet,n);if(typeof o=="string")return o}}}function ta(t){return t.kind==="Field"}function gG(t){return t.kind==="InlineFragment"}function Mg(t){__DEV__?V(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):V(t&&t.kind==="Document",47);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw __DEV__?new Ne('Schema type definitions not allowed in queries. Found: "'.concat(n.kind,'"')):new Ne(48);return n});return __DEV__?V(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):V(e.length<=1,49),t}function Kh(t){return Mg(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Uw(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function wS(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function SL(t){var e=Kh(t);return __DEV__?V(e&&e.operation==="query","Must contain a query definition."):V(e&&e.operation==="query",50),e}function yG(t){__DEV__?V(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):V(t.kind==="Document",51),__DEV__?V(t.definitions.length<=1,"Fragment must have exactly one definition."):V(t.definitions.length<=1,52);var e=t.definitions[0];return __DEV__?V(e.kind==="FragmentDefinition","Must be a fragment definition."):V(e.kind==="FragmentDefinition",53),e}function $g(t){Mg(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var s=i.operation;if(s==="query"||s==="mutation"||s==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new Ne("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Ne(54)}function bS(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&Lu(e,r.variable.name,r.defaultValue)}),e}var at=Array.isArray;function Nn(t){return Array.isArray(t)&&t.length>0}var zk={kind:Z.FIELD,name:{kind:Z.NAME,value:"__typename"}};function _L(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===Z.FRAGMENT_SPREAD&&_L(e[n.name.value],e)})}function vG(t){return _L(Kh(t)||yG(t),gS(wS(t)))?null:t}function wG(t){var e=new Set,n=[];return t.forEach(function(r){r.name?e.add(r.name):r.test&&n.push(r.test)}),function(r){return e.has(r.name.value)||n.some(function(i){return i(r)})}}function Wk(t){var e=new Map;return function(r){r===void 0&&(r=t);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function IL(t,e){for(var n=Wk(""),r=Wk(""),i=function(y){for(var w=0,E=void 0;w<y.length&&(E=y[w]);++w)if(!at(E)){if(E.kind===Z.OPERATION_DEFINITION)return n(E.name&&E.name.value);if(E.kind===Z.FRAGMENT_DEFINITION)return r(E.name.value)}return __DEV__&&V.error("Could not find operation or fragment"),null},s=0,o=e.definitions.length-1;o>=0;--o)e.definitions[o].kind===Z.OPERATION_DEFINITION&&++s;var a=wG(t),u=t.some(function(y){return y.remove}),l=function(y){return u&&y&&y.some(a)},c=new Map,h=!1,f={enter:function(y){if(l(y.directives))return h=!0,null}},d=xi(e,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(y,w,E,_,T){var k=i(T);k&&k.variables.add(y.name.value)}},FragmentSpread:{enter:function(y,w,E,_,T){if(l(y.directives))return h=!0,null;var k=i(T);k&&k.fragmentSpreads.add(y.name.value)}},FragmentDefinition:{enter:function(y,w,E,_){c.set(JSON.stringify(_),y)},leave:function(y,w,E,_){var T=c.get(JSON.stringify(_));if(y===T)return y;if(s>0&&y.selectionSet.selections.every(function(k){return k.kind===Z.FIELD&&k.name.value==="__typename"}))return r(y.name.value).removed=!0,h=!0,null}},Directive:{leave:function(y){if(a(y))return h=!0,null}}});if(!h)return e;var p=function(y){return y.transitiveVars||(y.transitiveVars=new Set(y.variables),y.removed||y.fragmentSpreads.forEach(function(w){p(r(w)).transitiveVars.forEach(function(E){y.transitiveVars.add(E)})})),y},m=new Set;d.definitions.forEach(function(y){y.kind===Z.OPERATION_DEFINITION?p(n(y.name&&y.name.value)).fragmentSpreads.forEach(function(w){m.add(w)}):y.kind===Z.FRAGMENT_DEFINITION&&s===0&&!r(y.name.value).removed&&m.add(y.name.value)}),m.forEach(function(y){p(r(y)).fragmentSpreads.forEach(function(w){m.add(w)})});var b=function(y){return!!(!m.has(y)||r(y).removed)},g={enter:function(y){if(b(y.name.value))return null}};return vG(xi(d,{FragmentSpread:g,FragmentDefinition:g,OperationDefinition:{leave:function(y){if(y.variableDefinitions){var w=p(n(y.name&&y.name.value)).transitiveVars;if(w.size<y.variableDefinitions.length)return N(N({},y),{variableDefinitions:y.variableDefinitions.filter(function(E){return w.has(E.variable.name.value)})})}}}}))}var ES=Object.assign(function(t){return xi(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===Z.OPERATION_DEFINITION)){var i=e.selections;if(i){var s=i.some(function(a){return ta(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!s){var o=r;if(!(ta(o)&&o.directives&&o.directives.some(function(a){return a.name.value==="export"})))return N(N({},e),{selections:ap(ap([],i,!0),[zk],!1)})}}}}}})},{added:function(t){return t===zk}}),bG={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(n){return n.name.value==="key"}))&&__DEV__&&V.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function EG(t){return IL([bG],Mg(t))}function SG(t){var e=$g(t),n=e.operation;if(n==="query")return t;var r=xi(t,{OperationDefinition:{enter:function(i){return N(N({},i),{operation:"query"})}}});return r}function _G(t){Mg(t);var e=IL([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var IG=Object.prototype.hasOwnProperty;function Qk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return SS(t)}function SS(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new $s,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var TG=function(t,e,n){return this.merge(t[n],e[n])},$s=function(){function t(e){e===void 0&&(e=TG),this.reconciler=e,this.isObject=et,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return et(n)&&et(e)?(Object.keys(n).forEach(function(o){if(IG.call(e,o)){var a=e[o];if(n[o]!==a){var u=r.reconciler.apply(r,ap([e,n,o],i,!1));u!==a&&(e=r.shallowCopyForMerge(e),e[o]=u)}}else e=r.shallowCopyForMerge(e),e[o]=n[o]}),e):n},t.prototype.shallowCopyForMerge=function(e){return et(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=N({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function kG(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=CG(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(t,e){if(t){if(typeof t=="string")return Hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _S(t,e,n){return e&&Gk(t.prototype,e),n&&Gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var IS=function(){return typeof Symbol=="function"},TS=function(t){return IS()&&Boolean(Symbol[t])},kS=function(t){return TS(t)?Symbol[t]:"@@"+t};IS()&&!TS("observable")&&(Symbol.observable=Symbol("observable"));var xG=kS("iterator"),Vw=kS("observable"),TL=kS("species");function jp(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function kl(t){var e=t.constructor;return e!==void 0&&(e=e[TL],e===null&&(e=void 0)),e!==void 0?e:Ve}function OG(t){return t instanceof Ve}function Fu(t){Fu.log?Fu.log(t):setTimeout(function(){throw t})}function Ed(t){Promise.resolve().then(function(){try{t()}catch(e){Fu(e)}})}function kL(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=jp(e,"unsubscribe");n&&n.call(e)}}catch(r){Fu(r)}}function jw(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function NG(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(CL(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function CL(t,e,n){t._state="running";var r=t._observer;try{var i=jp(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(jw(t),i)i.call(r,n);else throw n;break;case"complete":jw(t),i&&i.call(r);break}}catch(s){Fu(s)}t._state==="closed"?kL(t):t._state==="running"&&(t._state="ready")}function dv(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],Ed(function(){return NG(t)});return}CL(t,e,n)}}var AG=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new RG(this);try{this._cleanup=r.call(void 0,i)}catch(s){i.error(s)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(jw(this),kL(this))},_S(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),RG=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){dv(this._subscription,"next",r)},e.error=function(r){dv(this._subscription,"error",r)},e.complete=function(){dv(this._subscription,"complete")},_S(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Ve=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new AG(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(s,o){if(typeof r!="function"){o(new TypeError(r+" is not a function"));return}function a(){u.unsubscribe(),s()}var u=i.subscribe({next:function(l){try{r(l,a)}catch(c){o(c),u.unsubscribe()}},error:o,complete:s})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this);return new s(function(o){return i.subscribe({next:function(a){try{a=r(a)}catch(u){return o.error(u)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this);return new s(function(o){return i.subscribe({next:function(a){try{if(!r(a))return}catch(u){return o.error(u)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this),o=arguments.length>1,a=!1,u=arguments[1],l=u;return new s(function(c){return i.subscribe({next:function(h){var f=!a;if(a=!0,!f||o)try{l=r(l,h)}catch(d){return c.error(d)}else l=h},error:function(h){c.error(h)},complete:function(){if(!a&&!o)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(l),c.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=kl(this);return new a(function(u){var l,c=0;function h(f){l=f.subscribe({next:function(d){u.next(d)},error:function(d){u.error(d)},complete:function(){c===s.length?(l=void 0,u.complete()):h(a.from(s[c++]))}})}return h(r),function(){l&&(l.unsubscribe(),l=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var s=kl(this);return new s(function(o){var a=[],u=i.subscribe({next:function(c){if(r)try{c=r(c)}catch(f){return o.error(f)}var h=s.from(c).subscribe({next:function(f){o.next(f)},error:function(f){o.error(f)},complete:function(){var f=a.indexOf(h);f>=0&&a.splice(f,1),l()}});a.push(h)},error:function(c){o.error(c)},complete:function(){l()}});function l(){u.closed&&a.length===0&&o.complete()}return function(){a.forEach(function(c){return c.unsubscribe()}),u.unsubscribe()}})},e[Vw]=function(){return this},t.from=function(r){var i=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var s=jp(r,Vw);if(s){var o=s.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return OG(o)&&o.constructor===i?o:new i(function(a){return o.subscribe(a)})}if(TS("iterator")&&(s=jp(r,xG),s))return new i(function(a){Ed(function(){if(!a.closed){for(var u=kG(s.call(r)),l;!(l=u()).done;){var c=l.value;if(a.next(c),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){Ed(function(){if(!a.closed){for(var u=0;u<r.length;++u)if(a.next(r[u]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=typeof this=="function"?this:t;return new o(function(a){Ed(function(){if(!a.closed){for(var u=0;u<i.length;++u)if(a.next(i[u]),a.closed)return;a.complete()}})})},_S(t,null,[{key:TL,get:function(){return this}}]),t}();IS()&&Object.defineProperty(Ve,Symbol("extensions"),{value:{symbol:Vw,hostReportError:Fu},configurable:!0});function PG(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var Na;typeof self<"u"?Na=self:typeof window<"u"?Na=window:typeof gt<"u"?Na=gt:typeof p1<"u"?Na=p1:Na=Function("return this")();PG(Na);var Kk=Ve.prototype,Yk="@@observable";Kk[Yk]||(Kk[Yk]=function(){return this});var DG=Object.prototype.toString;function xL(t){return Bw(t)}function Bw(t,e){switch(DG.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,s){n[s]=Bw(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=Bw(t[i],e)}),r}default:return t}}function LG(t){var e=new Set([t]);return e.forEach(function(n){et(n)&&FG(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){et(n[r])&&e.add(n[r])})}),t}function FG(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function hh(t){return __DEV__&&LG(t),t}function fc(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function pv(t,e,n){return new Ve(function(r){var i=r.next,s=r.error,o=r.complete,a=0,u=!1,l={then:function(d){return new Promise(function(p){return p(d())})}};function c(d,p){return d?function(m){++a;var b=function(){return d(m)};l=l.then(b,b).then(function(g){--a,i&&i.call(r,g),u&&h.complete()},function(g){throw--a,g}).catch(function(g){s&&s.call(r,g)})}:function(m){return p&&p.call(r,m)}}var h={next:c(e,i),error:c(n,s),complete:function(){u=!0,a||o&&o.call(r)}},f=t.subscribe(h);return function(){return f.unsubscribe()}})}var eo=typeof WeakMap=="function"&&Xn(function(){return navigator.product})!=="ReactNative",OL=typeof WeakSet=="function",CS=typeof Symbol=="function"&&typeof Symbol.for=="function",Ug=CS&&Symbol.asyncIterator,MG=typeof Xn(function(){return window.document.createElement})=="function",$G=Xn(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,UG=MG&&!$G;function NL(t){function e(n){Object.defineProperty(t,n,{value:Ve})}return CS&&Symbol.species&&e(Symbol.species),e("@@species"),t}function Jk(t){return t&&typeof t.then=="function"}var Wl=function(t){or(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,s){r.resolve=i,r.reject=s}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),fc(r.observers,"next",i))},error:function(i){var s=r.sub;s!==null&&(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),fc(r.observers,"error",i))},complete:function(){var i=r,s=i.sub,o=i.sources,a=o===void 0?[]:o;if(s!==null){var u=a.shift();u?Jk(u)?u.then(function(l){return r.sub=l.subscribe(r.handlers)}):r.sub=u.subscribe(r.handlers):(s&&setTimeout(function(){return s.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),fc(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new Ve(n)]),Jk(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(s){return s(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,s){r||(r=!0,n(i,s))})},e}(Ve);NL(Wl);function uu(t){return"incremental"in t}function VG(t){return"hasNext"in t&&"data"in t}function jG(t){return uu(t)||VG(t)}function AL(t,e){var n=t,r=new $s;return uu(e)&&Nn(e.incremental)&&e.incremental.forEach(function(i){for(var s=i.data,o=i.path,a=o.length-1;a>=0;--a){var u=o[a],l=!isNaN(+u),c=l?[]:{};c[u]=s,s=c}n=r.merge(n,s)}),n}function Sd(t){var e=qw(t);return Nn(e)}function qw(t){var e=Nn(t.errors)?t.errors.slice(0):[];return uu(t)&&Nn(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function Yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(i){var s=r[i];s!==void 0&&(n[i]=s)})}),n}var Xk=new Map;function zw(t){var e=Xk.get(t)||1;return Xk.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function BG(t){var e=zw("stringifyForDisplay");return JSON.stringify(t,function(n,r){return r===void 0?e:r}).split(JSON.stringify(e)).join("<undefined>")}function lu(t,e){return Yh(t,e,e.variables&&{variables:N(N({},t&&t.variables),e.variables)})}function Zk(t){return new Ve(function(e){e.error(t)})}var Ww=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function qG(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw __DEV__?new Ne("illegal argument: ".concat(i)):new Ne(27)}return t}function zG(t,e){var n=N({},t),r=function(s){typeof s=="function"?n=N(N({},n),s(n)):n=N(N({},n),s)},i=function(){return N({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function WG(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Uw(e.query)||void 0:""),e}function eC(t,e){return e?e(t):Ve.of()}function Cl(t){return typeof t=="function"?new to(t):t}function Af(t){return t.request.length<=1}var QG=function(t){or(e,t);function e(n,r){var i=t.call(this,n)||this;return i.link=r,i}return e}(Error),to=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Ve.of()})},t.from=function(e){return e.length===0?t.empty():e.map(Cl).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=Cl(n),s=Cl(r||new t(eC));return Af(i)&&Af(s)?new t(function(o){return e(o)?i.request(o)||Ve.of():s.request(o)||Ve.of()}):new t(function(o,a){return e(o)?i.request(o,a)||Ve.of():s.request(o,a)||Ve.of()})},t.execute=function(e,n){return e.request(zG(n.context,WG(qG(n))))||Ve.of()},t.concat=function(e,n){var r=Cl(e);if(Af(r))return __DEV__&&V.warn(new QG("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Cl(n);return Af(i)?new t(function(s){return r.request(s,function(o){return i.request(o)||Ve.of()})||Ve.of()}):new t(function(s,o){return r.request(s,function(a){return i.request(a,o)||Ve.of()})||Ve.of()})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(eC)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw __DEV__?new Ne("request is not implemented"):new Ne(22)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),HG=to.split,Qw=to.execute,GG="3.7.9";function KG(t){return!!t.body}function YG(t){return!!t.getReader}function JG(t){return!!(Ug&&t[Symbol.asyncIterator])}function XG(t){return!!t.stream}function ZG(t){return!!t.arrayBuffer}function eK(t){return!!t.pipe}function tK(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function nK(t){var e=null,n=null,r=!1,i=[],s=[];function o(h){if(!n){if(s.length){var f=s.shift();if(Array.isArray(f)&&f[0])return f[0]({value:h,done:!1})}i.push(h)}}function a(h){n=h;var f=s.slice();f.forEach(function(d){d[1](h)}),!e||e()}function u(){r=!0;var h=s.slice();h.forEach(function(f){f[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",o),t.removeListener("error",a),t.removeListener("end",u),t.removeListener("finish",u),t.removeListener("close",u)},t.on("data",o),t.on("error",a),t.on("end",u),t.on("finish",u),t.on("close",u);function l(){return new Promise(function(h,f){if(n)return f(n);if(i.length)return h({value:i.shift(),done:!1});if(r)return h({value:void 0,done:!0});s.push([h,f])})}var c={next:function(){return l()}};return Ug&&(c[Symbol.asyncIterator]=function(){return this}),c}function rK(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(s){r({value:s,done:!1})}).catch(i)}))}};return Ug&&(n[Symbol.asyncIterator]=function(){return this}),n}function tC(t){var e={next:function(){return t.read()}};return Ug&&(e[Symbol.asyncIterator]=function(){return this}),e}function iK(t){var e=t;if(KG(t)&&(e=t.body),JG(e))return tK(e);if(YG(e))return tC(e.getReader());if(XG(e))return tC(e.stream().getReader());if(ZG(e))return rK(e.arrayBuffer());if(eK(e))return nK(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var nC=Object.prototype.hasOwnProperty;function sK(t,e){var n,r,i;return Gi(this,void 0,void 0,function(){var s,o,a,u,l,c,h,f,d,p,m,b,g,y,w,E,_,T,k,x;return Ki(this,function(M){switch(M.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");s=new TextDecoder("utf-8"),o=(n=t.headers)===null||n===void 0?void 0:n.get("content-type"),a="boundary=",u=o!=null&&o.includes(a)?o==null?void 0:o.substring((o==null?void 0:o.indexOf(a))+a.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",l="--".concat(u),c="",h=iK(t),f=!0,M.label=1;case 1:return f?[4,h.next()]:[3,3];case 2:for(d=M.sent(),p=d.value,m=d.done,b=typeof p=="string"?p:s.decode(p),f=!m,c+=b,g=c.indexOf(l);g>-1;){if(y=void 0,x=[c.slice(0,g),c.slice(g+l.length)],y=x[0],c=x[1],y.trim()){if(w=y.indexOf(`\r
\r
`),E=oK(y.slice(0,w)),_=E["content-type"],_&&_.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");T=y.slice(w);try{k=RL(t,T.replace(`\r
`,"")),(Object.keys(k).length>1||"data"in k||"incremental"in k||"errors"in k)&&((r=e.next)===null||r===void 0||r.call(e,k))}catch(C){xS(C,e)}}g=c.indexOf(l)}return[3,1];case 3:return(i=e.complete)===null||i===void 0||i.call(e),[2]}})})}function oK(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),s=n.slice(r+1).trim();e[i]=s}}),e}function RL(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};Ww(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function xS(t,e){var n,r;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((n=e.next)===null||n===void 0||n.call(e,t.result)),(r=e.error)===null||r===void 0||r.call(e,t))}function aK(t,e,n){uK(e)(t).then(function(r){var i,s;(i=n.next)===null||i===void 0||i.call(n,r),(s=n.complete)===null||s===void 0||s.call(n)}).catch(function(r){return xS(r,n)})}function uK(t){return function(e){return e.text().then(function(n){return RL(e,n)}).then(function(n){return e.status>=300&&Ww(e,n,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(n)&&!nC.call(n,"data")&&!nC.call(n,"errors")&&Ww(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var Hw=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=__DEV__?new Ne("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new Ne(24);throw r.parseError=i,r}return n},lK={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},cK={accept:"*/*","content-type":"application/json"},hK={method:"POST"},fK={http:lK,headers:cK,options:hK},dK=function(t,e){return e(t)};function pK(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},s={};n.forEach(function(h){i=N(N(N({},i),h.options),{headers:N(N({},i.headers),h.headers)}),h.credentials&&(i.credentials=h.credentials),s=N(N({},s),h.http)}),i.headers&&(i.headers=mK(i.headers,s.preserveHeaderCase));var o=t.operationName,a=t.extensions,u=t.variables,l=t.query,c={operationName:o,variables:u};return s.includeExtensions&&(c.extensions=a),s.includeQuery&&(c.query=e(l,EL)),{options:i,body:c}}function mK(t,e){if(!e){var n=Object.create(null);return Object.keys(Object(t)).forEach(function(s){n[s.toLowerCase()]=t[s]}),n}var r=Object.create(null);Object.keys(Object(t)).forEach(function(s){r[s.toLowerCase()]={originalName:s,value:t[s]}});var i=Object.create(null);return Object.keys(r).forEach(function(s){i[r[s].originalName]=r[s].value}),i}var gK=function(t){if(!t&&typeof fetch>"u")throw __DEV__?new Ne(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new Ne(23)},yK=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},vK=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function wK(t,e){var n=[],r=function(h,f){n.push("".concat(h,"=").concat(encodeURIComponent(f)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=Hw(e.variables,"Variables map")}catch(h){return{parseError:h}}r("variables",i)}if(e.extensions){var s=void 0;try{s=Hw(e.extensions,"Extensions map")}catch(h){return{parseError:h}}r("extensions",s)}var o="",a=t,u=t.indexOf("#");u!==-1&&(o=t.substr(u),a=t.substr(0,u));var l=a.indexOf("?")===-1?"?":"&",c=a+l+n.join("&")+o;return{newURI:c}}var rC=Xn(function(){return fetch}),bK=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,s=i===void 0?dK:i,o=t.includeExtensions,a=t.preserveHeaderCase,u=t.useGETForQueries,l=t.includeUnusedVariables,c=l===void 0?!1:l,h=ir(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&gK(r||rC);var f={http:{includeExtensions:o,preserveHeaderCase:a},options:h.fetchOptions,credentials:h.credentials,headers:h.headers};return new to(function(d){var p=vK(d,n),m=d.getContext(),b={};if(m.clientAwareness){var g=m.clientAwareness,y=g.name,w=g.version;y&&(b["apollographql-client-name"]=y),w&&(b["apollographql-client-version"]=w)}var E=N(N({},b),m.headers),_={http:m.http,options:m.fetchOptions,credentials:m.credentials,headers:E},T=pK(d,s,fK,f,_),k=T.options,x=T.body;if(x.variables&&!c){var M=new Set(Object.keys(x.variables));xi(d.query,{Variable:function(P,Y,B){B&&B.kind!=="VariableDefinition"&&M.delete(P.name.value)}}),M.size&&(x.variables=N({},x.variables),M.forEach(function(P){delete x.variables[P]}))}var C;if(!k.signal){var ae=yK(),me=ae.controller,he=ae.signal;C=me,C&&(k.signal=he)}var G=function(P){return P.kind==="OperationDefinition"&&P.operation==="mutation"};if(u&&!d.query.definitions.some(G)&&(k.method="GET"),mS(["defer"],d.query)&&(k.headers=k.headers||{},k.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),k.method==="GET"){var fe=wK(p,x),ie=fe.newURI,X=fe.parseError;if(X)return Zk(X);p=ie}else try{k.body=Hw(x,"Payload")}catch(P){return Zk(P)}return new Ve(function(P){var Y=r||Xn(function(){return fetch})||rC;return Y(p,k).then(function(B){var ue;d.setContext({response:B});var q=(ue=B.headers)===null||ue===void 0?void 0:ue.get("content-type");return q!==null&&/^multipart\/mixed/i.test(q)?sK(B,P):aK(B,d,P)}).catch(function(B){return xS(B,P)}),function(){C&&C.abort()}})})},PL=function(t){or(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,bK(n).request)||this;return r.options=n,r}return e}(to),DL=Object.prototype,iC=DL.toString,EK=DL.hasOwnProperty,sC=Function.prototype.toString,Gw=new Map;function He(t,e){try{return Kw(t,e)}finally{Gw.clear()}}function Kw(t,e){if(t===e)return!0;var n=iC.call(t),r=iC.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(aC(t,e))return!0;var i=oC(t),s=oC(e),o=i.length;if(o!==s.length)return!1;for(var a=0;a<o;++a)if(!EK.call(e,i[a]))return!1;for(var a=0;a<o;++a){var u=i[a];if(!Kw(t[u],e[u]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t=="".concat(e);case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(aC(t,e))return!0;for(var l=t.entries(),c=n==="[object Map]";;){var h=l.next();if(h.done)break;var f=h.value,d=f[0],p=f[1];if(!e.has(d)||c&&!Kw(p,e.get(d)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{var m=t.byteLength;if(m===e.byteLength)for(;m--&&t[m]===e[m];);return m===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var b=sC.call(t);return b!==sC.call(e)?!1:!IK(b,_K)}}return!1}function oC(t){return Object.keys(t).filter(SK,t)}function SK(t){return this[t]!==void 0}var _K="{ [native code] }";function IK(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function aC(t,e){var n=Gw.get(t);if(n){if(n.has(e))return!0}else Gw.set(t,n=new Set);return n.add(e),!1}var TK=function(){return Object.create(null)},LL=Array.prototype,kK=LL.forEach,CK=LL.slice,Jh=function(){function t(e,n){e===void 0&&(e=!0),n===void 0&&(n=TK),this.weakness=e,this.makeData=n}return t.prototype.lookup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var n=this;return kK.call(e,function(r){return n=n.getChildTrie(r)}),n.data||(n.data=this.makeData(CK.call(e)))},t.prototype.getChildTrie=function(e){var n=this.weakness&&xK(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r},t}();function xK(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var jt=null,uC={},OK=1,NK=function(){return function(){function t(){this.id=["slot",OK++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=jt;e;e=e.parent)if(this.id in e.slots){var n=e.slots[this.id];if(n===uC)break;return e!==jt&&(jt.slots[this.id]=n),!0}return jt&&(jt.slots[this.id]=uC),!1},t.prototype.getValue=function(){if(this.hasValue())return jt.slots[this.id]},t.prototype.withValue=function(e,n,r,i){var s,o=(s={__proto__:null},s[this.id]=e,s),a=jt;jt={parent:a,slots:o};try{return n.apply(i,r)}finally{jt=a}},t.bind=function(e){var n=jt;return function(){var r=jt;try{return jt=n,e.apply(this,arguments)}finally{jt=r}}},t.noContext=function(e,n,r){if(jt){var i=jt;try{return jt=null,e.apply(r,n)}finally{jt=i}}else return e.apply(r,n)},t}()};function lC(t){try{return t()}catch{}}var mv="@wry/context:Slot",AK=lC(function(){return globalThis})||lC(function(){return gt})||Object.create(null),cC=AK,Vg=cC[mv]||Array[mv]||function(t){try{Object.defineProperty(cC,mv,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(NK());Vg.bind;Vg.noContext;function RK(){}var PK=function(){function t(e,n){e===void 0&&(e=1/0),n===void 0&&(n=RK),this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var n=this.getNode(e);return n&&n.value},t.prototype.getNode=function(e){var n=this.map.get(e);if(n&&n!==this.newest){var r=n.older,i=n.newer;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n},t.prototype.set=function(e,n){var r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1},t}(),jg=new Vg,gv,DK=Object.prototype.hasOwnProperty,OS=(gv=Array.from,gv===void 0?function(t){var e=[];return t.forEach(function(n){return e.push(n)}),e}:gv);function Bp(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var fh=[],LK=100;function Mu(t,e){if(!t)throw new Error(e||"assertion failure")}function FK(t,e){var n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function FL(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function MK(t){return t.slice(0)}var $K=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!Us(this))return hC(this),this.value[0]},t.prototype.recompute=function(e){return Mu(!this.recomputing,"already recomputing"),hC(this),Us(this)?UK(this,e):FL(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ML(this),Bp(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),BL(this),NS(this,function(n,r){n.setDirty(),qL(n,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=fh.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(OS(this.deps).forEach(function(n){return n.delete(e)}),this.deps.clear(),fh.push(this.deps),this.deps=null)},t.count=0,t}();function hC(t){var e=jg.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),Us(t)?UL(e,t):VL(e,t),e}function UK(t,e){return BL(t),jg.withValue(t,VK,[t,e]),BK(t,e)&&jK(t),FL(t.value)}function VK(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(n){t.value[1]=n}t.recomputing=!1}function Us(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function jK(t){t.dirty=!1,!Us(t)&&$L(t)}function ML(t){NS(t,UL)}function $L(t){NS(t,VL)}function NS(t,e){var n=t.parents.size;if(n)for(var r=OS(t.parents),i=0;i<n;++i)e(r[i],t)}function UL(t,e){Mu(t.childValues.has(e)),Mu(Us(e));var n=!Us(t);if(!t.dirtyChildren)t.dirtyChildren=fh.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&ML(t)}function VL(t,e){Mu(t.childValues.has(e)),Mu(!Us(e));var n=t.childValues.get(e);n.length===0?t.childValues.set(e,MK(e.value)):FK(n,e.value)||t.setDirty(),jL(t,e),!Us(t)&&$L(t)}function jL(t,e){var n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(fh.length<LK&&fh.push(n),t.dirtyChildren=null))}function BL(t){t.childValues.size>0&&t.childValues.forEach(function(e,n){qL(t,n)}),t.forgetDeps(),Mu(t.dirtyChildren===null)}function qL(t,e){e.parents.delete(t),t.childValues.delete(e),jL(t,e)}function BK(t,e){if(typeof t.subscribe=="function")try{Bp(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var qK={setDirty:!0,dispose:!0,forget:!0};function zL(t){var e=new Map,n=t&&t.subscribe;function r(i){var s=jg.getValue();if(s){var o=e.get(i);o||e.set(i,o=new Set),s.dependOn(o),typeof n=="function"&&(Bp(o),o.unsubscribe=n(i))}}return r.dirty=function(s,o){var a=e.get(s);if(a){var u=o&&DK.call(qK,o)?o:"setDirty";OS(a).forEach(function(l){return l[u]()}),e.delete(s),Bp(a)}},r}function WL(){var t=new Jh(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}WL();var yv=new Set;function qp(t,e){e===void 0&&(e=Object.create(null));var n=new PK(e.max||Math.pow(2,16),function(l){return l.dispose()}),r=e.keyArgs,i=e.makeCacheKey||WL(),s=function(){var l=i.apply(null,r?r.apply(null,arguments):arguments);if(l===void 0)return t.apply(null,arguments);var c=n.get(l);c||(n.set(l,c=new $K(t)),c.subscribe=e.subscribe,c.forget=function(){return n.delete(l)});var h=c.recompute(Array.prototype.slice.call(arguments));return n.set(l,c),yv.add(n),jg.hasValue()||(yv.forEach(function(f){return f.clean()}),yv.clear()),h};Object.defineProperty(s,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1});function o(l){var c=n.get(l);c&&c.setDirty()}s.dirtyKey=o,s.dirty=function(){o(i.apply(null,arguments))};function a(l){var c=n.get(l);if(c)return c.peek()}s.peekKey=a,s.peek=function(){return a(i.apply(null,arguments))};function u(l){return n.delete(l)}return s.forgetKey=u,s.forget=function(){return u(i.apply(null,arguments))},s.makeCacheKey=i,s.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(s)}var zK=function(){function t(){this.getFragmentDoc=qp(nG)}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(N(N({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(N(N({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=ir(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,s=e.fragmentName,o=ir(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,s),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),s=n(i);return s==null?i:(r.writeQuery(N(N({},e),{data:s})),s)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),s=n(i);return s==null?i:(r.writeFragment(N(N({},e),{data:s})),s)}})},t}(),QL=function(t){or(e,t);function e(n,r,i,s){var o,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=s,Array.isArray(a.path)){a.missing=a.message;for(var u=a.path.length-1;u>=0;--u)a.missing=(o={},o[a.path[u]]=a.missing,o)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error),xt=Object.prototype.hasOwnProperty;function xl(t){return t==null}function HL(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=xl(r)?xl(i)?void 0:{_id:i}:{id:r}),xl(r)&&!xl(i)&&(r=i),!xl(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var GL={dataIdFromObject:HL,addTypename:!0,resultCaching:!0,canonizeResults:!1};function WK(t){return Yh(GL,t)}function KL(t){var e=t.canonizeResults;return e===void 0?GL.canonizeResults:e}function QK(t,e){return Re(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var YL=/^[_a-z][_0-9a-z]*/i;function Vs(t){var e=t.match(YL);return e?e[0]:t}function Yw(t,e,n){return et(e)?at(e)?e.every(function(r){return Yw(t,r,n)}):t.selections.every(function(r){if(ta(r)&&Lg(r,n)){var i=ea(r);return xt.call(e,i)&&(!r.selectionSet||Yw(r.selectionSet,e[i],n))}return!0}):!1}function Wa(t){return et(t)&&!Re(t)&&!at(t)}function HK(){return new $s}function JL(t,e){var n=gS(wS(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var _d=Object.create(null),vv=function(){return _d},fC=Object.create(null),dh=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,s){return hh(Re(i)?r.get(i.__ref,s):i&&i[s])},this.canRead=function(i){return Re(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,s){if(typeof i=="string")return au(i);if(Re(i))return i;var o=r.policies.identify(i)[0];if(o){var a=au(o);return s&&r.merge(o,i),a}}}return t.prototype.toObject=function(){return N({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),xt.call(this.data,e)){var r=this.data[e];if(r&&xt.call(r,n))return r[n]}if(n==="__typename"&&xt.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof zi)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),xt.call(this.data,e))return this.data[e];if(this instanceof zi)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;Re(e)&&(e=e.__ref),Re(n)&&(n=n.__ref);var s=typeof e=="string"?this.lookup(i=e):e,o=typeof n=="string"?this.lookup(i=n):n;if(o){__DEV__?V(typeof i=="string","store.merge expects a string ID"):V(typeof i=="string",1);var a=new $s(KK).merge(s,o);if(this.data[i]=a,a!==s&&(delete this.refs[i],this.group.caching)){var u=Object.create(null);s||(u.__exists=1),Object.keys(o).forEach(function(l){if(!s||s[l]!==a[l]){u[l]=1;var c=Vs(l);c!==l&&!r.policies.hasKeyArgs(a.__typename,c)&&(u[c]=1),a[l]===void 0&&!(r instanceof zi)&&delete a[l]}}),u.__typename&&!(s&&s.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete u.__typename,Object.keys(u).forEach(function(l){return r.group.dirty(i,l)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var s=Object.create(null),o=!1,a=!0,u={DELETE:_d,INVALIDATE:fC,isReference:Re,toReference:this.toReference,canRead:this.canRead,readField:function(l,c){return r.policies.readField(typeof l=="string"?{fieldName:l,from:c||au(e)}:l,{store:r})}};if(Object.keys(i).forEach(function(l){var c=Vs(l),h=i[l];if(h!==void 0){var f=typeof n=="function"?n:n[l]||n[c];if(f){var d=f===vv?_d:f(hh(h),N(N({},u),{fieldName:c,storeFieldName:l,storage:r.getStorage(e,l)}));d===fC?r.group.dirty(e,l):(d===_d&&(d=void 0),d!==h&&(s[l]=d,o=!0,h=d))}h!==void 0&&(a=!1)}}),o)return this.merge(e,s),a&&(this instanceof zi?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,s=this.lookup(e);if(s){var o=this.getFieldValue(s,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:o,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=vv,i):vv)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(xt.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof zi&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){xt.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(s){e&&xt.call(e,s)||n.delete(s)}),e){var r=e.__META,i=ir(e,["__META"]);Object.keys(i).forEach(function(s){n.merge(s,i[s])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof zi?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(o){xt.call(r,o)&&(Object.keys(e.findChildRefIds(o)).forEach(n.add,n),delete r[o])});var i=Object.keys(r);if(i.length){for(var s=this;s instanceof zi;)s=s.parent;i.forEach(function(o){return s.delete(o)})}return i},t.prototype.findChildRefIds=function(e){if(!xt.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(s){Re(s)&&(n[s.__ref]=!0),et(s)&&Object.keys(s).forEach(function(o){var a=s[o];et(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),XL=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?zL():null,this.keyMaker=new Jh(eo)},t.prototype.depend=function(e,n){if(this.d){this.d(wv(e,n));var r=Vs(n);r!==n&&this.d(wv(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(wv(e,n),n==="__exists"?"forget":"setDirty")},t}();function wv(t,e){return e+"#"+t}function dC(t,e){dc(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){or(r,n);function r(i){var s=i.policies,o=i.resultCaching,a=o===void 0?!0:o,u=i.seed,l=n.call(this,s,new XL(a))||this;return l.stump=new GK(l),l.storageTrie=new Jh(eo),u&&l.replace(u),l}return r.prototype.addLayer=function(i,s){return this.stump.addLayer(i,s)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(dh||(dh={}));var zi=function(t){or(e,t);function e(n,r,i,s){var o=t.call(this,r.policies,s)||this;return o.id=n,o.parent=r,o.replay=i,o.group=s,i(o),o}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(s){var o=r.data[s],a=i.lookup(s);a?o?o!==a&&Object.keys(o).forEach(function(u){He(o[u],a[u])||r.group.dirty(s,u)}):(r.group.dirty(s,"__exists"),Object.keys(a).forEach(function(u){r.group.dirty(s,u)})):r.delete(s)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return N(N({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return xt.call(this.data,n)?N(N({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(dh),GK=function(t){or(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new XL(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(zi);function KK(t,e,n){var r=t[n],i=e[n];return He(r,i)?r:i}function dc(t){return!!(t instanceof dh&&t.group.caching)}function YK(t){return et(t)?at(t)?t.slice(0):N({__proto__:Object.getPrototypeOf(t)},t):t}var Jw=function(){function t(){this.known=new(OL?WeakSet:Set),this.pool=new Jh(eo),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return et(e)&&this.known.has(e)},t.prototype.pass=function(e){if(et(e)){var n=YK(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(et(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var s=e.map(this.admit,this),o=this.pool.lookupArray(s);return o.array||(this.known.add(o.array=s),__DEV__&&Object.freeze(s)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),u=[a],l=this.sortedKeys(e);u.push(l.json);var c=u.length;l.sorted.forEach(function(d){u.push(n.admit(e[d]))});var o=this.pool.lookupArray(u);if(!o.object){var h=o.object=Object.create(a);this.known.add(h),l.sorted.forEach(function(d,p){h[d]=u[c+p]}),__DEV__&&Object.freeze(h)}return o.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}(),Po=Object.assign(function(t){if(et(t)){Xw===void 0&&pC();var e=Xw.admit(t),n=Zw.get(e);return n===void 0&&Zw.set(e,n=JSON.stringify(e)),n}return JSON.stringify(t)},{reset:pC}),Xw,Zw;function pC(){Xw=new Jw,Zw=new(eo?WeakMap:Map)}function mC(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var JK=function(){function t(e){var n=this;this.knownResults=new(eo?WeakMap:Map),this.config=Yh(e,{addTypename:e.addTypename!==!1,canonizeResults:KL(e)}),this.canon=e.canon||new Jw,this.executeSelectionSet=qp(function(r){var i,s=r.context.canonizeResults,o=mC(r);o[3]=!s;var a=(i=n.executeSelectionSet).peek.apply(i,o);return a?s?N(N({},a),{result:n.canon.admit(a.result)}):a:(dC(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:mC,makeCacheKey:function(r,i,s,o){if(dc(s.store))return s.store.makeCacheKey(r,Re(i)?i.__ref:i,s.varString,o)}}),this.executeSubSelectedArray=qp(function(r){return dC(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var i=r.field,s=r.array,o=r.context;if(dc(o.store))return o.store.makeCacheKey(i,s,o.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Jw},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,s=i===void 0?"ROOT_QUERY":i,o=e.variables,a=e.returnPartialData,u=a===void 0?!0:a,l=e.canonizeResults,c=l===void 0?this.config.canonizeResults:l,h=this.config.cache.policies;o=N(N({},bS(SL(r))),o);var f=au(s),d=this.executeSelectionSet({selectionSet:$g(r).selectionSet,objectOrReference:f,enclosingRef:f,context:N({store:n,query:r,policies:h,variables:o,varString:Po(o),canonizeResults:c},JL(r,this.config.fragments))}),p;if(d.missing&&(p=[new QL(XK(d.missing),d.missing,r,o)],!u))throw p[0];return{result:d.result,complete:!p,missing:p}},t.prototype.isFresh=function(e,n,r,i){if(dc(i.store)&&this.knownResults.get(e)===r){var s=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(s&&e===s.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,o=e.context;if(Re(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=o.variables,u=o.policies,l=o.store,c=l.getFieldValue(i,"__typename"),h=[],f,d=new $s;this.config.addTypename&&typeof c=="string"&&!u.rootIdsByTypename[c]&&h.push({__typename:c});function p(w,E){var _;return w.missing&&(f=d.merge(f,(_={},_[E]=w.missing,_))),w.result}var m=new Set(r.selections);m.forEach(function(w){var E,_;if(Lg(w,a))if(ta(w)){var T=u.readField({fieldName:w.name.value,field:w,variables:o.variables,from:i},o),k=ea(w);T===void 0?ES.added(w)||(f=d.merge(f,(E={},E[k]="Can't find field '".concat(w.name.value,"' on ").concat(Re(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),E))):at(T)?T=p(n.executeSubSelectedArray({field:w,array:T,enclosingRef:s,context:o}),k):w.selectionSet?T!=null&&(T=p(n.executeSelectionSet({selectionSet:w.selectionSet,objectOrReference:T,enclosingRef:Re(T)?T:s,context:o}),k)):o.canonizeResults&&(T=n.canon.pass(T)),T!==void 0&&h.push((_={},_[k]=T,_))}else{var x=yS(w,o.lookupFragment);if(!x&&w.kind===Z.FRAGMENT_SPREAD)throw __DEV__?new Ne("No fragment named ".concat(w.name.value)):new Ne(5);x&&u.fragmentMatches(x,c)&&x.selectionSet.selections.forEach(m.add,m)}});var b=SS(h),g={result:b,missing:f},y=o.canonizeResults?this.canon.admit(g):hh(g);return y.result&&this.knownResults.set(y.result,r),y},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,s=e.enclosingRef,o=e.context,a,u=new $s;function l(c,h){var f;return c.missing&&(a=u.merge(a,(f={},f[h]=c.missing,f))),c.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(c,h){return c===null?null:at(c)?l(n.executeSubSelectedArray({field:r,array:c,enclosingRef:s,context:o}),h):r.selectionSet?l(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:c,enclosingRef:Re(c)?c:s,context:o}),h):(__DEV__&&ZK(o.store,r,c),c)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function XK(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function ZK(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){et(i)&&(__DEV__?V(!Re(i),"Missing selection set for object of type ".concat(QK(t,i)," returned for query field ").concat(e.name.value)):V(!Re(i),6),Object.values(i).forEach(r.add,r))})}}var AS=new Vg,gC=new WeakMap;function pc(t){var e=gC.get(t);return e||gC.set(t,e={vars:new Set,dep:zL()}),e}function yC(t){pc(t).vars.forEach(function(e){return e.forgetCache(t)})}function eY(t){pc(t).vars.forEach(function(e){return e.attachCache(t)})}function tY(t){var e=new Set,n=new Set,r=function(s){if(arguments.length>0){if(t!==s){t=s,e.forEach(function(u){pc(u).dep.dirty(r),nY(u)});var o=Array.from(n);n.clear(),o.forEach(function(u){return u(t)})}}else{var a=AS.getValue();a&&(i(a),pc(a).dep(r))}return t};r.onNextChange=function(s){return n.add(s),function(){n.delete(s)}};var i=r.attachCache=function(s){return e.add(s),pc(s).vars.add(r),r};return r.forgetCache=function(s){return e.delete(s)},r}function nY(t){t.broadcastWatches&&t.broadcastWatches()}var vC=Object.create(null);function RS(t){var e=JSON.stringify(t);return vC[e]||(vC[e]=Object.create(null))}function wC(t){var e=RS(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(o,a){return r.readField(a,o)},s=r.keyObject=PS(t,function(o){var a=cu(r.storeObject,o,i);return a===void 0&&n!==r.storeObject&&xt.call(n,o[0])&&(a=cu(n,o,eF)),__DEV__?V(a!==void 0,"Missing field '".concat(o.join("."),"' while extracting keyFields from ").concat(JSON.stringify(n))):V(a!==void 0,2),a});return"".concat(r.typename,":").concat(JSON.stringify(s))})}function bC(t){var e=RS(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,s=r.variables,o=r.fieldName,a=PS(t,function(l){var c=l[0],h=c.charAt(0);if(h==="@"){if(i&&Nn(i.directives)){var f=c.slice(1),d=i.directives.find(function(g){return g.name.value===f}),p=d&&Fg(d,s);return p&&cu(p,l.slice(1))}return}if(h==="$"){var m=c.slice(1);if(s&&xt.call(s,m)){var b=l.slice(0);return b[0]=m,cu(s,b)}return}if(n)return cu(n,l)}),u=JSON.stringify(a);return(n||u!=="{}")&&(o+=":"+u),o})}function PS(t,e){var n=new $s;return ZL(t).reduce(function(r,i){var s,o=e(i);if(o!==void 0){for(var a=i.length-1;a>=0;--a)o=(s={},s[i[a]]=o,s);r=n.merge(r,o)}return r},Object.create(null))}function ZL(t){var e=RS(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,s){at(i)?(ZL(i).forEach(function(o){return n.push(r.concat(o))}),r.length=0):(r.push(i),at(t[s+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function eF(t,e){return t[e]}function cu(t,e,n){return n=n||eF,tF(e.reduce(function r(i,s){return at(i)?i.map(function(o){return r(o,s)}):i&&n(i,s)},t))}function tF(t){return et(t)?at(t)?t.map(tF):PS(Object.keys(t).sort(),function(e){return cu(t,e)}):t}vS.setStringify(Po);function e1(t){return t.args!==void 0?t.args:t.field?Fg(t.field,t.variables):null}var rY=function(){},EC=function(t,e){return e.fieldName},SC=function(t,e,n){var r=n.mergeObjects;return r(t,e)},_C=function(t,e){return e},iY=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=N({dataIdFromObject:HL},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,s=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(s===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=n&&n.storeObject||e,a=N(N({},n),{typename:s,storeObject:o,readField:n&&n.readField||function(){var f=DS(arguments,o);return i.readField(f,{store:i.cache.data,variables:f.variables})}}),u,l=s&&this.getTypePolicy(s),c=l&&l.keyFn||this.config.dataIdFromObject;c;){var h=c(e,a);if(at(h))c=wC(h);else{u=h;break}}return u=u?String(u):void 0,a.keyObject?[u,a.keyObject]:[u]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],s=i.queryType,o=i.mutationType,a=i.subscriptionType,u=ir(i,["queryType","mutationType","subscriptionType"]);s&&n.setRootTypename("Query",r),o&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),xt.call(n.toBeAdded,r)?n.toBeAdded[r].push(u):n.toBeAdded[r]=[u]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),s=n.keyFields,o=n.fields;function a(u,l){u.merge=typeof l=="function"?l:l===!0?SC:l===!1?_C:u.merge}a(i,n.merge),i.keyFn=s===!1?rY:at(s)?wC(s):typeof s=="function"?s:i.keyFn,o&&Object.keys(o).forEach(function(u){var l=r.getFieldPolicy(e,u,!0),c=o[u];if(typeof c=="function")l.read=c;else{var h=c.keyArgs,f=c.read,d=c.merge;l.keyFn=h===!1?EC:at(h)?bC(h):typeof h=="function"?h:l.keyFn,typeof f=="function"&&(l.read=f),a(l,d)}l.read&&l.merge&&(l.keyFn=l.keyFn||EC)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(__DEV__?V(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):V(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var s=i.match(YL);(!s||s[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!xt.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(o){var a=n.getTypePolicy(o),u=a.fields,l=ir(a,["fields"]);Object.assign(r,l),Object.assign(r.fields,u)})}var s=this.toBeAdded[e];return s&&s.length&&s.splice(0).forEach(function(o){n.updateTypePolicy(e,o)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var s=this;if(!e.typeCondition)return!0;if(!n)return!1;var o=e.typeCondition.name.value;if(n===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(n,!0),u=[a],l=function(p){var m=s.getSupertypeSet(p,!1);m&&m.size&&u.indexOf(m)<0&&u.push(m)},c=!!(r&&this.fuzzySubtypes.size),h=!1,f=0;f<u.length;++f){var d=u[f];if(d.has(o))return a.has(o)||(h&&__DEV__&&V.warn("Inferring subtype ".concat(n," of supertype ").concat(o)),a.add(o)),!0;d.forEach(l),c&&f===u.length-1&&Yw(e.selectionSet,r,i)&&(c=!1,h=!0,this.fuzzySubtypes.forEach(function(p,m){var b=n.match(p);b&&b[0]===n&&l(m)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),s,o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},u=e1(e);o;){var l=o(u,a);if(at(l))o=bC(l);else{s=l||r;break}}return s===void 0&&(s=e.field?dG(e.field,e.variables):vS(r,e1(e))),s===!1?r:r===Vs(s)?s:r+":"+s},t.prototype.readField=function(e,n){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var s=n.store.getFieldValue(r,"__typename");s&&(e.typename=s)}var o=this.getStoreFieldName(e),a=Vs(o),u=n.store.getFieldValue(r,o),l=this.getFieldPolicy(e.typename,a,!1),c=l&&l.read;if(c){var h=IC(this,r,e,n,n.store.getStorage(Re(r)?r.__ref:r,o));return AS.withValue(this.cache,c,[u,h])}return u}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s},t.prototype.runMergeFunction=function(e,n,r,i,s){var o=r.field,a=r.typename,u=r.merge;return u===SC?nF(i.store)(e,n):u===_C?n:(i.overwrite&&(e=void 0),u(e,n,IC(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:i.variables},i,s||Object.create(null))))},t}();function IC(t,e,n,r,i){var s=t.getStoreFieldName(n),o=Vs(s),a=n.variables||r.variables,u=r.store,l=u.toReference,c=u.canRead;return{args:e1(n),field:n.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:Re,toReference:l,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(DS(arguments,e,a),r)},mergeObjects:nF(r.store)}}function DS(t,e,n){var r=t[0],i=t[1],s=t.length,o;return typeof r=="string"?o={fieldName:r,from:s>1?i:e}:(o=N({},r),xt.call(o,"from")||(o.from=e)),__DEV__&&o.from===void 0&&__DEV__&&V.warn("Undefined 'from' passed to readField with arguments ".concat(BG(Array.from(t)))),o.variables===void 0&&(o.variables=n),o}function nF(t){return function(n,r){if(at(n)||at(r))throw __DEV__?new Ne("Cannot automatically merge arrays"):new Ne(4);if(et(n)&&et(r)){var i=t.getFieldValue(n,"__typename"),s=t.getFieldValue(r,"__typename"),o=i&&s&&i!==s;if(o)return r;if(Re(n)&&Wa(r))return t.merge(n.__ref,r),n;if(Wa(n)&&Re(r))return t.merge(n,r.__ref),r;if(Wa(n)&&Wa(r))return N(N({},n),r)}return r}}function bv(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:N(N({},t),{clientOnly:e,deferred:n})),i}var sY=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,s=n.result,o=n.dataId,a=n.variables,u=n.overwrite,l=Kh(i),c=HK();a=N(N({},bS(l)),a);var h=N(N({store:e,written:Object.create(null),merge:function(d,p){return c.merge(d,p)},variables:a,varString:Po(a)},JL(i,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:s||Object.create(null),dataId:o,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:h});if(!Re(f))throw __DEV__?new Ne("Could not identify object ".concat(JSON.stringify(s))):new Ne(7);return h.incomingById.forEach(function(d,p){var m=d.storeObject,b=d.mergeTree,g=d.fieldNodeSet,y=au(p);if(b&&b.map.size){var w=r.applyMerges(b,y,m,h);if(Re(w))return;m=w}if(__DEV__&&!h.overwrite){var E=Object.create(null);g.forEach(function(k){k.selectionSet&&(E[k.name.value]=!0)});var _=function(k){return E[Vs(k)]===!0},T=function(k){var x=b&&b.map.get(k);return Boolean(x&&x.info&&x.info.merge)};Object.keys(m).forEach(function(k){_(k)&&!T(k)&&oY(y,m,k,h.store)})}e.merge(p,m)}),e.retain(f.__ref),f},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,s=e.selectionSet,o=e.context,a=e.mergeTree,u=this.cache.policies,l=Object.create(null),c=r&&u.rootTypenamesById[r]||$w(i,s,o.fragmentMap)||r&&o.store.get(r,"__typename");typeof c=="string"&&(l.__typename=c);var h=function(){var w=DS(arguments,l,o.variables);if(Re(w.from)){var E=o.incomingById.get(w.from.__ref);if(E){var _=u.readField(N(N({},w),{from:E.storeObject}),o);if(_!==void 0)return _}}return u.readField(w,o)},f=new Set;this.flattenFields(s,i,o,c).forEach(function(w,E){var _,T=ea(E),k=i[T];if(f.add(E),k!==void 0){var x=u.getStoreFieldName({typename:c,fieldName:E.name.value,field:E,variables:w.variables}),M=TC(a,x),C=n.processFieldValue(k,E,E.selectionSet?bv(w,!1,!1):w,M),ae=void 0;E.selectionSet&&(Re(C)||Wa(C))&&(ae=h("__typename",C));var me=u.getMergeFunction(c,E.name.value,ae);me?M.info={field:E,typename:c,merge:me}:kC(a,x),l=w.merge(l,(_={},_[x]=C,_))}else __DEV__&&!w.clientOnly&&!w.deferred&&!ES.added(E)&&!u.getReadFunction(c,E.name.value)&&__DEV__&&V.error("Missing field '".concat(ea(E),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var d=u.identify(i,{typename:c,selectionSet:s,fragmentMap:o.fragmentMap,storeObject:l,readField:h}),p=d[0],m=d[1];r=r||p,m&&(l=o.merge(l,m))}catch(w){if(!r)throw w}if(typeof r=="string"){var b=au(r),g=o.written[r]||(o.written[r]=[]);if(g.indexOf(s)>=0||(g.push(s),this.reader&&this.reader.isFresh(i,b,s,o)))return b;var y=o.incomingById.get(r);return y?(y.storeObject=o.merge(y.storeObject,l),y.mergeTree=t1(y.mergeTree,a),f.forEach(function(w){return y.fieldNodeSet.add(w)})):o.incomingById.set(r,{storeObject:l,mergeTree:zp(a)?void 0:a,fieldNodeSet:f}),b}return l},t.prototype.processFieldValue=function(e,n,r,i){var s=this;return!n.selectionSet||e===null?__DEV__?xL(e):e:at(e)?e.map(function(o,a){var u=s.processFieldValue(o,n,r,TC(i,a));return kC(i,a),u}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=$w(n,e,r.fragmentMap));var s=new Map,o=this.cache.policies,a=new Jh(!1);return function u(l,c){var h=a.lookup(l,c.clientOnly,c.deferred);h.visited||(h.visited=!0,l.selections.forEach(function(f){if(Lg(f,r.variables)){var d=c.clientOnly,p=c.deferred;if(!(d&&p)&&Nn(f.directives)&&f.directives.forEach(function(g){var y=g.name.value;if(y==="client"&&(d=!0),y==="defer"){var w=Fg(g,r.variables);(!w||w.if!==!1)&&(p=!0)}}),ta(f)){var m=s.get(f);m&&(d=d&&m.clientOnly,p=p&&m.deferred),s.set(f,bv(r,d,p))}else{var b=yS(f,r.lookupFragment);if(!b&&f.kind===Z.FRAGMENT_SPREAD)throw __DEV__?new Ne("No fragment named ".concat(f.name.value)):new Ne(8);b&&o.fragmentMatches(b,i,n,r.variables)&&u(b.selectionSet,bv(r,d,p))}}}))}(e,r),s},t.prototype.applyMerges=function(e,n,r,i,s){var o,a=this;if(e.map.size&&!Re(r)){var u=!at(r)&&(Re(n)||Wa(n))?n:void 0,l=r;u&&!s&&(s=[Re(u)?u.__ref:u]);var c,h=function(f,d){return at(f)?typeof d=="number"?f[d]:void 0:i.store.getFieldValue(f,String(d))};e.map.forEach(function(f,d){var p=h(u,d),m=h(l,d);if(m!==void 0){s&&s.push(d);var b=a.applyMerges(f,p,m,i,s);b!==m&&(c=c||new Map,c.set(d,b)),s&&V(s.pop()===d)}}),c&&(r=at(l)?l.slice(0):N({},l),c.forEach(function(f,d){r[d]=f}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,s&&(o=i.store).getStorage.apply(o,s)):r},t}(),rF=[];function TC(t,e){var n=t.map;return n.has(e)||n.set(e,rF.pop()||{map:new Map}),n.get(e)}function t1(t,e){if(t===e||!e||zp(e))return t;if(!t||zp(t))return e;var n=t.info&&e.info?N(N({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,s={info:n,map:i};if(r){var o=new Set(e.map.keys());t.map.forEach(function(a,u){s.map.set(u,t1(a,e.map.get(u))),o.delete(u)}),o.forEach(function(a){s.map.set(a,t1(e.map.get(a),t.map.get(a)))})}return s}function zp(t){return!t||!(t.info||t.map.size)}function kC(t,e){var n=t.map,r=n.get(e);r&&zp(r)&&(rF.push(r),n.delete(e))}var CC=new Set;function oY(t,e,n,r){var i=function(h){var f=r.getFieldValue(h,n);return typeof f=="object"&&f},s=i(t);if(s){var o=i(e);if(o&&!Re(s)&&!He(s,o)&&!Object.keys(s).every(function(h){return r.getFieldValue(o,h)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),u=Vs(n),l="".concat(a,".").concat(u);if(!CC.has(l)){CC.add(l);var c=[];!at(s)&&!at(o)&&[s,o].forEach(function(h){var f=r.getFieldValue(h,"__typename");typeof f=="string"&&!c.includes(f)&&c.push(f)}),__DEV__&&V.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(a,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(l,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(s).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(o).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var aY=function(t){or(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=tY,r.txCount=0,r.config=WK(n),r.addTypename=!!r.config.addTypename,r.policies=new iY({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new dh.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,s=this.config.fragments;this.storeWriter=new sY(this,this.storeReader=new JK({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:KL(this.config),canon:n?void 0:i&&i.canon,fragments:s}),s),this.maybeBroadcastWatch=qp(function(o,a){return r.broadcastWatch(o,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(o){var a=o.optimistic?r.optimisticData:r.data;if(dc(a)){var u=o.optimistic,l=o.id,c=o.variables;return a.makeCacheKey(o.query,o.callback,Po({optimistic:u,id:l,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(N(N({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(s){if(s instanceof QL)return null;throw s}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(xt.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(N(N({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||eY(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&yC(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){Po.reset();var r=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(Re(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){__DEV__&&V.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(xt.call(n,"id"))return!1;n=N(N({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),Po.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),yC(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,s=n.optimistic,o=s===void 0?!0:s,a=n.removeOptimistic,u=n.onWatchUpdated,l,c=function(f){var d=r,p=d.data,m=d.optimisticData;++r.txCount,f&&(r.data=r.optimisticData=f);try{return l=i(r)}finally{--r.txCount,r.data=p,r.optimisticData=m}},h=new Set;return u&&!this.txCount&&this.broadcastWatches(N(N({},n),{onWatchUpdated:function(f){return h.add(f),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,c):o===!1?c(this.data):c(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),u&&h.size?(this.broadcastWatches(N(N({},n),{onWatchUpdated:function(f,d){var p=u.call(this,f,d);return p!==!1&&h.delete(f),p}})),h.size&&h.forEach(function(f){return r.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(n),l},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){if(this.addTypename){var r=this.typenameDocumentCache.get(n);return r||(r=ES(n),this.typenameDocumentCache.set(n,r),this.typenameDocumentCache.set(r,r)),r}return n},e.prototype.transformForLink=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,s=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,s,i)===!1)||(!i||!He(i.result,s.result))&&n.callback(n.lastDiff=s,i)},e}(zK);function uY(t){return t.hasOwnProperty("graphQLErrors")}var lY=function(t){var e="";if(Nn(t.graphQLErrors)||Nn(t.clientErrors)){var n=(t.graphQLErrors||[]).concat(t.clientErrors||[]);n.forEach(function(r){var i=r?r.message:"Error message not found.";e+="".concat(i,`
`)})}return t.networkError&&(e+="".concat(t.networkError.message,`
`)),e=e.replace(/\n$/,""),e},xr=function(t){or(e,t);function e(n){var r=n.graphQLErrors,i=n.clientErrors,s=n.networkError,o=n.errorMessage,a=n.extraInfo,u=t.call(this,o)||this;return u.name="ApolloError",u.graphQLErrors=r||[],u.clientErrors=i||[],u.networkError=s||null,u.message=o||lY(u),u.extraInfo=a,u.__proto__=e.prototype,u}return e}(Error),ke;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(ke||(ke={}));function ph(t){return t?t<7:!1}var cY=Object.assign,hY=Object.hasOwnProperty,n1=function(t){or(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,s=n.options,o=t.call(this,function(b){try{var g=b._subscription._observer;g&&!g.error&&(g.error=fY)}catch{}var y=!o.observers.size;o.observers.add(b);var w=o.last;return w&&w.error?b.error&&b.error(w.error):w&&w.result&&b.next&&b.next(w.result),y&&o.reobserve().catch(function(){}),function(){o.observers.delete(b)&&!o.observers.size&&o.tearDownQuery()}})||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=i,o.queryManager=r,o.isTornDown=!1;var a=r.defaultOptions.watchQuery,u=a===void 0?{}:a,l=u.fetchPolicy,c=l===void 0?"cache-first":l,h=s.fetchPolicy,f=h===void 0?c:h,d=s.initialFetchPolicy,p=d===void 0?f==="standby"?c:f:d;o.options=N(N({},s),{initialFetchPolicy:p,fetchPolicy:f}),o.queryId=i.queryId||r.generateQueryId();var m=Kh(o.query);return o.queryName=m&&m.name&&m.name.value,o}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var s={next:function(a){r(a),n.observers.delete(s),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){o.unsubscribe()},0)},error:i},o=n.subscribe(s)})},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||ke.ready,s=N(N({},r),{loading:ph(i),networkStatus:i}),o=this.options.fetchPolicy,a=o===void 0?"cache-first":o;if(!(a==="network-only"||a==="no-cache"||a==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var u=this.queryInfo.getDiff();(u.complete||this.options.returnPartialData)&&(s.data=u.result),He(s.data,{})&&(s.data=void 0),u.complete?(delete s.partial,u.complete&&s.networkStatus===ke.loading&&(a==="cache-first"||a==="cache-only")&&(s.networkStatus=ke.ready,s.loading=!1)):s.partial=!0,__DEV__&&!u.complete&&!this.options.partialRefetch&&!s.loading&&!s.data&&!s.error&&sF(u.missing)}return n&&this.updateLastResult(s),s},e.prototype.isDifferentFromLastResult=function(n,r){return!this.last||!He(this.last.result,n)||r&&!He(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||He(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},s=this.options.fetchPolicy;if(s==="cache-and-network"?i.fetchPolicy=s:s==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&n&&hY.call(n,"variables")){var o=SL(this.query),a=o.variableDefinitions;(!a||!a.some(function(u){return u.variable.name.value==="variables"}))&&__DEV__&&V.warn("Called refetch(".concat(JSON.stringify(n),") for query ").concat(((r=o.name)===null||r===void 0?void 0:r.value)||JSON.stringify(o),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return n&&!He(this.options.variables,n)&&(i.variables=this.options.variables=N(N({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,ke.refetch)},e.prototype.fetchMore=function(n){var r=this,i=N(N({},n.query?n:N(N(N(N({},this.options),{query:this.query}),n),{variables:N(N({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId(),o=this.queryInfo,a=o.networkStatus;o.networkStatus=ke.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(s,i,ke.fetchMore).then(function(l){return r.queryManager.removeQuery(s),o.networkStatus===ke.fetchMore&&(o.networkStatus=a),r.queryManager.cache.batch({update:function(c){var h=n.updateQuery;h?c.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(f){return h(f,{fetchMoreResult:l.data,variables:i.variables})}):c.writeQuery({query:i.query,variables:i.variables,data:l.data})},onWatchUpdated:function(c){u.add(c.query)}}),l}).finally(function(){u.has(r.query)||iF(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(s){var o=n.updateQuery;o&&r.updateQuery(function(a,u){var l=u.variables;return o(a,{subscriptionData:s,variables:l})})},error:function(s){if(n.onError){n.onError(s);return}__DEV__&&V.error("Unhandled GraphQL subscription error",s)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.setVariables=function(n){return He(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},ke.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,s=n(i,{variables:this.variables});s&&(r.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,s=i===void 0?"cache-first":i,o=r.initialFetchPolicy,a=o===void 0?s:o;s==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(s,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,n,r)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,s=r.options.pollInterval;if(!s){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===s)){__DEV__?V(s,"Attempted to start a polling query without a polling interval."):V(s,13);var o=i||(this.pollingInfo={});o.interval=s;var a=function(){n.pollingInfo&&(ph(n.queryInfo.networkStatus)?u():n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},ke.poll).then(u,u))},u=function(){var l=n.pollingInfo;l&&(clearTimeout(l.timeout),l.timeout=setTimeout(a,l.interval))};u()}}},e.prototype.updateLastResult=function(n,r){return r===void 0&&(r=this.variables),this.last=N(N({},this.last),{result:this.queryManager.assumeImmutableResults?n:xL(n),variables:r}),Nn(n.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(n,r){var i=this;this.isTornDown=!1;var s=r===ke.refetch||r===ke.fetchMore||r===ke.poll,o=this.options.variables,a=this.options.fetchPolicy,u=Yh(this.options,n||{}),l=s?u:cY(this.options,u);s||(this.updatePolling(),n&&n.variables&&!He(n.variables,o)&&l.fetchPolicy!=="standby"&&l.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",l),r===void 0&&(r=ke.setVariables)));var c=l.variables&&N({},l.variables),h=this.fetch(l,r),f={next:function(d){i.reportResult(d,c)},error:function(d){i.reportError(d,c)}};return s||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=f),h.addObserver(f),h.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError();(i||this.isDifferentFromLastResult(n,r))&&((i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),fc(this.observers,"next",n))},e.prototype.reportError=function(n,r){var i=N(N({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:ke.error,loading:!1});this.updateLastResult(i,r),fc(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Ve);NL(n1);function iF(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,typeof r=="function"?r.apply(this,arguments):n}}):t.reobserve()}function fY(t){__DEV__&&V.error("Unhandled error",t.message,t.stack)}function sF(t){__DEV__&&t&&__DEV__&&V.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var oF=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,s=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=Qk(n.resolvers,r)}):this.resolvers=Qk(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var n=e.document,r=e.remoteResult,i=e.context,s=e.variables,o=e.onlyRunForcedResolvers,a=o===void 0?!1:o;return Gi(this,void 0,void 0,function(){return Ki(this,function(u){return n?[2,this.resolveDocument(n,r.data,i,s,this.fragmentMatcher,a).then(function(l){return N(N({},r),{data:l.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return mS(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return _G(e)},t.prototype.prepareContext=function(e){var n=this.cache;return N(N({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e,n,r){return n===void 0&&(n={}),r===void 0&&(r={}),Gi(this,void 0,void 0,function(){return Ki(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,n)||{},this.prepareContext(r),n).then(function(s){return N(N({},n),s.exportedVariables)})]:[2,N({},n)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return xi(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return pS}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:SG(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n,r,i,s,o){return r===void 0&&(r={}),i===void 0&&(i={}),s===void 0&&(s=function(){return!0}),o===void 0&&(o=!1),Gi(this,void 0,void 0,function(){var a,u,l,c,h,f,d,p,m,b,g;return Ki(this,function(y){return a=$g(e),u=wS(e),l=gS(u),c=this.collectSelectionsToResolve(a,l),h=a.operation,f=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",d=this,p=d.cache,m=d.client,b={fragmentMap:l,context:N(N({},r),{cache:p,client:m}),variables:i,fragmentMatcher:s,defaultOperationType:f,exportedVariables:{},selectionsToResolve:c,onlyRunForcedResolvers:o},g=!1,[2,this.resolveSelectionSet(a.selectionSet,g,n,b).then(function(w){return{result:w,exportedVariables:b.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return Gi(this,void 0,void 0,function(){var s,o,a,u,l,c=this;return Ki(this,function(h){return s=i.fragmentMap,o=i.context,a=i.variables,u=[r],l=function(f){return Gi(c,void 0,void 0,function(){var d,p;return Ki(this,function(m){return!n&&!i.selectionsToResolve.has(f)?[2]:Lg(f,a)?ta(f)?[2,this.resolveField(f,n,r,i).then(function(b){var g;typeof b<"u"&&u.push((g={},g[ea(f)]=b,g))})]:(gG(f)?d=f:(d=s[f.name.value],__DEV__?V(d,"No fragment named ".concat(f.name.value)):V(d,11)),d&&d.typeCondition&&(p=d.typeCondition.name.value,i.fragmentMatcher(r,p,o))?[2,this.resolveSelectionSet(d.selectionSet,n,r,i).then(function(b){u.push(b)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(l)).then(function(){return SS(u)})]})})},t.prototype.resolveField=function(e,n,r,i){return Gi(this,void 0,void 0,function(){var s,o,a,u,l,c,h,f,d,p=this;return Ki(this,function(m){return r?(s=i.variables,o=e.name.value,a=ea(e),u=o!==a,l=r[a]||r[o],c=Promise.resolve(l),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(h=r.__typename||i.defaultOperationType,f=this.resolvers&&this.resolvers[h],f&&(d=f[u?o:a],d&&(c=Promise.resolve(AS.withValue(this.cache,d,[r,Fg(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,c.then(function(b){var g,y;if(b===void 0&&(b=l),e.directives&&e.directives.forEach(function(E){E.name.value==="export"&&E.arguments&&E.arguments.forEach(function(_){_.name.value==="as"&&_.value.kind==="StringValue"&&(i.exportedVariables[_.value.value]=b)})}),!e.selectionSet||b==null)return b;var w=(y=(g=e.directives)===null||g===void 0?void 0:g.some(function(E){return E.name.value==="client"}))!==null&&y!==void 0?y:!1;if(Array.isArray(b))return p.resolveSubSelectedArray(e,n||w,b,i);if(e.selectionSet)return p.resolveSelectionSet(e.selectionSet,n||w,b,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var s=this;return Promise.all(r.map(function(o){if(o===null)return null;if(Array.isArray(o))return s.resolveSubSelectedArray(e,n,o,i);if(e.selectionSet)return s.resolveSelectionSet(e.selectionSet,n,o,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(o){return!Array.isArray(o)},i=this.selectionsToResolveCache;function s(o){if(!i.has(o)){var a=new Set;i.set(o,a),xi(o,{Directive:function(u,l,c,h,f){u.name.value==="client"&&f.forEach(function(d){r(d)&&qk(d)&&a.add(d)})},FragmentSpread:function(u,l,c,h,f){var d=n[u.name.value];__DEV__?V(d,"No fragment named ".concat(u.name.value)):V(d,12);var p=s(d);p.size>0&&(f.forEach(function(m){r(m)&&qk(m)&&a.add(m)}),a.add(u),p.forEach(function(m){a.add(m)}))}})}return i.get(o)}return s(e)},t}(),Qa=new(eo?WeakMap:Map);function Ev(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return Qa.set(t,(Qa.get(t)+1)%1e15),n.apply(this,arguments)})}function xC(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Sv=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Qa.has(r)||(Qa.set(r,0),Ev(r,"evict"),Ev(r,"modify"),Ev(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||ke.loading;return this.variables&&this.networkStatus!==ke.loading&&!He(this.variables,e.variables)&&(n=ke.setVariables),He(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){xC(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var n=this.getDiffOptions(e);if(this.lastDiff&&He(n,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(n);return this.updateLastDiff(i,n),i},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!He(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0)))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():iF(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;xC(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(ph(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(n){return n.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=N(N({},this.getDiffOptions(e)),{watcher:this,callback:function(s){return n.setDiff(s)}});(!this.lastWatch||!He(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===Qa.get(this.cache)&&He(n,r.variables)&&He(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var s=this,o=new $s,a=Nn(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Nn(e.incremental)){var u=AL(this.getDiff().result,e);e.data=u}else if("hasNext"in e&&e.hasNext){var l=this.getDiff();e.data=o.merge(l.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(r1(e,r.errorPolicy)?this.cache.performTransaction(function(c){if(s.shouldWrite(e,r.variables))c.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),s.lastWrite={result:e,variables:r.variables,dmCount:Qa.get(s.cache)};else if(s.lastDiff&&s.lastDiff.diff.complete){e.data=s.lastDiff.diff.result;return}var h=s.getDiffOptions(r.variables),f=c.diff(h);s.stopped||s.updateWatch(r.variables),s.updateLastDiff(f,h),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=ke.ready},t.prototype.markError=function(e){return this.networkStatus=ke.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function r1(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!Sd(t);return!r&&n&&t.data&&(r=!0),r}var dY=Object.prototype.hasOwnProperty,pY=function(){function t(e){var n=e.cache,r=e.link,i=e.defaultOptions,s=e.queryDeduplication,o=s===void 0?!1:s,a=e.onBroadcast,u=e.ssrMode,l=u===void 0?!1:u,c=e.clientAwareness,h=c===void 0?{}:c,f=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(eo?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=n,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=o,this.clientAwareness=h,this.localState=f||new oF({cache:n}),this.ssrMode=l,this.assumeImmutableResults=!!d,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new Ne("QueryManager stopped while query was in flight"):new Ne(14))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var n,r,i=e.mutation,s=e.variables,o=e.optimisticResponse,a=e.updateQueries,u=e.refetchQueries,l=u===void 0?[]:u,c=e.awaitRefetchQueries,h=c===void 0?!1:c,f=e.update,d=e.onQueryUpdated,p=e.fetchPolicy,m=p===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.fetchPolicy)||"network-only":p,b=e.errorPolicy,g=b===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.errorPolicy)||"none":b,y=e.keepRootFields,w=e.context;return Gi(this,void 0,void 0,function(){var E,_,T,k,x,M;return Ki(this,function(C){switch(C.label){case 0:return __DEV__?V(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):V(i,15),__DEV__?V(m==="network-only"||m==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):V(m==="network-only"||m==="no-cache",16),E=this.generateMutationId(),_=this.transform(i),T=_.document,k=_.hasClientExports,i=this.cache.transformForLink(T),s=this.getVariables(i,s),k?[4,this.localState.addExportedVariables(i,s,w)]:[3,2];case 1:s=C.sent(),C.label=2;case 2:return x=this.mutationStore&&(this.mutationStore[E]={mutation:i,variables:s,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:E,document:i,variables:s,fetchPolicy:m,errorPolicy:g,context:w,updateQueries:a,update:f,keepRootFields:y}),this.broadcastQueries(),M=this,[2,new Promise(function(ae,me){return pv(M.getObservableFromLink(i,N(N({},w),{optimisticResponse:o}),s,!1),function(he){if(Sd(he)&&g==="none")throw new xr({graphQLErrors:qw(he)});x&&(x.loading=!1,x.error=null);var G=N({},he);return typeof l=="function"&&(l=l(G)),g==="ignore"&&Sd(G)&&delete G.errors,M.markMutationResult({mutationId:E,result:G,document:i,variables:s,fetchPolicy:m,errorPolicy:g,context:w,update:f,updateQueries:a,awaitRefetchQueries:h,refetchQueries:l,removeOptimistic:o?E:void 0,onQueryUpdated:d,keepRootFields:y})}).subscribe({next:function(he){M.broadcastQueries(),(!("hasNext"in he)||he.hasNext===!1)&&ae(he)},error:function(he){x&&(x.loading=!1,x.error=he),o&&M.cache.removeOptimistic(E),M.broadcastQueries(),me(he instanceof xr?he:new xr({networkError:he}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,s=[],o=e.fetchPolicy==="no-cache";if(!o&&r1(i,e.errorPolicy)){if(uu(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),uu(i)&&Nn(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),u=void 0;a.result&&(u=AL(a.result,i)),typeof u<"u"&&(i.data=u,s.push({result:u,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach(function(h,f){var d=h.observableQuery,p=d&&d.queryName;if(!(!p||!dY.call(l,p))){var m=l[p],b=r.queries.get(f),g=b.document,y=b.variables,w=n.diff({query:g,variables:y,returnPartialData:!0,optimistic:!1}),E=w.result,_=w.complete;if(_&&E){var T=m(E,{mutationResult:i,queryName:g&&Uw(g)||void 0,queryVariables:y});T&&s.push({result:T,dataId:"ROOT_QUERY",query:g,variables:y})}}})}if(s.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(h){o||s.forEach(function(m){return h.write(m)});var f=e.update,d=!jG(i)||uu(i)&&!i.hasNext;if(f){if(!o){var p=h.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});p.complete&&(i=N(N({},i),{data:p.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}d&&f(h,i,{context:e.context,variables:e.variables})}!o&&!e.keepRootFields&&d&&h.modify({id:"ROOT_MUTATION",fields:function(m,b){var g=b.fieldName,y=b.DELETE;return g==="__typename"?m:y}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(h){return c.push(h)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables):e;return this.cache.recordOptimisticTransaction(function(s){try{r.markMutationResult(N(N({},n),{result:{data:i}}),s)}catch(o){__DEV__&&V.error(o)}},n.mutationId)},t.prototype.fetchQuery=function(e,n,r){return this.fetchQueryObservable(e,n,r).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){var n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=EG(r),s=this.localState.clientQuery(r),o=i&&this.localState.serverQuery(i),a={document:r,hasClientExports:ZH(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:s,serverQuery:o,defaultVars:bS(Kh(r)),asQuery:N(N({},r),{definitions:r.definitions.map(function(l){return l.kind==="OperationDefinition"&&l.operation!=="query"?N(N({},l),{operation:"query"}):l})})},u=function(l){l&&!n.has(l)&&n.set(l,a)};u(e),u(r),u(s),u(o)}return n.get(e)},t.prototype.getVariables=function(e,n){return N(N({},this.transform(e).defaultVars),n)},t.prototype.watchQuery=function(e){e=N(N({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var n=new Sv(this),r=new n1({queryManager:this,queryInfo:n,options:e});return this.queries.set(r.queryId,n),n.init({document:r.query,observableQuery:r,variables:r.variables}),r},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),__DEV__?V(e.query,"query option is required. You must specify your GraphQL document in the query option."):V(e.query,17),__DEV__?V(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):V(e.query.kind==="Document",18),__DEV__?V(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):V(!e.returnPartialData,19),__DEV__?V(!e.pollInterval,"pollInterval option only supported on watchQuery."):V(!e.pollInterval,20),this.fetchQuery(n,e).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Ne("Store reset while query was in flight (not completed in link chain)"):new Ne(21)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=ke.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(o){typeof o=="string"?i.set(o,!1):rG(o)?i.set(n.transform(o).document,!1):et(o)&&o.query&&s.add(o)}),this.queries.forEach(function(o,a){var u=o.observableQuery,l=o.document;if(u){if(e==="all"){r.set(a,u);return}var c=u.queryName,h=u.options.fetchPolicy;if(h==="standby"||e==="active"&&!u.hasObservers())return;(e==="active"||c&&i.has(c)||l&&i.has(l))&&(r.set(a,u),c&&i.set(c,!0),l&&i.set(l,!0))}}),s.size&&s.forEach(function(o){var a=zw("legacyOneTimeQuery"),u=n.getQuery(a).init({document:o.query,variables:o.variables}),l=new n1({queryManager:n,queryInfo:u,options:N(N({},o),{fetchPolicy:"network-only"})});V(l.queryId===a),u.setObservableQuery(l),r.set(a,l)}),__DEV__&&i.size&&i.forEach(function(o,a){o||__DEV__&&V.warn("Unknown query ".concat(typeof a=="string"?"named ":"").concat(JSON.stringify(a,null,2)," requested in refetchQueries options.include array"))}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,s){var o=i.options.fetchPolicy;i.resetLastResults(),(e||o!=="standby"&&o!=="cache-only")&&r.push(i.refetch()),n.getQuery(s).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,s=e.errorPolicy,o=e.variables,a=e.context,u=a===void 0?{}:a;r=this.transform(r).document,o=this.getVariables(r,o);var l=function(h){return n.getObservableFromLink(r,u,h).map(function(f){if(i!=="no-cache"&&(r1(f,s)&&n.cache.write({query:r,result:f.data,dataId:"ROOT_SUBSCRIPTION",variables:h}),n.broadcastQueries()),Sd(f))throw new xr({graphQLErrors:f.errors});return f})};if(this.transform(r).hasClientExports){var c=this.localState.addExportedVariables(r,o,u).then(l);return new Ve(function(h){var f=null;return c.then(function(d){return f=d.subscribe(h)},h.error),function(){return f&&f.unsubscribe()}})}return l(o)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i){var s=this,o;i===void 0&&(i=(o=n==null?void 0:n.queryDeduplication)!==null&&o!==void 0?o:this.queryDeduplication);var a,u=this.transform(e).serverQuery;if(u){var l=this,c=l.inFlightLinkObservables,h=l.link,f={query:u,variables:r,operationName:Uw(u)||void 0,context:this.prepareContext(N(N({},n),{forceFetch:!i}))};if(n=f.context,i){var d=c.get(u)||new Map;c.set(u,d);var p=Po(r);if(a=d.get(p),!a){var m=new Wl([Qw(h,f)]);d.set(p,a=m),m.beforeNext(function(){d.delete(p)&&d.size<1&&c.delete(u)})}}else a=new Wl([Qw(h,f)])}else a=new Wl([Ve.of({data:{}})]),n=this.prepareContext(n);var b=this.transform(e).clientQuery;return b&&(a=pv(a,function(g){return s.localState.runResolvers({document:b,remoteResult:g,context:n,variables:r})})),a},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),s=this.cache.transformForLink(this.transform(e.document).document);return pv(this.getObservableFromLink(s,r.context,r.variables),function(o){var a=qw(o),u=a.length>0;if(i>=e.lastRequestId){if(u&&r.errorPolicy==="none")throw e.markError(new xr({graphQLErrors:a}));e.markResult(o,s,r,n),e.markReady()}var l={data:o.data,loading:!1,networkStatus:ke.ready};return u&&r.errorPolicy!=="ignore"&&(l.errors=a,l.networkStatus=ke.error),l},function(o){var a=uY(o)?o:new xr({networkError:o});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchQueryObservable=function(e,n,r){var i=this;r===void 0&&(r=ke.loading);var s=this.transform(n.query).document,o=this.getVariables(s,n.variables),a=this.getQuery(e),u=this.defaultOptions.watchQuery,l=n.fetchPolicy,c=l===void 0?u&&u.fetchPolicy||"cache-first":l,h=n.errorPolicy,f=h===void 0?u&&u.errorPolicy||"none":h,d=n.returnPartialData,p=d===void 0?!1:d,m=n.notifyOnNetworkStatusChange,b=m===void 0?!1:m,g=n.context,y=g===void 0?{}:g,w=Object.assign({},n,{query:s,variables:o,fetchPolicy:c,errorPolicy:f,returnPartialData:p,notifyOnNetworkStatusChange:b,context:y}),E=function(k){w.variables=k;var x=i.fetchQueryByPolicy(a,w,r);return w.fetchPolicy!=="standby"&&x.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),x},_=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(k){_(),setTimeout(function(){return T.cancel(k)})});var T=new Wl(this.transform(w.query).hasClientExports?this.localState.addExportedVariables(w.query,w.variables,w.context).then(E):E(w.variables));return T.promise.then(_,_),T},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,s=e.optimistic,o=s===void 0?!1:s,a=e.removeOptimistic,u=a===void 0?o?zw("refetchQueries"):void 0:a,l=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(f,d){c.set(d,{oq:f,lastDiff:n.getQuery(d).getDiff()})});var h=new Map;return r&&this.cache.batch({update:r,optimistic:o&&u||!1,removeOptimistic:u,onWatchUpdated:function(f,d,p){var m=f.watcher instanceof Sv&&f.watcher.observableQuery;if(m){if(l){c.delete(m.queryId);var b=l(m,d,p);return b===!0&&(b=m.refetch()),b!==!1&&h.set(m,b),b}l!==null&&c.set(m.queryId,{oq:m,lastDiff:p,diff:d})}}}),c.size&&c.forEach(function(f,d){var p=f.oq,m=f.lastDiff,b=f.diff,g;if(l){if(!b){var y=p.queryInfo;y.reset(),b=y.getDiff()}g=l(p,b,m)}(!l||g===!0)&&(g=p.refetch()),g!==!1&&h.set(p,g),d.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(d)}),u&&this.cache.removeOptimistic(u),h},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,s=n.query,o=n.variables,a=n.fetchPolicy,u=n.refetchWritePolicy,l=n.errorPolicy,c=n.returnPartialData,h=n.context,f=n.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:this.transform(s).document,variables:o,networkStatus:r});var p=function(){return e.getDiff(o)},m=function(E,_){_===void 0&&(_=e.networkStatus||ke.loading);var T=E.result;__DEV__&&!c&&!He(T,{})&&sF(E.missing);var k=function(x){return Ve.of(N({data:x,loading:ph(_),networkStatus:_},E.complete?null:{partial:!0}))};return T&&i.transform(s).hasForcedResolvers?i.localState.runResolvers({document:s,remoteResult:{data:T},context:h,variables:o,onlyRunForcedResolvers:!0}).then(function(x){return k(x.data||void 0)}):l==="none"&&_===ke.refetch&&Array.isArray(E.missing)?k(void 0):k(T)},b=a==="no-cache"?0:r===ke.refetch&&u!=="merge"?1:2,g=function(){return i.getResultsFromLink(e,b,{variables:o,context:h,fetchPolicy:a,errorPolicy:l})},y=f&&typeof d=="number"&&d!==r&&ph(r);switch(a){default:case"cache-first":{var w=p();return w.complete?[m(w,e.markReady())]:c||y?[m(w),g()]:[g()]}case"cache-and-network":{var w=p();return w.complete||c||y?[m(w),g()]:[g()]}case"cache-only":return[m(p(),e.markReady())];case"network-only":return y?[m(p()),g()]:[g()];case"no-cache":return y?[m(e.getDiff()),g()]:[g()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Sv(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return N(N({},n),{clientAwareness:this.clientAwareness})},t}(),OC=!1,mY=function(){function t(e){var n=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,i=e.credentials,s=e.headers,o=e.cache,a=e.ssrMode,u=a===void 0?!1:a,l=e.ssrForceFetchDelay,c=l===void 0?0:l,h=e.connectToDevTools,f=h===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:h,d=e.queryDeduplication,p=d===void 0?!0:d,m=e.defaultOptions,b=e.assumeImmutableResults,g=b===void 0?!1:b,y=e.resolvers,w=e.typeDefs,E=e.fragmentMatcher,_=e.name,T=e.version,k=e.link;if(k||(k=r?new PL({uri:r,credentials:i,headers:s}):to.empty()),!o)throw __DEV__?new Ne(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new Ne(9);if(this.link=k,this.cache=o,this.disableNetworkFetches=u||c>0,this.queryDeduplication=p,this.defaultOptions=m||Object.create(null),this.typeDefs=w,c&&setTimeout(function(){return n.disableNetworkFetches=!1},c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!OC&&f&&__DEV__&&(OC=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var x=window.navigator,M=x&&x.userAgent,C=void 0;typeof M=="string"&&(M.indexOf("Chrome/")>-1?C="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":M.indexOf("Firefox/")>-1&&(C="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),C&&__DEV__&&V.log("Download the Apollo DevTools for a better development experience: "+C)}this.version=GG,this.localState=new oF({cache:o,client:this,resolvers:y,fragmentMatcher:E}),this.queryManager=new pY({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:p,ssrMode:u,clientAwareness:{name:_,version:T},localState:this.localState,assumeImmutableResults:g,onBroadcast:f?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=lu(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=N(N({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=lu(this.defaultOptions.query,e)),__DEV__?V(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):V(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=N(N({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=lu(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},t.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return Qw(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(o,a){r.push(a),i.push(o)});var s=Promise.all(i);return s.queries=r,s.results=i,s.catch(function(o){__DEV__&&V.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(o))}),s},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),Id=new Map,i1=new Map,aF=!0,Wp=!1;function uF(t){return t.replace(/[\s,]+/g," ").trim()}function gY(t){return uF(t.source.body.substring(t.start,t.end))}function yY(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=gY(r.loc),o=i1.get(i);o&&!o.has(s)?aF&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||i1.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),n.push(r))}else n.push(r)}),N(N({},t),{definitions:n})}function vY(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function wY(t){var e=uF(t);if(!Id.has(e)){var n=zH(t,{experimentalFragmentVariables:Wp,allowLegacyFragmentVariables:Wp});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Id.set(e,vY(yY(n)))}return Id.get(e)}function we(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[s+1]}),wY(r)}function bY(){Id.clear(),i1.clear()}function EY(){aF=!1}function SY(){Wp=!0}function _Y(){Wp=!1}var Ol={gql:we,resetCaches:bY,disableFragmentWarnings:EY,enableExperimentalFragmentVariables:SY,disableExperimentalFragmentVariables:_Y};(function(t){t.gql=Ol.gql,t.resetCaches=Ol.resetCaches,t.disableFragmentWarnings=Ol.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Ol.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Ol.disableExperimentalFragmentVariables})(we||(we={}));we.default=we;var NC=CS?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function LS(){var t=S.createContext[NC];return t||(Object.defineProperty(S.createContext,NC,{value:t=S.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var IY=function(t){var e=t.client,n=t.children,r=LS();return S.createElement(r.Consumer,null,function(i){return i===void 0&&(i={}),e&&i.client!==e&&(i=Object.assign({},i,{client:e})),__DEV__?V(i.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):V(i.client,29),S.createElement(r.Provider,{value:i},n)})};function FS(t){var e=S.useContext(LS()),n=t||e.client;return __DEV__?V(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):V(!!n,32),n}var AC=!1,TY="useSyncExternalStore",kY=Nd[TY],CY=kY||function(t,e,n){var r=e();__DEV__&&!AC&&r!==e()&&(AC=!0,__DEV__&&V.error("The result of getSnapshot should be cached to avoid an infinite loop"));var i=S.useState({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return UG?S.useLayoutEffect(function(){Object.assign(s,{value:r,getSnapshot:e}),_v(s)&&o({inst:s})},[t,r,e]):Object.assign(s,{value:r,getSnapshot:e}),S.useEffect(function(){return _v(s)&&o({inst:s}),t(function(){_v(s)&&o({inst:s})})},[t]),r};function _v(t){var e=t.value,n=t.getSnapshot;try{return e!==n()}catch{return!0}}var Kr;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(Kr||(Kr={}));var RC=new Map;function PC(t){var e;switch(t){case Kr.Query:e="Query";break;case Kr.Mutation:e="Mutation";break;case Kr.Subscription:e="Subscription";break}return e}function xY(t){var e=RC.get(t);if(e)return e;var n,r,i;__DEV__?V(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):V(!!t&&!!t.kind,33);for(var s=[],o=[],a=[],u=[],l=0,c=t.definitions;l<c.length;l++){var h=c[l];if(h.kind==="FragmentDefinition"){s.push(h);continue}if(h.kind==="OperationDefinition")switch(h.operation){case"query":o.push(h);break;case"mutation":a.push(h);break;case"subscription":u.push(h);break}}__DEV__?V(!s.length||o.length||a.length||u.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):V(!s.length||o.length||a.length||u.length,34),__DEV__?V(o.length+a.length+u.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(o.length," queries, ").concat(u.length," ")+"subscriptions and ".concat(a.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):V(o.length+a.length+u.length<=1,35),r=o.length?Kr.Query:Kr.Mutation,!o.length&&!a.length&&(r=Kr.Subscription);var f=o.length?o:a.length?a:u;__DEV__?V(f.length===1,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(f.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):V(f.length===1,36);var d=f[0];n=d.variableDefinitions||[],d.name&&d.name.kind==="Name"?i=d.name.value:i="data";var p={name:i,type:r,variables:n};return RC.set(t,p),p}function lF(t,e){var n=xY(t),r=PC(e),i=PC(n.type);__DEV__?V(n.type===e,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(i," was used instead.")):V(n.type===e,37)}var OY=Object.prototype.hasOwnProperty;function DC(t,e){return e===void 0&&(e=Object.create(null)),cF(FS(e.client),t).useQuery(e)}function cF(t,e){var n=S.useRef();(!n.current||t!==n.current.client||e!==n.current.query)&&(n.current=new NY(t,e,n.current));var r=n.current,i=S.useState(0);i[0];var s=i[1];return r.forceUpdate=function(){s(function(o){return o+1})},r}var NY=function(){function t(e,n,r){this.client=e,this.query=n,this.asyncResolveFns=new Set,this.optionsToIgnoreOnce=new(OL?WeakSet:Set),this.ssrDisabledResult=hh({loading:!0,data:void 0,error:void 0,networkStatus:ke.loading}),this.skipStandbyResult=hh({loading:!1,data:void 0,error:void 0,networkStatus:ke.ready}),this.toQueryResultCache=new(eo?WeakMap:Map),lF(n,Kr.Query);var i=r&&r.result,s=i&&i.data;s&&(this.previousData=s)}return t.prototype.forceUpdate=function(){__DEV__&&V.warn("Calling default no-op implementation of InternalState#forceUpdate")},t.prototype.asyncUpdate=function(e){var n=this;return new Promise(function(r,i){var s=n.watchQueryOptions,o=function(){n.asyncResolveFns.delete(r),n.optionsToIgnoreOnce.delete(s),e.removeEventListener("abort",o),i(e.reason)};n.asyncResolveFns.add(r),n.optionsToIgnoreOnce.add(s),e.addEventListener("abort",o),n.forceUpdate()})},t.prototype.useQuery=function(e){var n=this;this.renderPromises=S.useContext(LS()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),i=CY(S.useCallback(function(){if(n.renderPromises)return function(){};var o=function(){var l=n.result,c=r.getCurrentResult();l&&l.loading===c.loading&&l.networkStatus===c.networkStatus&&He(l.data,c.data)||n.setResult(c)},a=function(l){var c=r.last;u.unsubscribe();try{r.resetLastResults(),u=r.subscribe(o,a)}finally{r.last=c}if(!OY.call(l,"graphQLErrors"))throw l;var h=n.result;(!h||h&&h.loading||!He(l,h.error))&&n.setResult({data:h&&h.data,error:l,loading:!1,networkStatus:ke.error})},u=r.subscribe(o,a);return function(){return u.unsubscribe()}},[r,this.renderPromises,this.client.disableNetworkFetches]),function(){return n.getCurrentResult()},function(){return n.getCurrentResult()});this.unsafeHandlePartialRefetch(i);var s=this.toQueryResult(i);return!s.loading&&this.asyncResolveFns.size&&(this.asyncResolveFns.forEach(function(o){return o(s)}),this.asyncResolveFns.clear()),s},t.prototype.useOptions=function(e){var n,r=this.createWatchQueryOptions(this.queryHookOptions=e),i=this.watchQueryOptions;(this.optionsToIgnoreOnce.has(i)||!He(r,i))&&(this.watchQueryOptions=r,i&&this.observable&&(this.optionsToIgnoreOnce.delete(i),this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],n=this.client.defaultOptions.watchQuery;return n&&e.push(n),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(Yh(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(lu)},t.prototype.createWatchQueryOptions=function(e){var n;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var i=ir(e,["skip","ssr","onCompleted","onError","defaultOptions"]),s=Object.assign(i,{query:this.query});if(this.renderPromises&&(s.fetchPolicy==="network-only"||s.fetchPolicy==="cache-and-network")&&(s.fetchPolicy="cache-first"),s.variables||(s.variables={}),r){var o=s.fetchPolicy,a=o===void 0?this.getDefaultFetchPolicy():o,u=s.initialFetchPolicy,l=u===void 0?a:u;Object.assign(s,{initialFetchPolicy:l,fetchPolicy:"standby"})}else s.fetchPolicy||(s.fetchPolicy=((n=this.observable)===null||n===void 0?void 0:n.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return s},t.prototype.getDefaultFetchPolicy=function(){var e,n;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((n=this.client.defaultOptions.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=S.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var n=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var n=this.result;n&&n.data&&(this.previousData=n.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},t.prototype.handleErrorOrCompleted=function(e){var n=this;if(!e.loading){var r=this.toApolloError(e);Promise.resolve().then(function(){r?n.onError(r):e.data&&n.onCompleted(e.data)}).catch(function(i){__DEV__&&V.warn(i)})}},t.prototype.toApolloError=function(e){return Nn(e.errors)?new xr({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var n=this.toQueryResultCache.get(e);if(n)return n;var r=e.data;e.partial;var i=ir(e,["data","partial"]);return this.toQueryResultCache.set(e,n=N(N(N({data:r},i),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!n.error&&Nn(e.errors)&&(n.error=new xr({graphQLErrors:e.errors})),n},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:ke.refetch}),this.observable.refetch())},t}(),AY=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function Rf(t,e){var n,r=S.useRef(new Set),i=S.useRef(),s=i.current?lu(e,i.current):e,o=cF(FS(e&&e.client),(n=s==null?void 0:s.query)!==null&&n!==void 0?n:t),a=o.useQuery(N(N({},s),{skip:!i.current})),u=a.observable.options.initialFetchPolicy||o.getDefaultFetchPolicy(),l=Object.assign(a,{called:!!i.current}),c=S.useMemo(function(){for(var f={},d=function(g){var y=l[g];f[g]=function(){return i.current||(i.current=Object.create(null),o.forceUpdate()),y.apply(this,arguments)}},p=0,m=AY;p<m.length;p++){var b=m[p];d(b)}return f},[]);Object.assign(l,c),S.useEffect(function(){return function(){r.current.forEach(function(f){f.abort()})}},[]);var h=S.useCallback(function(f){var d=new AbortController;r.current.add(d),i.current=f?N(N({},f),{fetchPolicy:f.fetchPolicy||u}):{fetchPolicy:u};var p=o.asyncUpdate(d.signal).then(function(m){return r.current.delete(d),Object.assign(m,c)});return p.catch(function(){r.current.delete(d)}),p},[]);return[h,l]}function mh(t,e){var n=FS(e==null?void 0:e.client);lF(t,Kr.Mutation);var r=S.useState({called:!1,loading:!1,client:n}),i=r[0],s=r[1],o=S.useRef({result:i,mutationId:0,isMounted:!0,client:n,mutation:t,options:e});Object.assign(o.current,{client:n,options:e,mutation:t});var a=S.useCallback(function(l){l===void 0&&(l={});var c=o.current,h=c.client,f=c.options,d=c.mutation,p=N(N({},f),{mutation:d});!o.current.result.loading&&!p.ignoreResults&&o.current.isMounted&&s(o.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:h});var m=++o.current.mutationId,b=lu(p,l);return h.mutate(b).then(function(g){var y,w=g.data,E=g.errors,_=E&&E.length>0?new xr({graphQLErrors:E}):void 0;if(m===o.current.mutationId&&!b.ignoreResults){var T={called:!0,loading:!1,data:w,error:_,client:h};o.current.isMounted&&!He(o.current.result,T)&&s(o.current.result=T)}var k=l.onCompleted||((y=o.current.options)===null||y===void 0?void 0:y.onCompleted);return k==null||k(g.data,b),g}).catch(function(g){var y;if(m===o.current.mutationId&&o.current.isMounted){var w={loading:!1,error:g,data:void 0,called:!0,client:h};He(o.current.result,w)||s(o.current.result=w)}var E=l.onError||((y=o.current.options)===null||y===void 0?void 0:y.onError);if(E)return E(g,b),{data:void 0,errors:g};throw g})},[]),u=S.useCallback(function(){o.current.isMounted&&s({called:!1,loading:!1,client:n})},[]);return S.useEffect(function(){return o.current.isMounted=!0,function(){o.current.isMounted=!1}},[]),[a,N({reset:u},i)]}function RY(t){return new to(function(e,n){var r=ir(e,[]);return new Ve(function(i){var s,o=!1;return Promise.resolve(r).then(function(a){return t(a,e.getContext())}).then(e.setContext).then(function(){o||(s=n(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))}).catch(i.error.bind(i)),function(){o=!0,s&&s.unsubscribe()}})})}function PY(t){return et(t)&&"code"in t&&"reason"in t}var DY=function(t){or(e,t);function e(n){var r=t.call(this)||this;return r.client=n,r}return e.prototype.request=function(n){var r=this;return new Ve(function(i){return r.client.subscribe(N(N({},n),{query:EL(n.query)}),{next:i.next.bind(i),complete:i.complete.bind(i),error:function(s){return s instanceof Error?i.error(s):PY(s)?i.error(new Error("Socket closed with event ".concat(s.code," ").concat(s.reason||""))):i.error(new xr({graphQLErrors:Array.isArray(s)?s:[s]}))}})})},e}(to);function yn(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function uo(t){return yn(t)==="object"}function LY(t){return Array.isArray(t)&&t.length>0&&t.every(e=>"message"in e)}function LC(t,e){return t.length<124?t:e}const FY="graphql-transport-ws";var Pn;(function(t){t[t.InternalServerError=4500]="InternalServerError",t[t.InternalClientError=4005]="InternalClientError",t[t.BadRequest=4400]="BadRequest",t[t.BadResponse=4004]="BadResponse",t[t.Unauthorized=4401]="Unauthorized",t[t.Forbidden=4403]="Forbidden",t[t.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",t[t.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",t[t.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",t[t.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",t[t.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(Pn||(Pn={}));var ht;(function(t){t.ConnectionInit="connection_init",t.ConnectionAck="connection_ack",t.Ping="ping",t.Pong="pong",t.Subscribe="subscribe",t.Next="next",t.Error="error",t.Complete="complete"})(ht||(ht={}));function hF(t){if(!uo(t))throw new Error(`Message is expected to be an object, but got ${yn(t)}`);if(!t.type)throw new Error("Message is missing the 'type' property");if(typeof t.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${yn(t.type)}`);switch(t.type){case ht.ConnectionInit:case ht.ConnectionAck:case ht.Ping:case ht.Pong:{if("payload"in t&&!uo(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object or missing, but got "${t.payload}"`);break}case ht.Subscribe:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${yn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!uo(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${yn(t.payload)}`);if(typeof t.payload.query!="string")throw new Error(`"${t.type}" message payload expects the 'query' property to be a string, but got ${yn(t.payload.query)}`);if(t.payload.variables!=null&&!uo(t.payload.variables))throw new Error(`"${t.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${yn(t.payload.variables)}`);if(t.payload.operationName!=null&&yn(t.payload.operationName)!=="string")throw new Error(`"${t.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${yn(t.payload.operationName)}`);if(t.payload.extensions!=null&&!uo(t.payload.extensions))throw new Error(`"${t.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${yn(t.payload.extensions)}`);break}case ht.Next:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${yn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!uo(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${yn(t.payload)}`);break}case ht.Error:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${yn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!LY(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(t.payload)}`);break}case ht.Complete:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${yn(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${t.type}"`)}return t}function MY(t,e){return hF(typeof t=="string"?JSON.parse(t,e):t)}function Nl(t,e){return hF(t),JSON.stringify(t,e)}function $Y(t){const{url:e,connectionParams:n,lazy:r=!0,onNonLazyError:i=console.error,lazyCloseTimeout:s=0,keepAlive:o=0,disablePong:a,connectionAckWaitTimeout:u=0,retryAttempts:l=5,retryWait:c=async function(fe){let ie=1e3;for(let X=0;X<fe;X++)ie*=2;await new Promise(X=>setTimeout(X,ie+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:h=Pf,isFatalConnectionProblem:f,on:d,webSocketImpl:p,generateID:m=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,fe=>{const ie=Math.random()*16|0;return(fe=="x"?ie:ie&3|8).toString(16)})},jsonMessageReplacer:b,jsonMessageReviver:g}=t;let y;if(p){if(!VY(p))throw new Error("Invalid WebSocket implementation provided");y=p}else typeof WebSocket<"u"?y=WebSocket:typeof global<"u"?y=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(y=window.WebSocket||window.MozWebSocket);if(!y)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const w=y,E=(()=>{const G=(()=>{const ie={};return{on(X,P){return ie[X]=P,()=>{delete ie[X]}},emit(X){var P;"id"in X&&((P=ie[X.id])===null||P===void 0||P.call(ie,X))}}})(),fe={connecting:d!=null&&d.connecting?[d.connecting]:[],opened:d!=null&&d.opened?[d.opened]:[],connected:d!=null&&d.connected?[d.connected]:[],ping:d!=null&&d.ping?[d.ping]:[],pong:d!=null&&d.pong?[d.pong]:[],message:d!=null&&d.message?[G.emit,d.message]:[G.emit],closed:d!=null&&d.closed?[d.closed]:[],error:d!=null&&d.error?[d.error]:[]};return{onMessage:G.on,on(ie,X){const P=fe[ie];return P.push(X),()=>{P.splice(P.indexOf(X),1)}},emit(ie,...X){for(const P of[...fe[ie]])P(...X)}}})();function _(G){const fe=[E.on("error",ie=>{fe.forEach(X=>X()),G(ie)}),E.on("closed",ie=>{fe.forEach(X=>X()),G(ie)})]}let T,k=0,x,M=!1,C=0,ae=!1;async function me(){clearTimeout(x);const[G,fe]=await(T??(T=new Promise((P,Y)=>(async()=>{if(M){if(await c(C),!k)return T=void 0,Y({code:1e3,reason:"All Subscriptions Gone"});C++}E.emit("connecting");const B=new w(typeof e=="function"?await e():e,FY);let ue,q;function Ie(){isFinite(o)&&o>0&&(clearTimeout(q),q=setTimeout(()=>{B.readyState===w.OPEN&&(B.send(Nl({type:ht.Ping})),E.emit("ping",!1,void 0))},o))}_(xe=>{T=void 0,clearTimeout(ue),clearTimeout(q),Y(xe),Pf(xe)&&xe.code===4499&&(B.close(4499,"Terminated"),B.onerror=null,B.onclose=null)}),B.onerror=xe=>E.emit("error",xe),B.onclose=xe=>E.emit("closed",xe),B.onopen=async()=>{try{E.emit("opened",B);const xe=typeof n=="function"?await n():n;if(B.readyState!==w.OPEN)return;B.send(Nl(xe?{type:ht.ConnectionInit,payload:xe}:{type:ht.ConnectionInit},b)),isFinite(u)&&u>0&&(ue=setTimeout(()=>{B.close(Pn.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},u)),Ie()}catch(xe){E.emit("error",xe),B.close(Pn.InternalClientError,LC(xe instanceof Error?xe.message:new Error(xe).message,"Internal client error"))}};let Te=!1;B.onmessage=({data:xe})=>{try{const ge=MY(xe,g);if(E.emit("message",ge),ge.type==="ping"||ge.type==="pong"){E.emit(ge.type,!0,ge.payload),ge.type==="pong"?Ie():a||(B.send(Nl(ge.payload?{type:ht.Pong,payload:ge.payload}:{type:ht.Pong})),E.emit("pong",!1,ge.payload));return}if(Te)return;if(ge.type!==ht.ConnectionAck)throw new Error(`First message cannot be of type ${ge.type}`);clearTimeout(ue),Te=!0,E.emit("connected",B,ge.payload),M=!1,C=0,P([B,new Promise((Q,Oe)=>_(Oe))])}catch(ge){B.onmessage=null,E.emit("error",ge),B.close(Pn.BadResponse,LC(ge instanceof Error?ge.message:new Error(ge).message,"Bad response"))}}})())));G.readyState===w.CLOSING&&await fe;let ie=()=>{};const X=new Promise(P=>ie=P);return[G,ie,Promise.race([X.then(()=>{if(!k){const P=()=>G.close(1e3,"Normal Closure");isFinite(s)&&s>0?x=setTimeout(()=>{G.readyState===w.OPEN&&P()},s):P()}}),fe])]}function he(G){if(Pf(G)&&(UY(G.code)||[Pn.InternalServerError,Pn.InternalClientError,Pn.BadRequest,Pn.BadResponse,Pn.Unauthorized,Pn.SubprotocolNotAcceptable,Pn.SubscriberAlreadyExists,Pn.TooManyInitialisationRequests].includes(G.code)))throw G;if(ae)return!1;if(Pf(G)&&G.code===1e3)return k>0;if(!l||C>=l||!h(G)||f!=null&&f(G))throw G;return M=!0}return r||(async()=>{for(k++;;)try{const[,,G]=await me();await G}catch(G){try{if(!he(G))return}catch(fe){return i==null?void 0:i(fe)}}})(),{on:E.on,subscribe(G,fe){const ie=m(G);let X=!1,P=!1,Y=()=>{k--,X=!0};return(async()=>{for(k++;;)try{const[B,ue,q]=await me();if(X)return ue();const Ie=E.onMessage(ie,Te=>{switch(Te.type){case ht.Next:{fe.next(Te.payload);return}case ht.Error:{P=!0,X=!0,fe.error(Te.payload),Y();return}case ht.Complete:{X=!0,Y();return}}});B.send(Nl({id:ie,type:ht.Subscribe,payload:G},b)),Y=()=>{!X&&B.readyState===w.OPEN&&B.send(Nl({id:ie,type:ht.Complete},b)),k--,X=!0,ue()},await q.finally(Ie);return}catch(B){if(!he(B))return}})().then(()=>{P||fe.complete()}).catch(B=>{fe.error(B)}),()=>{X||Y()}},async dispose(){if(ae=!0,T){const[G]=await T;G.close(1e3,"Normal Closure")}},terminate(){T&&E.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Pf(t){return uo(t)&&"code"in t&&"reason"in t}function UY(t){return[1e3,1001,1006,1005,1012,1013,1013].includes(t)?!1:t>=1e3&&t<=1999}function VY(t){return typeof t=="function"&&"constructor"in t&&"CLOSED"in t&&"CLOSING"in t&&"CONNECTING"in t&&"OPEN"in t}function jY({children:t}){const{state:e}=S.useContext(ni),{user:n}=e,r=new DY($Y({url:"wss://jcolaco.dev/graphql",options:{shouldRetry:!0}})),i=new PL({uri:"https://jcolaco.dev/graphql"}),o=RY((l,{headers:c})=>({headers:{...c,authtoken:n?n.token:""}})).concat(i),a=HG(({query:l})=>{const c=$g(l);return c.kind==="OperationDefinition"&&c.operation==="subscription"},r,o),u=new mY({link:a,cache:new aY({addTypename:!1}),defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network",errorPolicy:"all"},query:{fetchPolicy:"cache-and-network",errorPolicy:"all"},mutate:{errorPolicy:"all"}}});return v(IY,{client:u,children:t})}var s1={},BY={get exports(){return s1},set exports(t){s1=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var u in s)e.call(s,u)&&s[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(BY);const qY=s1,Iv={};function zY({className:t}){const[e,n]=Ce.useState("darkTheme"),r=dg(i=>i.theme);return Ce.useEffect(()=>{n(r),document.documentElement.dataset.theme=e},[]),Ce.useEffect(()=>{n(r),document.documentElement.dataset.theme=r,localStorage.setItem("theme",r)},[r]),v("div",{className:qY(t,Iv.root,e==="darkTheme"?Iv.darkTheme:Iv.lightTheme)})}function WY(){const t=qu();return S.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),null}function fF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=fF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function as(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=fF(t))&&(r&&(r+=" "),r+=e);return r}const mc=t=>typeof t=="number"&&!isNaN(t),na=t=>typeof t=="string",Tn=t=>typeof t=="function",Td=t=>na(t)||Tn(t)?t:null,Tv=t=>S.isValidElement(t)||na(t)||Tn(t)||mc(t);function QY(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Bg(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:u,preventExitTransition:l,done:c,nodeRef:h,isIn:f}=o;const d=r?`${e}--${u}`:e,p=r?`${n}--${u}`:n,m=S.useRef(0);return S.useLayoutEffect(()=>{const b=h.current,g=d.split(" "),y=w=>{w.target===h.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",y),b.removeEventListener("animationcancel",y),m.current===0&&w.type!=="animationcancel"&&b.classList.remove(...g))};b.classList.add(...g),b.addEventListener("animationend",y),b.addEventListener("animationcancel",y)},[]),S.useEffect(()=>{const b=h.current,g=()=>{b.removeEventListener("animationend",g),i?QY(b,c,s):c()};f||(l?g():(m.current=1,b.className+=` ${p}`,b.addEventListener("animationend",g)))},[f]),Ce.createElement(Ce.Fragment,null,a)}}function FC(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const Kn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Df=t=>{let{theme:e,type:n,...r}=t;return Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},kv={info:function(t){return Ce.createElement(Df,{...t},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ce.createElement(Df,{...t},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ce.createElement(Df,{...t},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ce.createElement(Df,{...t},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ce.createElement("div",{className:"Toastify__spinner"})}};function HY(t){const[,e]=S.useReducer(d=>d+1,0),[n,r]=S.useState([]),i=S.useRef(null),s=S.useRef(new Map).current,o=d=>n.indexOf(d)!==-1,a=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:d=>s.get(d)}).current;function u(d){let{containerId:p}=d;const{limit:m}=a.props;!m||p&&a.containerId!==p||(a.count-=a.queue.length,a.queue=[])}function l(d){r(p=>d==null?[]:p.filter(m=>m!==d))}function c(){const{toastContent:d,toastProps:p,staleId:m}=a.queue.shift();f(d,p,m)}function h(d,p){let{delay:m,staleId:b,...g}=p;if(!Tv(d)||function(me){return!i.current||a.props.enableMultiContainer&&me.containerId!==a.props.containerId||s.has(me.toastId)&&me.updateId==null}(g))return;const{toastId:y,updateId:w,data:E}=g,{props:_}=a,T=()=>l(y),k=w==null;k&&a.count++;const x={..._,style:_.toastStyle,key:a.toastKey++,...g,toastId:y,updateId:w,data:E,closeToast:T,isIn:!1,className:Td(g.className||_.toastClassName),bodyClassName:Td(g.bodyClassName||_.bodyClassName),progressClassName:Td(g.progressClassName||_.progressClassName),autoClose:!g.isLoading&&(M=g.autoClose,C=_.autoClose,M===!1||mc(M)&&M>0?M:C),deleteToast(){const me=FC(s.get(y),"removed");s.delete(y),Kn.emit(4,me);const he=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),he>0){const G=y==null?a.props.limit:1;if(he===1||G===1)a.displayedToast++,c();else{const fe=G>he?he:G;a.displayedToast=fe;for(let ie=0;ie<fe;ie++)c()}}else e()}};var M,C;x.iconOut=function(me){let{theme:he,type:G,isLoading:fe,icon:ie}=me,X=null;const P={theme:he,type:G};return ie===!1||(Tn(ie)?X=ie(P):S.isValidElement(ie)?X=S.cloneElement(ie,P):na(ie)||mc(ie)?X=ie:fe?X=kv.spinner():(Y=>Y in kv)(G)&&(X=kv[G](P))),X}(x),Tn(g.onOpen)&&(x.onOpen=g.onOpen),Tn(g.onClose)&&(x.onClose=g.onClose),x.closeButton=_.closeButton,g.closeButton===!1||Tv(g.closeButton)?x.closeButton=g.closeButton:g.closeButton===!0&&(x.closeButton=!Tv(_.closeButton)||_.closeButton);let ae=d;S.isValidElement(d)&&!na(d.type)?ae=S.cloneElement(d,{closeToast:T,toastProps:x,data:E}):Tn(d)&&(ae=d({closeToast:T,toastProps:x,data:E})),_.limit&&_.limit>0&&a.count>_.limit&&k?a.queue.push({toastContent:ae,toastProps:x,staleId:b}):mc(m)?setTimeout(()=>{f(ae,x,b)},m):f(ae,x,b)}function f(d,p,m){const{toastId:b}=p;m&&s.delete(m);const g={content:d,props:p};s.set(b,g),r(y=>[...y,b].filter(w=>w!==m)),Kn.emit(4,FC(g,g.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(a.containerId=t.containerId,Kn.cancelEmit(3).on(0,h).on(1,d=>i.current&&l(d)).on(5,u).emit(2,a),()=>{s.clear(),Kn.emit(3,a)}),[]),S.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(d){const p=new Map,m=Array.from(s.values());return t.newestOnTop&&m.reverse(),m.forEach(b=>{const{position:g}=b.props;p.has(g)||p.set(g,[]),p.get(g).push(b)}),Array.from(p,b=>d(b[0],b[1]))},containerRef:i,isToastActive:o}}function MC(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function $C(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function GY(t){const[e,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=S.useRef(t),{autoClose:u,pauseOnHover:l,closeToast:c,onClick:h,closeOnClick:f}=t;function d(E){if(t.draggable){E.nativeEvent.type==="touchstart"&&E.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),document.addEventListener("touchmove",g),document.addEventListener("touchend",y);const _=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=_.getBoundingClientRect(),_.style.transition="",o.x=MC(E.nativeEvent),o.y=$C(E.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=_.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=_.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function p(E){if(o.boundingRect){const{top:_,bottom:T,left:k,right:x}=o.boundingRect;E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=k&&o.x<=x&&o.y>=_&&o.y<=T?b():m()}}function m(){n(!0)}function b(){n(!1)}function g(E){const _=s.current;o.canDrag&&_&&(o.didMove=!0,e&&b(),o.x=MC(E),o.y=$C(E),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),_.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,_.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",y);const E=s.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();E.style.transition="transform 0.2s, opacity 0.2s",E.style.transform=`translate${t.draggableDirection}(0)`,E.style.opacity="1"}}S.useEffect(()=>{a.current=t}),S.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),Tn(t.onOpen)&&t.onOpen(S.isValidElement(t.children)&&t.children.props),()=>{const E=a.current;Tn(E.onClose)&&E.onClose(S.isValidElement(E.children)&&E.children.props)}),[]),S.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",b))}),[t.pauseOnFocusLoss]);const w={onMouseDown:d,onTouchStart:d,onMouseUp:p,onTouchEnd:p};return u&&l&&(w.onMouseEnter=b,w.onMouseLeave=m),f&&(w.onClick=E=>{h&&h(E),o.canCloseOnClick&&c()}),{playToast:m,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function dF(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function KY(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:u,progress:l,rtl:c,isIn:h,theme:f}=t;const d=s||u&&l===0,p={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:d?0:1};u&&(p.transform=`scaleX(${l})`);const m=as("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),b=Tn(o)?o({rtl:c,type:i,defaultClassName:m}):as(m,o);return Ce.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:b,style:p,[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{h&&r()}})}const YY=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=GY(t),{closeButton:s,children:o,autoClose:a,onClick:u,type:l,hideProgressBar:c,closeToast:h,transition:f,position:d,className:p,style:m,bodyClassName:b,bodyStyle:g,progressClassName:y,progressStyle:w,updateId:E,role:_,progress:T,rtl:k,toastId:x,deleteToast:M,isIn:C,isLoading:ae,iconOut:me,closeOnClick:he,theme:G}=t,fe=as("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":he}),ie=Tn(p)?p({rtl:k,position:d,type:l,defaultClassName:fe}):as(fe,p),X=!!T||!a,P={closeToast:h,type:l,theme:G};let Y=null;return s===!1||(Y=Tn(s)?s(P):S.isValidElement(s)?S.cloneElement(s,P):dF(P)),Ce.createElement(f,{isIn:C,done:M,position:d,preventExitTransition:n,nodeRef:r},Ce.createElement("div",{id:x,onClick:u,className:ie,...i,style:m,ref:r},Ce.createElement("div",{...C&&{role:_},className:Tn(b)?b({type:l}):as("Toastify__toast-body",b),style:g},me!=null&&Ce.createElement("div",{className:as("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ae})},me),Ce.createElement("div",null,o)),Y,Ce.createElement(KY,{...E&&!X?{key:`pb-${E}`}:{},rtl:k,theme:G,delay:a,isRunning:e,isIn:C,closeToast:h,hide:c,type:l,style:w,className:y,controlledProgress:X,progress:T||0})))},qg=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},JY=Bg(qg("bounce",!0));Bg(qg("slide",!0));Bg(qg("zoom"));Bg(qg("flip"));const o1=S.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=HY(t),{className:s,style:o,rtl:a,containerId:u}=t;function l(c){const h=as("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Tn(s)?s({position:c,rtl:a,defaultClassName:h}):as(h,Td(s))}return S.useEffect(()=>{e&&(e.current=r.current)},[]),Ce.createElement("div",{ref:r,className:"Toastify",id:u},n((c,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return Ce.createElement("div",{className:l(c),style:f,key:`container-${c}`},h.map((d,p)=>{let{content:m,props:b}=d;return Ce.createElement(YY,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":p+1,"--len":h.length},key:`toast-${b.key}`},m)}))}))});o1.displayName="ToastContainer",o1.defaultProps={position:"top-right",transition:JY,autoClose:5e3,closeButton:dF,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Cv,lo=new Map,Ql=[],XY=1;function pF(){return""+XY++}function ZY(t){return t&&(na(t.toastId)||mc(t.toastId))?t.toastId:pF()}function gc(t,e){return lo.size>0?Kn.emit(0,t,e):Ql.push({content:t,options:e}),e.toastId}function Qp(t,e){return{...e,type:e&&e.type||t,toastId:ZY(e)}}function Lf(t){return(e,n)=>gc(e,Qp(t,n))}function Ue(t,e){return gc(t,Qp("default",e))}Ue.loading=(t,e)=>gc(t,Qp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ue.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=na(i)?Ue.loading(i,n):Ue.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=(c,h,f)=>{if(h==null)return void Ue.dismiss(r);const d={type:c,...a,...n,data:f},p=na(h)?{render:h}:h;return r?Ue.update(r,{...d,...p}):Ue(p.render,{...d,...p}),f},l=Tn(t)?t():t;return l.then(c=>u("success",o,c)).catch(c=>u("error",s,c)),l},Ue.success=Lf("success"),Ue.info=Lf("info"),Ue.error=Lf("error"),Ue.warning=Lf("warning"),Ue.warn=Ue.warning,Ue.dark=(t,e)=>gc(t,Qp("default",{theme:"dark",...e})),Ue.dismiss=t=>{lo.size>0?Kn.emit(1,t):Ql=Ql.filter(e=>t!=null&&e.options.toastId!==t)},Ue.clearWaitingQueue=function(t){return t===void 0&&(t={}),Kn.emit(5,t)},Ue.isActive=t=>{let e=!1;return lo.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},Ue.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=lo.get(s||Cv);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={...r,...e,toastId:e.toastId||t,updateId:pF()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,gc(o,s)}},0)},Ue.done=t=>{Ue.update(t,{progress:1})},Ue.onChange=t=>(Kn.on(4,t),()=>{Kn.off(4,t)}),Ue.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ue.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Kn.on(2,t=>{Cv=t.containerId||t,lo.set(Cv,t),Ql.forEach(e=>{Kn.emit(0,e.content,e.options)}),Ql=[]}).on(3,t=>{lo.delete(t.containerId||t),lo.size===0&&Kn.off(0).off(1).off(5)});function MS({timer:t=0,path:e}){const[n,r]=S.useState(t);let i=Ws();return S.useEffect(()=>{t<=0&&i(e)},[]),S.useEffect(()=>{const s=setInterval(()=>{r(o=>--o)},1e3);return n<=0&&i(e),()=>clearInterval(s)},[n]),t===0?v(vh,{}):v("div",{className:"container p5 text-center",children:I("p",{children:["Redirecting page in ",n," seconds"]})})}function eJ(){const{state:t}=S.useContext(ni),[e,n]=S.useState(!1);return S.useEffect(()=>{t.user&&n(!0)},[t.user]),e?v(sA,{}):v(MS,{timer:5,path:"/login"})}function tJ({urlPath:t}){const{state:e}=S.useContext(ni);let n=Ws();return S.useEffect(()=>{e.user&&n(`${t}/dashboard`)},[e.user]),v(sA,{})}const nJ=t=>[v(Hi,{path:`${t.path}`,element:v(MS,{path:`${t.path}${t.routesData[0].path}/`})}),...t.routesData.map(({path:e,type:n,title:r,element:i})=>{let s=v(Hi,{path:`${t.path}${e}`,element:i},r);return n==="private"&&(s=v(Hi,{exact:!0,path:`${t.path}${e}`,element:v(eJ,{urlPath:t.path}),children:v(Hi,{path:`${t.path}${e}`,element:i})},r)),n==="public"&&(s=v(Hi,{exact:!0,path:`${t.path}${e}`,element:v(tJ,{urlPath:t.path}),children:v(Hi,{path:`${t.path}${e}`,element:i})},r)),s})];function Hn(){return v("div",{className:"FireFlame",children:v("div",{className:"mo-fire",children:I("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"10em",height:"8em",viewBox:"0 0 125 189.864",enableBackground:"new 0 0 125 189.864",xmlSpace:"preserve",children:[v("path",{className:"flame-main",fill:"#F36E21",d:`M76.553,186.09c0,0-10.178-2.976-15.325-8.226s-9.278-16.82-9.278-16.82s-0.241-6.647-4.136-18.465\r
	c0,0,3.357,4.969,5.103,9.938c0,0-5.305-21.086,1.712-30.418c7.017-9.333,0.571-35.654-2.25-37.534c0,0,13.07,5.64,19.875,47.54\r
	c6.806,41.899,16.831,45.301,6.088,53.985`}),v("path",{className:"flame-main one",fill:"#F6891F",d:`M61.693,122.257c4.117-15.4,12.097-14.487-11.589-60.872c0,0,32.016,10.223,52.601,63.123\r
	c20.585,52.899-19.848,61.045-19.643,61.582c0.206,0.537-19.401-0.269-14.835-18.532S57.576,137.656,61.693,122.257z`}),v("path",{className:"flame-main two",fill:"#FFD04A",d:`M81.657,79.192c0,0,11.549,24.845,3.626,40.02c-7.924,15.175-21.126,41.899-0.425,64.998\r
	C84.858,184.21,125.705,150.905,81.657,79.192z`}),v("path",{className:"flame-main three",fill:"#FDBA16",d:`M99.92,101.754c0,0-23.208,47.027-12.043,80.072c0,0,32.741-16.073,20.108-45.79\r
	C95.354,106.319,99.92,114.108,99.92,101.754z`}),v("path",{className:"flame-main four",fill:"#F36E21",d:`M103.143,105.917c0,0,8.927,30.753-1.043,46.868c-9.969,16.115-14.799,29.041-14.799,29.041\r
	S134.387,164.603,103.143,105.917z`}),v("path",{className:"flame-main five",fill:"#FDBA16",d:"M62.049,104.171c0,0-15.645,67.588,10.529,77.655C98.753,191.894,69.033,130.761,62.049,104.171z"}),v("path",{className:"flame",fill:"#F36E21",d:"M101.011,112.926c0,0,8.973,10.519,4.556,16.543C99.37,129.735,106.752,117.406,101.011,112.926z"}),v("path",{className:"flame one",fill:"#F36E21",d:"M55.592,126.854c0,0-3.819,13.29,2.699,16.945C64.038,141.48,55.907,132.263,55.592,126.854z"}),v("path",{className:"flame two",fill:"#F36E21",d:"M54.918,104.595c0,0-3.959,6.109-1.24,8.949C56.93,113.256,52.228,107.329,54.918,104.595z"})]})})})}function $S({flames:t=!1,white:e=!1}){return v("div",{className:`ChurrascoLogo ${e?"white":""} ${t?"flamesOn":""}`,children:I("div",{className:"firepit",children:[I("p",{children:["O",v("span",{children:"C"}),v("span",{children:"H"}),v("span",{children:"U"}),v("span",{children:"R"}),v("span",{children:"R"}),"A",v("span",{children:"S"}),"CO"]}),t&&I(vh,{children:[v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{}),v(Hn,{})]})]})})}function rJ(){return I("section",{className:"Opinions",children:[v("h3",{children:"What our clients say"}),I("section",{children:[v("figure",{}),v("figure",{})]})]})}const UC="/assets2/1-175dbfab.jpg",VC="/assets2/2-6fb616d5.jpg",jC="/assets2/3-168c923d.jpg",BC="/assets2/4-f6bf6f91.jpg",qC="/assets2/5-b825b0bb.jpg",zC="/assets2/6-b0b27a5f.jpg",WC="/assets2/7-be3220e7.jpg",QC="/assets2/8-2c70fb2b.jpg",HC="/assets2/9-9bea5124.jpg",GC="/assets2/10-8f74fb1b.jpg",KC="/assets2/11-fdb29125.jpg",YC="/assets2/12-ed7f55c2.jpg",JC="/assets2/13-ff5b649a.jpg",XC="/assets2/14-99b6af62.jpg",ZC="/assets2/15-07cb49e2.jpg",ex="/assets2/16-5c266e44.jpg",tx="/assets2/17-7ebd6690.jpg",nx="/assets2/18-f1ca278e.jpg",rx=[{image:ZC,thumbnail:ZC,label:"Modern office environment with sleek chairs and furniture."},{image:XC,thumbnail:XC,label:"Spacious office with ergonomic chairs and comfortable furniture."},{image:jC,thumbnail:jC,label:"Vibrant office setting with colorful chairs and furniture."},{image:qC,thumbnail:qC,label:"Contemporary office space with stylish chairs and furniture."},{image:VC,thumbnail:VC,label:"Inviting office atmosphere with cozy chairs and furniture."},{image:BC,thumbnail:BC,label:"Productive workspace with functional chairs and furniture."},{image:zC,thumbnail:zC,label:"Minimalist office design with simple chairs and furniture."},{image:QC,thumbnail:QC,label:"Collaborative office setting with flexible chairs and furniture"},{image:HC,thumbnail:HC,label:"Eco-friendly office with sustainable chairs and furniture."},{image:GC,thumbnail:GC,label:"Dynamic office environment with adjustable chairs and furniture."},{image:KC,thumbnail:KC,label:"Creative workspace with unique chairs and furniture."},{image:YC,thumbnail:YC,label:"Executive office with luxurious chairs and furniture."},{image:JC,thumbnail:JC,label:"Tech-focused office with modern chairs and furniture."},{image:WC,thumbnail:WC,label:"Casual office atmosphere with laid-back chairs and furniture."},{image:UC,thumbnail:UC,label:"Inspiring office environment with motivational chairs and furniture."},{image:ex,thumbnail:ex,label:"Sophisticated office setting with elegant chairs and furniture."},{image:tx,thumbnail:tx,label:"Open-concept office space with airy chairs and furniture."},{image:nx,thumbnail:nx,label:"Futuristic office design with high-tech chairs and furniture."}];function mF(){return I("div",{className:"PhotoGallery",children:[v("div",{id:"gallery",children:rx.map((t,e)=>I("div",{children:[v("img",{src:t.thumbnail}),v("a",{href:`#lightbox-${e+1}`,children:t.label})]},e+1))}),rx.map((t,e)=>v("div",{className:"lightbox",id:`lightbox-${e+1}`,children:I("div",{className:"content",children:[v("img",{src:t.image}),v("div",{className:"title",children:v("b",{children:t.label})}),v("a",{className:"close",href:"#gallery"})]})},e+1))]})}function iJ(){return I("div",{className:"Home",children:[I("div",{className:"parallax",children:[v("figure",{}),v("figcaption",{children:v($S,{flames:!1})})]}),v("h2",{children:"Savor the Art of Charcoal-Grilled Chicken at Our Elegant Downtown Lisbon Restaurant"}),I("main",{children:[I("section",{className:"menus",children:[I("article",{children:[v("h3",{children:"Menu"}),I("div",{children:[v("p",{children:`Experience charcoal-grilled perfection and indulge in our delicious chicken specialty at our downtown Lisbon restaurant. From succulent pork medallions to must-try seafood dishes like grilled octopus and Portuguese-style "Bacalhau," our menu offers a variety of flavors to satisfy your cravings. Don't forget to pair your meal with our house wine, available in various sizes. Click below to see our full menu and savor the taste of our expertly crafted dishes.`}),v(ft,{to:`${re.path}/menu`,children:"Menu"})]})]}),v("article",{children:v("figure",{})})]}),I("section",{className:"reservations",children:[v("article",{children:v("figure",{})}),I("article",{children:[v("h3",{children:"Reservations"}),I("div",{children:[v("p",{children:"Come experience the mouthwatering aromas of our specialty dishes at our cozy downtown Lisbon restaurant. Our outdoor terrace, nestled in an original old-fashioned building, provides the perfect atmosphere for a delightful dining experience. Savor our expertly crafted charcoal-grilled chicken, seafood dishes, and cooked meats, and immerse yourself in a charming and peaceful environment. Book your reservations now and join us for an unforgettable culinary journey."}),v(ft,{to:`${re.path}/reservation`,children:"Reserve a table"})]})]})]})]}),v(rJ,{}),v(mF,{})]})}function sJ(){window.scrollTo(0,0)}function US(t){return!!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)}function gF(t){const e=/^(9[1236]\d{7}|2\d{8})$/;return!!t.match(e)}function oJ(t){if(t){const e={};for(let n=0;n<t.length;n++){const r=t[n].type;e[r]||(e[r]=[]),e[r].push(t[n])}return Object.values(e)}}function aJ(t){return!t||t===""?"NN":t.getInitials().capitalize()}String.prototype.getInitials=function(t){if(typeof t>"u")var t=!0;var e=this.replace(/[^a-zA-Z- ]/g,"").match(/\b\w/g);return t?e.join(""):e};String.prototype.capitalize=function(){return this.toLowerCase().replace(/\b\w/g,function(t){return t.toUpperCase()})};function Hp(t){return t?t.trim().replace(/\s+/g,""):""}const uJ=t=>(t==null?void 0:t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\u00c7\u00e7]/g,"c").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"))||"";function yF(){return I("div",{className:"ContactsSection",children:[v("h3",{children:"Contacts"}),I("section",{className:"links",children:[re.data.phone&&I("a",{href:`tel:+351${Hp(re.data.phone)}`,children:[v("figure",{className:"phone"}),"Tel: ",re.data.phone]}),re.data.mobile&&I("a",{href:`tel:+351${Hp(re.data.mobile)}`,children:[v("figure",{className:"mobile"}),"Tlm: ",re.data.mobile]}),re.data.email&&I("a",{href:`mailto:${re.data.email}?subject=consulta_online`,children:[v("figure",{className:"email"}),"E-mail: ",re.data.email]}),re.data.web&&I("a",{href:`${re.data.web}`,children:[v("figure",{className:"web"}),re.data.web]})]}),I("span",{children:[v("figure",{className:"location"}),I("p",{children:[re.data.address,", ",v("br",{}),re.data.pCode,", ",re.data.country," ",v("br",{})]})]}),I("span",{children:[v("figure",{className:"calendar"}),I("p",{children:["Todos os dias ",v("br",{}),"12:0016:30h, 18:3023:30h"]})]})]})}function lJ(){const[t,e]=S.useState(!1),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState("reservation"),[u,l]=S.useState(""),[c,h]=S.useState(""),[f,d]=S.useState(""),[p,m]=S.useState(""),b=S.useRef(),g=S.useRef();function y(){let C="";return u.trim()===""?C="a mensagem":gF(n.trim())?o.trim()===""?C="o assunto":o==="booking"&&i.trim()===""?C="os lugares":c.trim()===""?C="o nome":US(f.trim())?C="":C="o email":C="o telefone",m(C),C===""}function w(){h(""),d(""),r(""),s(""),l("")}const E=C=>{C.preventDefault(),y()&&(e(!0),setTimeout(()=>{w(),e(!1)},"20000"))};function _(C){h(C.target.value),p==="o nome"&&C.target.value&&m("")}function T(C){C.target.value.length<10&&(r(C.target.value),p==="o telefone"&&C.target.value&&m(""))}function k(C){C.target.value.length<3&&(s(C.target.value),p==="os lugares"&&C.target.value&&m(""))}function x(C){l(C.target.value),p==="a mensagem"&&C.target.value&&m("")}function M(C){d(C.target.value),p==="o email"&&C.target.value&&m("")}return v("div",{className:"ContactsFormVintage",children:I("div",{id:"container",children:[v("h1",{children:" Keep in Touch "}),v("div",{className:"underline"}),v("div",{className:"icon_wrapper",children:I("svg",{className:"icon",viewBox:"0 0 145.192 145.192",children:[v("path",{d:"M126.82,32.694c-2.804,0-5.08,2.273-5.08,5.075v2.721c-1.462,0-2.646,1.185-2.646,2.647v1.995    c0,1.585,1.286,2.873,2.874,2.873h20.577c1.462,0,2.646-1.185,2.646-2.647v-3.041c0-1.009-0.816-1.825-1.823-1.825v-2.722    c0-2.802-2.276-5.075-5.079-5.075h-1.985v-3.829c0-3.816-3.095-6.912-6.913-6.912h-0.589h-20.45c0-2.67-2.164-4.835-4.833-4.835    H56.843c-2.67,0-4.835,2.165-4.835,4.835H34.356v-3.384h-9.563v3.384v1.178h-7.061v1.416c-2.67,0.27-10.17,1.424-13.882,5.972    c-1.773,2.17-2.44,4.791-1.983,7.793c0.463,3.043,1.271,6.346,2.128,9.841c2.354,9.616,5.024,20.515,0.549,28.077    C2.647,79.44-3.125,90.589,2.201,99.547c4.123,6.935,13.701,10.44,28.5,10.44c1.186,0,2.405-0.023,3.658-0.068v9.028h-0.296    c-2.516,0-4.558,2.039-4.558,4.558v4.566h100.04v-4.564c0-2.519-2.039-4.558-4.558-4.558h-0.297V84.631h0.297    c2.519,0,4.558-2.037,4.558-4.556v-0.009c0-2.516-2.039-4.556-4.556-4.556l-36.786-0.009V61.973c0-2.193-1.777-3.971-3.972-3.971    v-4.711h0.456c1.629,0,2.952-1.32,2.952-2.949h14.227V34.459h1.658c2.672,0,4.834-2.165,4.834-4.834h20.45v3.069H126.82z     M34.06,75.511c-2.518,0-4.558,2.04-4.558,4.556v0.009c0,2.519,2.042,4.556,4.558,4.556h0.296v24.12l-0.042-1.168    c-15.994,0.574-26.122-2.523-30.106-9.229C-0.464,90.5,4.822,80.347,6.55,77.423c4.964-8.382,2.173-19.774-0.29-29.825    c-0.843-3.442-1.639-6.696-2.088-9.638c-0.354-2.35,0.129-4.3,1.484-5.958c3.029-3.714,9.509-4.805,12.076-5.1v1.233h7.061v1.49    v2.684c-2.403,1.114-4.153,2.997-4.676,5.237H18.15c-0.584,0-1.056,0.474-1.056,1.056v0.83c0,0.584,0.475,1.056,1.056,1.056h1.984    c0.561,2.18,2.304,3.999,4.658,5.092v0.029c0,0-2.282,20.823,16.479,22.099v1.102c0,1.177,0.955,2.133,2.133,2.133h3.297    c1.178,0,2.133-0.956,2.133-2.133V50.135c0-1.177-0.955-2.132-2.133-2.132h-3.297c-1.178,0-2.133,0.955-2.133,2.132    c-1.575-0.235-5.532-1.17-6.635-4.547c2.36-1.092,4.109-2.913,4.669-5.097h1.308c0.722,0,1.309-0.584,1.309-1.308v-0.578    c0-0.584-0.475-1.056-1.056-1.056h-1.539c-0.542-2.332-2.416-4.271-4.968-5.363v-2.559h17.651c0,2.67,2.166,4.835,4.836,4.835 h2.392v15.88h13.639c0,1.629,1.321,2.949,2.951,2.949h0.899v4.711c-2.194,0-3.972,1.778-3.972,3.971v13.529L34.06,75.511z     M95.188,101.78c0,8.655-7.012,15.665-15.664,15.665c-8.653,0-15.667-7.01-15.667-15.665c0-8.647,7.014-15.664,15.667-15.664    C88.177,86.116,95.188,93.132,95.188,101.78z M97.189,45.669h-9.556c0-0.896-0.726-1.62-1.619-1.62H74.494    c-0.896,0-1.621,0.727-1.621,1.62h-8.967v-11.21h33.283V45.669z"}),v("path",{d:"M70.865,101.78c0,4.774,3.886,8.657,8.66,8.657c4.774,0,8.657-3.883,8.657-8.657c0-4.773-3.883-8.656-8.657-8.656    C74.751,93.124,70.865,97.006,70.865,101.78z"})]})}),t&&v("section",{className:"feedback",children:I("p",{children:["Thank you for choosing to dine with us! ",v("span",{children:c}),".",v("br",{}),v("br",{}),"We have received your request and will do our best to accommodate your desired date and time. We will contact you shortly to confirm your booking. If you have any questions or concerns, please feel free to contact us at any time.",v("br",{})," We look forward to welcoming you and hope to see you soon!"]})}),!t&&I("form",{ref:b,id:"contact_form",children:[I("div",{className:"name",children:[v("label",{htmlFor:"name"}),v("input",{type:"text",placeholder:"My name is",name:"name",id:"name_input",onBlur:C=>h(C.target.value.trim()),onChange:_,value:c})]}),I("div",{className:"email",children:[v("label",{htmlFor:"email"}),v("input",{type:"email",placeholder:"My e-mail is",name:"email",id:"email_input",onBlur:C=>d(C.target.value.trim()),onChange:M,value:f})]}),I("div",{className:"telephone",children:[v("label",{htmlFor:"name"}),v("input",{type:"number",placeholder:"My telephone is",name:"telephone",id:"telephone_input",onBlur:C=>r(C.target.value.trim()),onChange:T,value:n})]}),o==="booking"&&v("div",{className:"seats",children:v("input",{type:"number",placeholder:"seats...",name:"seats",id:"seats_input",onBlur:C=>s(C.target.value.trim()),onChange:k,value:i})}),I("div",{className:"subject",children:[v("label",{htmlFor:"subject"}),I("select",{value:o,onChange:C=>a(C.target.value),name:"subject",id:"subject_input",children:[v("option",{value:"booking",children:"I'd like to book a reservation"}),v("option",{value:"experience",children:"I'd like to share my experience"}),v("option",{value:"proposal",children:"I'd like to make a proposal"}),v("option",{value:"question",children:"I'd like to ask"})]})]}),I("div",{className:"message",children:[v("label",{htmlFor:"message"}),v("textarea",{name:"message",placeholder:"I'd like to...",id:"message_input",cols:"30",rows:"5",onBlur:C=>l(C.target.value.trim()),onChange:x,value:u})]}),I("footer",{children:[v("span",{className:"errorInput",ref:g,children:p!==""?`Escreva ${p}`:""}),v("button",{type:"submit",onClick:E,id:"sendLetter",children:"Enviar"})]})]})]})})}function cJ(){return I("div",{className:"Contacts backgroundFixed chickenChicks",children:[v("h2",{children:"Contacts"}),I("main",{children:[v(lJ,{}),I("div",{children:[v(yF,{}),v("div",{className:"map-responsive",children:v("iframe",{src:"https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12452.283855267495!2d-9.1405638!3d38.7161797!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd1933812eb63bb5%3A0x254c12266a7a5ed2!2sO%20Churrasco!5e0!3m2!1spt-PT!2spt!4v1679146553625!5m2!1spt-PT!2spt",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})]})}var hJ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},dJ=function(e){return fJ[e]},pJ=function(e){return e.replace(hJ,dJ)};function ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ox={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pJ};function mJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ox=sx(sx({},ox),t)}function Sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ax(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function _r(t,e,n){return e&&ax(t.prototype,e),n&&ax(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var gJ={type:"3rdParty",init:function(e){mJ(e.options.react)}};S.createContext();(function(){function t(){Sr(this,t),this.usedNamespaces={}}return _r(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t})();function yJ(t){if(Array.isArray(t))return t}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vJ(t,e){if(t){if(typeof t=="string")return ux(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ux(t,e)}}function wJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(){return I("div",{className:"AboutUs backgroundFixed chickenChicks",children:[v("h2",{children:"About us"}),I("section",{children:[v("div",{className:"parallax",children:v("figure",{})}),I("div",{children:[v("p",{children:"Welcome to our classic restaurant in Lisbon, where our specialty is the delicious charcoal-grilled chicken barbecue. Our restaurant is steeped in history and offers top-notch service with experienced staff who have been with us for years. Our magnificent outdoor terrace is the perfect place to enjoy your meal while taking in the vibrant energy of Lisbon."}),v("p",{children:"Specializing in grilled dishes from Rua das Portas de Santo Anto, we pride ourselves on serving some of the best roasted and spit-roasted chicken in Lisbon. Our attentive staff dressed in traditional attire will ensure you receive your desired portion and keep the rest warm for you to enjoy. You can choose between thinly sliced or round-cut potatoes and select from a variety of dishes such as Indian-style curry or Viana-style cod, both of which are award-winning. We are the perfect choice for those looking for an authentic dining experience in Portas de Santo Anto."}),v("p",{children:"At our restaurant, we aim to provide our customers with a warm and intimate dining experience while maintaining a professional standard. Whether you're a local or a tourist, we guarantee that you'll have an unforgettable meal with us. So come and join us, and taste the best grilled chicken in Lisbon!"})]})]}),v(mF,{})]})}const zg=`
    _id
    label
    email
`,ya=`
    _id
    label
    normalizedLabel
    family
    images {
        url
        label
        description
        public_id
    }
    postedBy {
        _id
        username
    }
`,va=`
    _id
    postedBy {
        _id
        username
    }
    label
    type
    family
    code
    url
    about
    supplier
    supplierRef
    notes
    price_purchase
    price_sale
    images {
        url
        label
        description
        public_id
    }
    services
    related_codes
    related_families
    related_articles
`,Wg=`
    _id
    name
    username
    email
    images {
        url
        public_id
    }
    about
    createdAt
    updatedAt
`,vF=we`
    mutation userCreate($input: UserCreateInput!) {
        userCreate (input: $input){
            username
            email
        }
    }
`,EJ=we`
mutation userUpdate($input: UserUpdateInput!) {
        userUpdate(input: $input) {
            ${Wg}
        }
    }
`,SJ=we`
    mutation articleCreate($input: ArticleCreateInput!) {
        articleCreate(input: $input) {
            ${va}
        }
    }
`;we`
    mutation articleUpdate($input: ArticleUpdateInput!) {
        articleUpdate(input: $input) {
            ${va}
        }
    }
`;we`
    mutation articleDelete($articleId: String!) {
        articleDelete(articleId: $articleId) {
            _id
        }
    }
`;const _J=we`
    mutation familyCreate($input: FamilyCreateInput!) {
        familyCreate(input: $input) {
            ${ya}
        }
    }
`;we`
    mutation familyUpdate($input: FamilyUpdateInput!) {
        familyUpdate(input: $input) {
            ${ya}
        }
    }
`;we`
    mutation familyDelete($familyId: String!) {
        familyDelete(familyId: $familyId) {
            _id
        }
    }
`;we`
    mutation newsSubscriptionCreate($input: NewsSubscriptionCreateInput!) {
        newsSubscriptionCreate(input: $input) {
            ${zg}
        }
    }
`;we`
    mutation newsSubscriptionUpdate($input: NewsSubscriptionUpdateInput!) {
        newsSubscriptionUpdate(input: $input) {
            ${zg}
        }
    }
`;we`
    mutation newsSubscriptionDelete($newsSubscriptionId: String!) {
        newsSubscriptionDelete(newsSubscriptionId: $newsSubscriptionId) {
            _id
        }
    }
`;const IJ="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg";function TJ(){let t=Ws();const{dispatch:e}=S.useContext(ni),n=S.useRef(),[r,i]=S.useState(),[s,o]=S.useState(""),[a,u]=S.useState(""),[l,c]=S.useState(""),[h,f]=S.useState(""),[d,p]=S.useState(),[m,b]=S.useState(!1),[g,y]=S.useState(!1),[w,E]=S.useState(!1),[_]=mh(vF,{onCompleted:()=>console.info("User Created"),onError:q=>console.error(q.graphqQLError[0].message)});S.useEffect(()=>{B()},[]),S.useEffect(()=>{d&&(console.info(d),_({variables:{input:{email:d.email,name:d.displayName,images:[{public_id:`google_${d.uid}`,url:d.photoURL,label:"googlePic"}]}}}),t(`${re.path}/dashboard`))},[d]);const T=q=>{q==null||q.preventDefault(),auth.signInWithPopup(googleAuthProvider).then(async Ie=>{const Te=await Ie.user.getIdTokenResult();e({type:"LOGGED_IN_USER",payload:{email:Ie.user.email,token:Te.token}}),console.log("auth.currentUser"),console.log(auth.currentUser),p(auth.currentUser)})},k=async q=>{q.preventDefault(),b(!0);const Ie={url:"https://jcolaco.dev/account/login",handleCodeInApp:!0};await auth.sendPasswordResetEmail(a,Ie).then(()=>{u(""),b(!1),toast.success(`Email is sent to ${a}. Click on the link to reset your password`)}).catch(Te=>{console.log("error on password forgot email",Te)})},x=async()=>{b(!0);try{if((await auth.createUserWithEmailAndPassword(a,l)).user.email){let Ie=auth.currentUser;await Ie.updatePassword(l);const Te=await Ie.getIdTokenResult();e({type:"LOGGED_IN_USER",payload:{email:Ie.email,token:Te.token}}),_({variables:{input:{name:s,email:a,password:l}}}),t(re.path)}}catch(q){console.error("register complete error",q.message),toast.error(q.message)}b(!1)},M=async()=>{b(!0);try{await auth.signInWithEmailAndPassword(a,l).then(async q=>{const{user:Ie}=q,Te=await Ie.getIdTokenResult();e({type:"LOGGED_IN_USER",payload:{email:Ie.email,token:Te.token}}),_({variables:{input:{name:s,email:a,password:l}}}),t(`${re.path}/dashboard`)})}catch(q){console.error("login error",q),toast.error(q.message),b(!1)}};function C(q){q.preventDefault(),ue()&&Y()}function ae(q){q.preventDefault(),w?k(q):M()}function me(q){q.preventDefault(),E(!w)}function he(q){q.preventDefault();const Ie=a;B(),g&&u(Ie),y(!1),n.current.classList.toggle("right-panel-active")}function G(q){o(q.target.value),h==="name"&&q.target.value&&f("")}function fe(q){u(q.target.value),h==="email"&&q.target.value&&f("")}function ie(q){c(q.target.value),h==="password"&&q.target.value&&f("")}function X(q){fetch("https://jcolaco.dev/recaptcha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:q})}).then(async Ie=>(i(await Ie.json().then(Te=>Te.validation)),Ie)).catch(Ie=>Ie)}const{executeRecaptcha:P}=GQ(),Y=S.useCallback(async()=>{if(!P){console.log("Execute recaptcha not yet available");return}const q=await P("SignUp");X(q)},[P]);S.useEffect(()=>{r&&h===""&&(x().then(q=>{q&&y(!0)}),i(!1))},[r]);function B(){u(""),c(""),o(""),f(""),E(!1)}function ue(){let q="";return s.trim()===""?q="name":US(a)?l.trim().length<6?q="password":q="":q="email",f(q),q===""}return v("div",{className:"SignInUp",children:I("div",{ref:n,className:"container",id:"container",children:[v("div",{className:"form-container sign-up-container",children:I("form",{onSubmit:C,children:[v("h1",{children:"Create Account"}),v("input",{type:"text",placeholder:"Name",value:s,onChange:G,disabled:m||g}),v("input",{type:"email",placeholder:"Email",value:a,onChange:fe,disabled:m||g}),v("input",{type:"password",placeholder:"Password",value:l,onChange:ie,disabled:m||g}),v("button",{disabled:m||h||g,children:"Sign Up"}),h&&I("span",{className:"errorInput",children:["Please enter a valid ",h]}),g&&I("span",{className:"createdInput",children:[v("strong",{children:"Congratulation!"})," ",v("br",{}),"You're account is created! ",v("br",{})," ",v("br",{}),"Sign in with your new account! ",v("br",{}),"Remember to activate it by following the Link sent to your email!"]})]})}),v("div",{className:"form-container sign-in-container",children:I("form",{onSubmit:ae,children:[v("h1",{children:w?"Forgot Password":"Sign in"}),v("div",{className:"social-container",children:!w&&v(vh,{children:v("button",{onClick:T,style:{backgroundImage:`url(${IJ})`},children:"Login with google"})})}),v("span",{children:w?"enter your account email":"or use your account"}),I("section",{className:"inputSection",children:[v("input",{type:"email",placeholder:"Email",value:a,onChange:q=>u(q.target.value),disabled:m}),!w&&v("input",{type:"password",placeholder:"Password",value:l,onChange:q=>c(q.target.value),disabled:m})]}),v("span",{className:"forgotSpan",disabled:m,onClick:me,children:w?"Remembered your password?":"Forgot your password?"}),v("button",{disabled:m,children:w?"Recover password":"Sign In"})]})}),v("div",{className:"overlay-container",children:I("div",{className:"overlay",children:[I("div",{className:"overlay-panel overlay-left",children:[v("h1",{children:"Welcome Back!"}),v("p",{children:"To keep connected with us please login with your personal info"}),v("button",{disabled:m,onClick:he,className:"ghost",id:"signIn",children:"Sign In"})]}),I("div",{className:"overlay-panel overlay-right",children:[v("h1",{children:"Hello, Friend!"}),v("p",{children:"Enter your personal details and start journey with us"}),v("button",{disabled:m,onClick:he,className:"ghost",id:"signUp",children:"Sign Up"})]})]})})]})})}const kJ=()=>{const{dispatch:t}=S.useContext(ni),[e,n]=S.useState(""),[r,i]=S.useState(""),[s,o]=S.useState(),[a,u]=S.useState(""),[l,c]=S.useState(!1),[h]=mh(vF,{onCompleted:()=>console.log("User Created"),onError:g=>console.log(g.graphqQLError[0].message)});let f=Ws();return S.useEffect(()=>{s&&(console.log(s),h({variables:{input:{email:s.email,name:s.displayName,images:[{public_id:`google_${s.uid}`,url:s.photoURL,label:"googlePic"}]}}}),f(`${re.path}/dashboard`))},[s]),v("div",{children:v(TJ,{setNameInput:u,setEmailInput:n,setPasswordInput:i,nameInput:a,emailInput:e,passwordInput:r,loading:l,handleForgotSubmit:async g=>{g.preventDefault(),c(!0);const y={url:"https://jcolaco.dev/account/login",handleCodeInApp:!0};await ai.sendPasswordResetEmail(e,y).then(()=>{n(""),c(!1),Ue.success(`Email is sent to ${e}. Click on the link to reset your password`)}).catch(w=>{console.log("error on password forgot email",w)})},handleSignInSubmit:async()=>{c(!0);try{await ai.signInWithEmailAndPassword(e,r).then(async g=>{const{user:y}=g,w=await y.getIdTokenResult();t({type:"LOGGED_IN_USER",payload:{email:y.email,token:w.token}}),h({variables:{input:{name:a,email:e,password:r}}}),f(`${re.path}/dashboard`)})}catch(g){console.log("login error",g),Ue.error(g.message),c(!1)}},handleSignUpSubmit:async()=>{c(!0);try{if((await ai.createUserWithEmailAndPassword(e,r)).user.email){let y=ai.currentUser;await y.updatePassword(r);const w=await y.getIdTokenResult();t({type:"LOGGED_IN_USER",payload:{email:y.email,token:w.token}}),h({variables:{input:{name:a,email:e,password:r}}}),f(re.path)}}catch(g){console.log("register complete error",g.message),Ue.error(g.message)}c(!1)},handleGoogleSignInClick:g=>{g==null||g.preventDefault(),ai.signInWithPopup(Y7).then(async y=>{const w=await y.user.getIdTokenResult();t({type:"LOGGED_IN_USER",payload:{email:y.user.email,token:w.token}}),console.log("auth.currentUser"),console.log(ai.currentUser),o(ai.currentUser)})}})})},CJ=we`
  query {
    allUsers {
        ${Wg}
    }
  }
`;we`
    query publicProfile($username: String!) {
        publicProfile(username: $username) {
            ${Wg}
        }
    }
`;const xJ=we`
  query {
    profile {
      ${Wg}
    }
  }
`;we`
    query search($query: String!){
        search(query: $query) {
            ${va}
        }
    }
`;we`
  query {
    totalArticles
  }
`;we`
  query allArticles($page: Int, $perPage: Int) {
    allArticles(page: $page, perPage: $perPage) {
        ${va}
    }
  }
`;we`
  query singleArticle($articleId: String!) {
    singleArticle(articleId: $articleId) {
        ${va}
    }
  }
`;we`
  query {
    articlesByUser {
        ${va}
    }
  }
`;we`
  query {
    totalFamilies
  }
`;we`
  query allFamilies {
    allFamilies {
        ${ya}
    }
  }
`;const OJ=we`
  query familiesFromFamily($familyId: String!) {
    familiesFromFamily(familyId: $familyId) {
        ${ya}
    }
  }
`;we`
  query familyIdFromLabelsPath($labelsPath: [String]) {
    familyIdFromLabelsPath(labelsPath: $labelsPath) {
        ${ya}
    }
  }
`;const NJ=we`
  query parentsFromFamily($familyId: String!) {
    parentsFromFamily(familyId: $familyId) {
        ${ya}
    }
  }
`,AJ=we`
  query articlesFromFamily($familyId: String!) {
    articlesFromFamily(familyId: $familyId) {
        ${va}
    }
  }
`,RJ=we`
  query singleFamily($familyId: String!) {
    singleFamily(familyId: $familyId) {
        ${ya}
    }
  }
`;we`
  query singleNewsSubscription($newsSubscriptionId: String!) {
    singleNewsSubscription(newsSubscriptionId: $newsSubscriptionId) {
        ${zg}
    }
  }
`;we`
  query allNewsSubscriptions {
    allNewsSubscriptions {
        ${zg}
    }
  }
`;we`
  query {
    totalNewsSubscriptions
  }
`;const PJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA79JREFUeF7t3U9u00AUx/FvJapWrcoGCfZcoCuO0D87eoGuYQ0XgAN0TfdwAHb0zyl6AA4ACzZtKqqKP3ohkZLgscf2zPOo/nmZjDvP7zNvZhLF7hrDHVvACXAMbA8XhnvPE+AT8Aa4Xe19zT2cfx2eAQcD9V1St+fA4WJA3iDrwDWwUVJWBo7lDtgB7i0Ob5CfwqjkN5RNbxBNU/WlOJ2+vCrEFnBbzHTUZ2DbC+QUeBWIxXYaR8DVCLR2gc+ADdCq49QL5CawtTWMMW155wg2W1ShTLxA/gRGxD5wOYLKWL3EPeCi6rqHBnkGfB8hyFPgm0DKkRdIORbTSAQikOUMhBZ1rSErI0WL+jCloylrmLwHexWIQLSG1I0BVYgqRBWiCimsCgQikPgM6IPhcq60qMePHZeWAnFJc3wng4PEhzqOlgIpzFkgAiksA4WF41YhX4EXwI/CElBaOC4ghvF8duVPhFI7BrKDLGLMIxFK2CQrSBWGUOonyWwgdRgW0i/gUWkTeAHxZAFpwvg9+5mo3YKgI/N3WcLoN8SSVogw+mHY2clAhNEfIxmIMNJgJAERRjqM3iDCSIvRC0QY6TE6gwgjD0YnEGHkw2gNIoy8GK1AhJEfIxokBuMxoO+m4tHs+7yq36Q1flJvwogPQS0XM/AeeFeRkloQe7LAS+UxSwY6gYR+5pklwpH9UYEUBm7TlaGsHpqyBoLqBGKxalHPI9ZpypqH0oRiWzhte9vBdd72tkGxxynps0g7mFZryGrjmEoRiiNIzJqiX5Q4gwilX8Kbzm786iT0BzR9NaW22/udQVQp3RLedFYvEKE0pbf9+71BhNI+6XVnJAERSjqUZCBCSYOSFEQo/VGSgwilH0oWkBgU3bBTDZcNpAlF9xkOABJCEUZ4WstaIfNudVt0/LriAjKvFD04oBnGDaQ5FLWwDAiksHEgEIEUloHCwhm8QvQQzOURIRBVyHIGVCGqkMJqQiACqcuApixViCpEFRI/BrTtjc+VS0uBuKQ5vhOBxOfKpaVAXNIc34lA4nPl0lIgLmmO70Qg8blyaSkQlzTHd1IsyD5wGX8dD6blHnBRdTVe/y36ZvaU69UYbgOvP5jMBy5kAmxVvDfxAvkAvA4EZyhHwNVDVwB2AXvYTxWGXf6pF4gFYKNCR30Gtr1ALIwz4EAiwQycA4eeIBaJPQFiQyj/ZeAO2LRXvUHWgWuhLIEYxg5wPwTIPJIvVp6qFKbT1GIevCtksW9b6E+A45FtfW1z8xF4C9gOc+n4Cw//N0qjbsKZAAAAAElFTkSuQmCC";function DJ({setPageIndex:t=r=>r,pageIndex:e=0,accountPages:n=[]}){const r=dg(l=>l.headerHeight),{dispatch:i}=S.useContext(ni),s=S.useRef();let o=Ws();S.useEffect(()=>{t(0)},[]),S.useEffect(()=>{console.log(r),s.current.style.top=r},[r]),S.useEffect(()=>{const l=s.current.querySelectorAll(".sidebar-list-item");for(let c of l)c.dataset.index==e?c.classList.add("active"):c.classList.remove("active")},[e]);function a(l){l.preventDefault(),t(l.currentTarget.dataset.index)}const u=l=>{ai.signOut(),i({type:"LOGGED_IN_USER",payload:null}),o("/app")};return I("div",{className:"sidebar",children:[I("div",{className:"sidebar-header",children:[v("div",{className:"app-icon"}),"my Office"]}),I("ul",{ref:s,className:"sidebar-list",children:[n.map((l,c)=>v("li",{"data-index":c,onClick:a,className:`sidebar-list-item ${c===0&&"active"}`,children:I("span",{children:[l.icon,v("span",{children:l.label})]})},c)),v("li",{children:v(ft,{to:"/app",className:"sidebar-list-item logout",onClick:u,children:I("span",{children:[v("img",{src:PJ,alt:"logout"}),v("span",{children:"Log out"})]})})})]})]})}const Lr={logo:v("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:v("path",{fill:"currentColor",d:"M507.606 371.054a187.217 187.217 0 00-23.051-19.606c-17.316 19.999-37.648 36.808-60.572 50.041-35.508 20.505-75.893 31.452-116.875 31.711 21.762 8.776 45.224 13.38 69.396 13.38 49.524 0 96.084-19.286 131.103-54.305a15 15 0 004.394-10.606 15.028 15.028 0 00-4.395-10.615zM27.445 351.448a187.392 187.392 0 00-23.051 19.606C1.581 373.868 0 377.691 0 381.669s1.581 7.793 4.394 10.606c35.019 35.019 81.579 54.305 131.103 54.305 24.172 0 47.634-4.604 69.396-13.38-40.985-.259-81.367-11.206-116.879-31.713-22.922-13.231-43.254-30.04-60.569-50.039zM103.015 375.508c24.937 14.4 53.928 24.056 84.837 26.854-53.409-29.561-82.274-70.602-95.861-94.135-14.942-25.878-25.041-53.917-30.063-83.421-14.921.64-29.775 2.868-44.227 6.709-6.6 1.576-11.507 7.517-11.507 14.599 0 1.312.172 2.618.512 3.885 15.32 57.142 52.726 100.35 96.309 125.509zM324.148 402.362c30.908-2.799 59.9-12.454 84.837-26.854 43.583-25.159 80.989-68.367 96.31-125.508.34-1.267.512-2.573.512-3.885 0-7.082-4.907-13.023-11.507-14.599-14.452-3.841-29.306-6.07-44.227-6.709-5.022 29.504-15.121 57.543-30.063 83.421-13.588 23.533-42.419 64.554-95.862 94.134zM187.301 366.948c-15.157-24.483-38.696-71.48-38.696-135.903 0-32.646 6.043-64.401 17.945-94.529-16.394-9.351-33.972-16.623-52.273-21.525-8.004-2.142-16.225 2.604-18.37 10.605-16.372 61.078-4.825 121.063 22.064 167.631 16.325 28.275 39.769 54.111 69.33 73.721zM324.684 366.957c29.568-19.611 53.017-45.451 69.344-73.73 26.889-46.569 38.436-106.553 22.064-167.631-2.145-8.001-10.366-12.748-18.37-10.605-18.304 4.902-35.883 12.176-52.279 21.529 11.9 30.126 17.943 61.88 17.943 94.525.001 64.478-23.58 111.488-38.702 135.912zM266.606 69.813c-2.813-2.813-6.637-4.394-10.615-4.394a15 15 0 00-10.606 4.394c-39.289 39.289-66.78 96.005-66.78 161.231 0 65.256 27.522 121.974 66.78 161.231 2.813 2.813 6.637 4.394 10.615 4.394s7.793-1.581 10.606-4.394c39.248-39.247 66.78-95.96 66.78-161.231.001-65.256-27.511-121.964-66.78-161.231z"})}),home:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-home",children:[v("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),v("polyline",{points:"9 22 9 12 15 12 15 22"})]}),products:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-shopping-bag",children:[v("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),v("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),v("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),pieChart:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-pie-chart",children:[v("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),v("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),inbox:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-inbox",children:[v("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),v("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),notifications:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bell",children:[v("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),v("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),sort:v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512",children:v("path",{fill:"currentColor",d:"M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"})}),dotsMoreButton:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-vertical",children:[v("circle",{cx:"12",cy:"12",r:"1"}),v("circle",{cx:"12",cy:"5",r:"1"}),v("circle",{cx:"12",cy:"19",r:"1"})]}),moon:I("svg",{className:"moon",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"24",height:"24",viewBox:"0 0 24 24",children:[v("defs",{}),v("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})]})};function LJ({title:t="title",darkMode:e=!0,setDarkMode:n=r=>r}){S.useEffect(()=>{document.documentElement.classList.toggle("light")},[e]);function r(i){i.preventDefault(),n(!e)}return I("div",{className:"Header",children:[v("h1",{className:"headerText",children:t}),v("button",{onClick:r,className:`mode-switch ${e?"dark":"light"}`,title:"Switch Theme",children:Lr.moon})]})}function FJ({gridListStyle:t="list",setGridListStyle:e=n=>n}){const n=S.useRef(),r=S.useRef(),i=S.useRef();function s(){n.current.classList.toggle("active")}function o(a){a.preventDefault(),e(a.currentTarget.dataset.style)}return I("div",{className:"actions",children:[v("input",{className:"search-bar",placeholder:"Search...",type:"text"}),I("div",{className:"actions-wrapper",children:[I("div",{className:"filter-button-wrapper",children:[I("button",{onClick:s,className:"action-button filter jsFilter",children:[v("span",{children:"Filter"}),v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-filter",children:v("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})})]}),I("div",{ref:n,className:"filter-menu",children:[v("label",{children:"Category"}),I("select",{children:[v("option",{children:"All Categories"}),v("option",{children:"Furniture"}),v("option",{children:"Decoration"}),v("option",{children:"Kitchen"}),v("option",{children:"Bathroom"})]}),v("label",{children:"Status"}),I("select",{children:[v("option",{children:"All Status"}),v("option",{children:"Active"}),v("option",{children:"Disabled"})]}),I("div",{className:"filter-menu-buttons",children:[v("button",{className:"filter-button reset",children:"Reset"}),v("button",{className:"filter-button apply",children:"Apply"})]})]})]}),v("button",{"data-style":"list",onClick:o,ref:r,className:`action-button list ${t==="list"&&"active"}`,title:"List View",children:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-list",children:[v("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),v("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),v("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),v("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),v("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),v("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),v("button",{"data-style":"grid",ref:i,onClick:o,className:`action-button grid ${t==="grid"&&"active"}`,title:"Grid View",children:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-grid",children:[v("rect",{x:"3",y:"3",width:"7",height:"7"}),v("rect",{x:"14",y:"3",width:"7",height:"7"}),v("rect",{x:"14",y:"14",width:"7",height:"7"}),v("rect",{x:"3",y:"14",width:"7",height:"7"})]})})]})]})}var a1={},MJ={get exports(){return a1},set exports(t){a1=t}};(()=>{var t={d:(s,o)=>{for(var a in o)t.o(o,a)&&!t.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:o[a]})},o:(s,o)=>Object.prototype.hasOwnProperty.call(s,o),r:s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}},e={};function n(s,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}t.r(e),t.d(e,{default:()=>i});var r=function(){function s(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,s)}var o,a;return o=s,a=[{key:"changeHeightWidth",value:function(u,l,c,h,f,d){return c>h&&(u=Math.round(u*h/c),c=h),u>l&&(c=Math.round(c*l/u),u=l),f&&c<f&&(u=Math.round(u*f/c),c=f),d&&u<d&&(c=Math.round(c*d/u),u=d),{height:u,width:c}}},{key:"resizeAndRotateImage",value:function(u,l,c,h,f){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,b=p/100,g=document.createElement("canvas"),y=u.width,w=u.height,E=this.changeHeightWidth(w,c,y,l,h,f);!m||m!==90&&m!==270?(g.width=E.width,g.height=E.height):(g.width=E.height,g.height=E.width),y=E.width,w=E.height;var _=g.getContext("2d");return _.fillStyle="rgba(0, 0, 0, 0)",_.fillRect(0,0,y,w),_.imageSmoothingEnabled&&_.imageSmoothingQuality&&(_.imageSmoothingQuality="high"),m&&(_.rotate(m*Math.PI/180),m===90?_.translate(0,-g.width):m===180?_.translate(-g.width,-g.height):m===270?_.translate(-g.height,0):m!==0&&m!==360||_.translate(0,0)),_.drawImage(u,0,0,y,w),g.toDataURL("image/".concat(d),b)}},{key:"b64toByteArrays",value:function(u,l){for(var c=atob(u.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),h=[],f=0;f<c.length;f+=512){for(var d=c.slice(f,f+512),p=new Array(d.length),m=0;m<d.length;m++)p[m]=d.charCodeAt(m);var b=new Uint8Array(p);h.push(b)}return h}},{key:"b64toBlob",value:function(u,l){var c=this.b64toByteArrays(u,l);return new Blob(c,{type:l,lastModified:new Date})}},{key:"b64toFile",value:function(u,l,c){var h=this.b64toByteArrays(u,c);return new File(h,l,{type:c,lastModified:new Date})}},{key:"createResizedImage",value:function(u,l,c,h,f,d,p){var m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,g=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,y=new FileReader;if(!u)throw Error("File Not Found!");if(u.type&&!u.type.includes("image"))throw Error("File Is NOT Image!");y.readAsDataURL(u),y.onload=function(){var w=new Image;w.src=y.result,w.onload=function(){var E=s.resizeAndRotateImage(w,l,c,b,g,h,f,d),_="image/".concat(h);switch(m){case"blob":var T=s.b64toBlob(E,_);p(T);break;case"base64":p(E);break;case"file":var k=u.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(h.toString()),x=s.b64toFile(E,k,_);p(x);break;default:p(E)}}},y.onerror=function(w){throw Error(w)}}}],a&&n(o,a),s}();const i={imageFileResizer:function(s,o,a,u,l,c,h,f,d,p){return r.createResizedImage(s,o,a,u,l,c,h,f,d,p)}};MJ.exports=e})();function wF(t,e){return function(){return t.apply(e,arguments)}}const{toString:bF}=Object.prototype,{getPrototypeOf:VS}=Object,jS=(t=>e=>{const n=bF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Li=t=>(t=t.toLowerCase(),e=>jS(e)===t),Qg=t=>e=>typeof e===t,{isArray:ol}=Array,gh=Qg("undefined");function $J(t){return t!==null&&!gh(t)&&t.constructor!==null&&!gh(t.constructor)&&ra(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const EF=Li("ArrayBuffer");function UJ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&EF(t.buffer),e}const VJ=Qg("string"),ra=Qg("function"),SF=Qg("number"),BS=t=>t!==null&&typeof t=="object",jJ=t=>t===!0||t===!1,kd=t=>{if(jS(t)!=="object")return!1;const e=VS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},BJ=Li("Date"),qJ=Li("File"),zJ=Li("Blob"),WJ=Li("FileList"),QJ=t=>BS(t)&&ra(t.pipe),HJ=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||bF.call(t)===e||ra(t.toString)&&t.toString()===e)},GJ=Li("URLSearchParams"),KJ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ol(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function _F(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const IF=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:gt)(),TF=t=>!gh(t)&&t!==IF;function u1(){const{caseless:t}=TF(this)&&this||{},e={},n=(r,i)=>{const s=t&&_F(e,i)||i;kd(e[s])&&kd(r)?e[s]=u1(e[s],r):kd(r)?e[s]=u1({},r):ol(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Xh(arguments[r],n);return e}const YJ=(t,e,n,{allOwnKeys:r}={})=>(Xh(e,(i,s)=>{n&&ra(i)?t[s]=wF(i,n):t[s]=i},{allOwnKeys:r}),t),JJ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),XJ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ZJ=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&VS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},tX=t=>{if(!t)return null;if(ol(t))return t;let e=t.length;if(!SF(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&VS(Uint8Array)),rX=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},iX=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},sX=Li("HTMLFormElement"),oX=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),lx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),aX=Li("RegExp"),kF=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Xh(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},uX=t=>{kF(t,(e,n)=>{if(ra(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ra(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},lX=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ol(t)?r(t):r(String(t).split(e)),n},cX=()=>{},hX=(t,e)=>(t=+t,Number.isFinite(t)?t:e),fX=t=>{const e=new Array(10),n=(r,i)=>{if(BS(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ol(r)?[]:{};return Xh(r,(o,a)=>{const u=n(o,i+1);!gh(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},R={isArray:ol,isArrayBuffer:EF,isBuffer:$J,isFormData:HJ,isArrayBufferView:UJ,isString:VJ,isNumber:SF,isBoolean:jJ,isObject:BS,isPlainObject:kd,isUndefined:gh,isDate:BJ,isFile:qJ,isBlob:zJ,isRegExp:aX,isFunction:ra,isStream:QJ,isURLSearchParams:GJ,isTypedArray:nX,isFileList:WJ,forEach:Xh,merge:u1,extend:YJ,trim:KJ,stripBOM:JJ,inherits:XJ,toFlatObject:ZJ,kindOf:jS,kindOfTest:Li,endsWith:eX,toArray:tX,forEachEntry:rX,matchAll:iX,isHTMLForm:sX,hasOwnProperty:lx,hasOwnProp:lx,reduceDescriptors:kF,freezeMethods:uX,toObjectSet:lX,toCamelCase:oX,noop:cX,toFiniteNumber:hX,findKey:_F,global:IF,isContextDefined:TF,toJSONObject:fX};var Fr=[],Gn=[],dX=typeof Uint8Array<"u"?Uint8Array:Array,qS=!1;function CF(){qS=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Fr[e]=t[e],Gn[t.charCodeAt(e)]=e;Gn["-".charCodeAt(0)]=62,Gn["_".charCodeAt(0)]=63}function pX(t){qS||CF();var e,n,r,i,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[a-2]==="="?2:t[a-1]==="="?1:0,o=new dX(a*3/4-s),r=s>0?a-4:a;var u=0;for(e=0,n=0;e<r;e+=4,n+=3)i=Gn[t.charCodeAt(e)]<<18|Gn[t.charCodeAt(e+1)]<<12|Gn[t.charCodeAt(e+2)]<<6|Gn[t.charCodeAt(e+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=i&255;return s===2?(i=Gn[t.charCodeAt(e)]<<2|Gn[t.charCodeAt(e+1)]>>4,o[u++]=i&255):s===1&&(i=Gn[t.charCodeAt(e)]<<10|Gn[t.charCodeAt(e+1)]<<4|Gn[t.charCodeAt(e+2)]>>2,o[u++]=i>>8&255,o[u++]=i&255),o}function mX(t){return Fr[t>>18&63]+Fr[t>>12&63]+Fr[t>>6&63]+Fr[t&63]}function gX(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(mX(r));return i.join("")}function cx(t){qS||CF();for(var e,n=t.length,r=n%3,i="",s=[],o=16383,a=0,u=n-r;a<u;a+=o)s.push(gX(t,a,a+o>u?u:a+o));return r===1?(e=t[n-1],i+=Fr[e>>2],i+=Fr[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=Fr[e>>10],i+=Fr[e>>4&63],i+=Fr[e<<2&63],i+="="),s.push(i),s.join("")}function Hg(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+h],h+=f,c-=8);if(s===0)s=1-l;else{if(s===u)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(d?-1:1)*o*Math.pow(2,s-r)}function xF(t,e,n,r,i,s){var o,a,u,l=s*8-i-1,c=(1<<l)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?e+=f/u:e+=f*Math.pow(2,1-h),e*u>=2&&(o++,u/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=a&255,d+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+d]=o&255,d+=p,o/=256,l-=8);t[n+d-p]|=m*128}var yX={}.toString,OF=Array.isArray||function(t){return yX.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var vX=50;F.TYPED_ARRAY_SUPPORT=gt.TYPED_ARRAY_SUPPORT!==void 0?gt.TYPED_ARRAY_SUPPORT:!0;Gp();function Gp(){return F.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function mi(t,e){if(Gp()<e)throw new RangeError("Invalid typed array length");return F.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=F.prototype):(t===null&&(t=new F(e)),t.length=e),t}function F(t,e,n){if(!F.TYPED_ARRAY_SUPPORT&&!(this instanceof F))return new F(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return zS(this,t)}return NF(this,t,e,n)}F.poolSize=8192;F._augment=function(t){return t.__proto__=F.prototype,t};function NF(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?EX(t,e,n,r):typeof e=="string"?bX(t,e,n):SX(t,e)}F.from=function(t,e,n){return NF(null,t,e,n)};F.TYPED_ARRAY_SUPPORT&&(F.prototype.__proto__=Uint8Array.prototype,F.__proto__=Uint8Array);function AF(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function wX(t,e,n,r){return AF(e),e<=0?mi(t,e):n!==void 0?typeof r=="string"?mi(t,e).fill(n,r):mi(t,e).fill(n):mi(t,e)}F.alloc=function(t,e,n){return wX(null,t,e,n)};function zS(t,e){if(AF(e),t=mi(t,e<0?0:WS(e)|0),!F.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}F.allocUnsafe=function(t){return zS(null,t)};F.allocUnsafeSlow=function(t){return zS(null,t)};function bX(t,e,n){if((typeof n!="string"||n==="")&&(n="utf8"),!F.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=RF(e,n)|0;t=mi(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function l1(t,e){var n=e.length<0?0:WS(e.length)|0;t=mi(t,n);for(var r=0;r<n;r+=1)t[r]=e[r]&255;return t}function EX(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return n===void 0&&r===void 0?e=new Uint8Array(e):r===void 0?e=new Uint8Array(e,n):e=new Uint8Array(e,n,r),F.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=F.prototype):t=l1(t,e),t}function SX(t,e){if(ei(e)){var n=WS(e.length)|0;return t=mi(t,n),t.length===0||e.copy(t,0,0,n),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||jX(e.length)?mi(t,0):l1(t,e);if(e.type==="Buffer"&&OF(e.data))return l1(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function WS(t){if(t>=Gp())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Gp().toString(16)+" bytes");return t|0}F.isBuffer=BX;function ei(t){return!!(t!=null&&t._isBuffer)}F.compare=function(e,n){if(!ei(e)||!ei(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,s=0,o=Math.min(r,i);s<o;++s)if(e[s]!==n[s]){r=e[s],i=n[s];break}return r<i?-1:i<r?1:0};F.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(e,n){if(!OF(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return F.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=F.allocUnsafe(n),s=0;for(r=0;r<e.length;++r){var o=e[r];if(!ei(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function RF(t,e){if(ei(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Kp(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return UF(t).length;default:if(r)return Kp(t).length;e=(""+e).toLowerCase(),r=!0}}F.byteLength=RF;function _X(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return PX(this,e,n);case"utf8":case"utf-8":return LF(this,e,n);case"ascii":return AX(this,e,n);case"latin1":case"binary":return RX(this,e,n);case"base64":return OX(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return DX(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}F.prototype._isBuffer=!0;function To(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}F.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)To(this,n,n+1);return this};F.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)To(this,n,n+3),To(this,n+1,n+2);return this};F.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)To(this,n,n+7),To(this,n+1,n+6),To(this,n+2,n+5),To(this,n+3,n+4);return this};F.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?LF(this,0,e):_X.apply(this,arguments)};F.prototype.equals=function(e){if(!ei(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:F.compare(this,e)===0};F.prototype.inspect=function(){var e="",n=vX;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"};F.prototype.compare=function(e,n,r,i,s){if(!ei(e))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),n<0||r>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&n>=r)return 0;if(i>=s)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=r-n,u=Math.min(o,a),l=this.slice(i,s),c=e.slice(n,r),h=0;h<u;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0};function PF(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=F.from(e,r)),ei(e))return e.length===0?-1:hx(t,e,n,r,i);if(typeof e=="number")return e=e&255,F.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):hx(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function hx(t,e,n,r,i){var s=1,o=t.length,a=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,n/=2}function u(d,p){return s===1?d[p]:d.readUInt16BE(p*s)}var l;if(i){var c=-1;for(l=n;l<o;l++)if(u(t,l)===u(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===a)return c*s}else c!==-1&&(l-=l-c),c=-1}else for(n+a>o&&(n=o-a),l=n;l>=0;l--){for(var h=!0,f=0;f<a;f++)if(u(t,l+f)!==u(e,f)){h=!1;break}if(h)return l}return-1}F.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};F.prototype.indexOf=function(e,n,r){return PF(this,e,n,r,!0)};F.prototype.lastIndexOf=function(e,n,r){return PF(this,e,n,r,!1)};function IX(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function TX(t,e,n,r){return Yg(Kp(e,t.length-n),t,n,r)}function DF(t,e,n,r){return Yg(UX(e),t,n,r)}function kX(t,e,n,r){return DF(t,e,n,r)}function CX(t,e,n,r){return Yg(UF(e),t,n,r)}function xX(t,e,n,r){return Yg(VX(e,t.length-n),t,n,r)}F.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n|0,isFinite(r)?(r=r|0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return IX(this,e,n,r);case"utf8":case"utf-8":return TX(this,e,n,r);case"ascii":return DF(this,e,n,r);case"latin1":case"binary":return kX(this,e,n,r);case"base64":return CX(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xX(this,e,n,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function OX(t,e,n){return e===0&&n===t.length?cx(t):cx(t.slice(e,n))}function LF(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=n){var u,l,c,h;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(h=(s&31)<<6|u&63,h>127&&(o=h));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(h=(s&15)<<12|(u&63)<<6|l&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],(u&192)===128&&(l&192)===128&&(c&192)===128&&(h=(s&15)<<18|(u&63)<<12|(l&63)<<6|c&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=a}return NX(r)}var fx=4096;function NX(t){var e=t.length;if(e<=fx)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=fx));return n}function AX(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function RX(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function PX(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=$X(t[s]);return i}function DX(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}F.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(F.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=F.prototype;else{var s=n-e;i=new F(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};function Vt(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUIntLE=function(e,n,r){e=e|0,n=n|0,r||Vt(e,n,this.length);for(var i=this[e],s=1,o=0;++o<n&&(s*=256);)i+=this[e+o]*s;return i};F.prototype.readUIntBE=function(e,n,r){e=e|0,n=n|0,r||Vt(e,n,this.length);for(var i=this[e+--n],s=1;n>0&&(s*=256);)i+=this[e+--n]*s;return i};F.prototype.readUInt8=function(e,n){return n||Vt(e,1,this.length),this[e]};F.prototype.readUInt16LE=function(e,n){return n||Vt(e,2,this.length),this[e]|this[e+1]<<8};F.prototype.readUInt16BE=function(e,n){return n||Vt(e,2,this.length),this[e]<<8|this[e+1]};F.prototype.readUInt32LE=function(e,n){return n||Vt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};F.prototype.readUInt32BE=function(e,n){return n||Vt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};F.prototype.readIntLE=function(e,n,r){e=e|0,n=n|0,r||Vt(e,n,this.length);for(var i=this[e],s=1,o=0;++o<n&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*n)),i};F.prototype.readIntBE=function(e,n,r){e=e|0,n=n|0,r||Vt(e,n,this.length);for(var i=n,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*n)),o};F.prototype.readInt8=function(e,n){return n||Vt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};F.prototype.readInt16LE=function(e,n){n||Vt(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};F.prototype.readInt16BE=function(e,n){n||Vt(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};F.prototype.readInt32LE=function(e,n){return n||Vt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};F.prototype.readInt32BE=function(e,n){return n||Vt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};F.prototype.readFloatLE=function(e,n){return n||Vt(e,4,this.length),Hg(this,e,!0,23,4)};F.prototype.readFloatBE=function(e,n){return n||Vt(e,4,this.length),Hg(this,e,!1,23,4)};F.prototype.readDoubleLE=function(e,n){return n||Vt(e,8,this.length),Hg(this,e,!0,52,8)};F.prototype.readDoubleBE=function(e,n){return n||Vt(e,8,this.length),Hg(this,e,!1,52,8)};function An(t,e,n,r,i,s){if(!ei(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}F.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;An(this,e,n,r,s,0)}var o=1,a=0;for(this[n]=e&255;++a<r&&(o*=256);)this[n+a]=e/o&255;return n+r};F.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;An(this,e,n,r,s,0)}var o=r-1,a=1;for(this[n+o]=e&255;--o>=0&&(a*=256);)this[n+o]=e/a&255;return n+r};F.prototype.writeUInt8=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,1,255,0),F.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e&255,n+1};function Gg(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}F.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,2,65535,0),F.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):Gg(this,e,n,!0),n+2};F.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,2,65535,0),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):Gg(this,e,n,!1),n+2};function Kg(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>(r?i:3-i)*8&255}F.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,4,4294967295,0),F.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255):Kg(this,e,n,!0),n+4};F.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,4,4294967295,0),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):Kg(this,e,n,!1),n+4};F.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n|0,!i){var s=Math.pow(2,8*r-1);An(this,e,n,r,s-1,-s)}var o=0,a=1,u=0;for(this[n]=e&255;++o<r&&(a*=256);)e<0&&u===0&&this[n+o-1]!==0&&(u=1),this[n+o]=(e/a>>0)-u&255;return n+r};F.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n|0,!i){var s=Math.pow(2,8*r-1);An(this,e,n,r,s-1,-s)}var o=r-1,a=1,u=0;for(this[n+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[n+o+1]!==0&&(u=1),this[n+o]=(e/a>>0)-u&255;return n+r};F.prototype.writeInt8=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,1,127,-128),F.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=e&255,n+1};F.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,2,32767,-32768),F.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):Gg(this,e,n,!0),n+2};F.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,2,32767,-32768),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):Gg(this,e,n,!1),n+2};F.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,4,2147483647,-2147483648),F.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):Kg(this,e,n,!0),n+4};F.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n|0,r||An(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),F.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):Kg(this,e,n,!1),n+4};function FF(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function MF(t,e,n,r,i){return i||FF(t,e,n,4),xF(t,e,n,r,23,4),n+4}F.prototype.writeFloatLE=function(e,n,r){return MF(this,e,n,!0,r)};F.prototype.writeFloatBE=function(e,n,r){return MF(this,e,n,!1,r)};function $F(t,e,n,r,i){return i||FF(t,e,n,8),xF(t,e,n,r,52,8),n+8}F.prototype.writeDoubleLE=function(e,n,r){return $F(this,e,n,!0,r)};F.prototype.writeDoubleBE=function(e,n,r){return $F(this,e,n,!1,r)};F.prototype.copy=function(e,n,r,i){if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r,o;if(this===e&&r<n&&n<i)for(o=s-1;o>=0;--o)e[o+n]=this[o+r];else if(s<1e3||!F.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),n);return s};F.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!F.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var o;if(typeof e=="number")for(o=n;o<r;++o)this[o]=e;else{var a=ei(e)?e:Kp(new F(e,i).toString()),u=a.length;for(o=0;o<r-n;++o)this[o+n]=a[o%u]}return this};var LX=/[^+\/0-9A-Za-z-_]/g;function FX(t){if(t=MX(t).replace(LX,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function MX(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function $X(t){return t<16?"0"+t.toString(16):t.toString(16)}function Kp(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function UX(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function VX(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function UF(t){return pX(FX(t))}function Yg(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function jX(t){return t!==t}function BX(t){return t!=null&&(!!t._isBuffer||VF(t)||qX(t))}function VF(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function qX(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&VF(t.slice(0,0))}function Ee(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}R.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jF=Ee.prototype,BF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{BF[t]={value:t}});Object.defineProperties(Ee,BF);Object.defineProperty(jF,"isAxiosError",{value:!0});Ee.from=(t,e,n,r,i,s)=>{const o=Object.create(jF);return R.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),Ee.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var zX=typeof self=="object"?self.FormData:window.FormData;const WX=zX;function c1(t){return R.isPlainObject(t)||R.isArray(t)}function qF(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function dx(t,e,n){return t?t.concat(e).map(function(i,s){return i=qF(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function QX(t){return R.isArray(t)&&!t.some(c1)}const HX=R.toFlatObject(R,{},null,function(e){return/^is[A-Z]/.test(e)});function GX(t){return t&&R.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Jg(t,e,n){if(!R.isObject(t))throw new TypeError("target must be an object");e=e||new(WX||FormData),n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!R.isUndefined(b[m])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&GX(e);if(!R.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(R.isDate(p))return p.toISOString();if(!u&&R.isBlob(p))throw new Ee("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(p)||R.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):F.from(p):p}function c(p,m,b){let g=p;if(p&&!b&&typeof p=="object"){if(R.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(R.isArray(p)&&QX(p)||R.isFileList(p)||R.endsWith(m,"[]")&&(g=R.toArray(p)))return m=qF(m),g.forEach(function(w,E){!(R.isUndefined(w)||w===null)&&e.append(o===!0?dx([m],E,s):o===null?m:m+"[]",l(w))}),!1}return c1(p)?!0:(e.append(dx(b,m,s),l(p)),!1)}const h=[],f=Object.assign(HX,{defaultVisitor:c,convertValue:l,isVisitable:c1});function d(p,m){if(!R.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(p),R.forEach(p,function(g,y){(!(R.isUndefined(g)||g===null)&&i.call(e,g,R.isString(y)?y.trim():y,m,f))===!0&&d(g,m?m.concat(y):[y])}),h.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return d(t),e}function px(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function QS(t,e){this._pairs=[],t&&Jg(t,this,e)}const zF=QS.prototype;zF.append=function(e,n){this._pairs.push([e,n])};zF.toString=function(e){const n=e?function(r){return e.call(this,r,px)}:px;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function KX(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WF(t,e,n){if(!e)return t;const r=n&&n.encode||KX,i=n&&n.serialize;let s;if(i?s=i(e,n):s=R.isURLSearchParams(e)?e.toString():new QS(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class YX{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){R.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mx=YX,QF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JX=typeof URLSearchParams<"u"?URLSearchParams:QS,XX=FormData,ZX=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eZ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vr={isBrowser:!0,classes:{URLSearchParams:JX,FormData:XX,Blob},isStandardBrowserEnv:ZX,isStandardBrowserWebWorkerEnv:eZ,protocols:["http","https","file","blob","url","data"]};function tZ(t,e){return Jg(t,new Vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Vr.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function nZ(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rZ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function HF(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&R.isArray(i)?i.length:o,u?(R.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!R.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&R.isArray(i[o])&&(i[o]=rZ(i[o])),!a)}if(R.isFormData(t)&&R.isFunction(t.entries)){const n={};return R.forEachEntry(t,(r,i)=>{e(nZ(r),i,n,0)}),n}return null}const iZ={"Content-Type":void 0};function sZ(t,e,n){if(R.isString(t))try{return(e||JSON.parse)(t),R.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xg={transitional:QF,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=R.isObject(e);if(s&&R.isHTMLForm(e)&&(e=new FormData(e)),R.isFormData(e))return i&&i?JSON.stringify(HF(e)):e;if(R.isArrayBuffer(e)||R.isBuffer(e)||R.isStream(e)||R.isFile(e)||R.isBlob(e))return e;if(R.isArrayBufferView(e))return e.buffer;if(R.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tZ(e,this.formSerializer).toString();if((a=R.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Jg(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),sZ(e)):e}],transformResponse:[function(e){const n=this.transitional||Xg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&R.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ee.from(a,Ee.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};R.forEach(["delete","get","head"],function(e){Xg.headers[e]={}});R.forEach(["post","put","patch"],function(e){Xg.headers[e]=R.merge(iZ)});const HS=Xg,oZ=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aZ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&oZ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},gx=Symbol("internals");function Al(t){return t&&String(t).trim().toLowerCase()}function Cd(t){return t===!1||t==null?t:R.isArray(t)?t.map(Cd):String(t)}function uZ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function lZ(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function yx(t,e,n,r){if(R.isFunction(r))return r.call(this,e,n);if(R.isString(e)){if(R.isString(r))return e.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(e)}}function cZ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function hZ(t,e){const n=R.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Zg{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,l){const c=Al(u);if(!c)throw new Error("header name must be a non-empty string");const h=R.findKey(i,c);(!h||i[h]===void 0||l===!0||l===void 0&&i[h]!==!1)&&(i[h||u]=Cd(a))}const o=(a,u)=>R.forEach(a,(l,c)=>s(l,c,u));return R.isPlainObject(e)||e instanceof this.constructor?o(e,n):R.isString(e)&&(e=e.trim())&&!lZ(e)?o(aZ(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Al(e),e){const r=R.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return uZ(i);if(R.isFunction(n))return n.call(this,i,r);if(R.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Al(e),e){const r=R.findKey(this,e);return!!(r&&(!n||yx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Al(o),o){const a=R.findKey(r,o);a&&(!n||yx(r,r[a],a,n))&&(delete r[a],i=!0)}}return R.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const n=this,r={};return R.forEach(this,(i,s)=>{const o=R.findKey(r,s);if(o){n[o]=Cd(i),delete n[s];return}const a=e?cZ(s):String(s).trim();a!==s&&delete n[s],n[a]=Cd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return R.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[gx]=this[gx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Al(o);r[a]||(hZ(i,o),r[a]=!0)}return R.isArray(e)?e.forEach(s):s(e),this}}Zg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);R.freezeMethods(Zg.prototype);R.freezeMethods(Zg);const wi=Zg;function xv(t,e){const n=this||HS,r=e||n,i=wi.from(r.headers);let s=r.data;return R.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function GF(t){return!!(t&&t.__CANCEL__)}function Zh(t,e,n){Ee.call(this,t??"canceled",Ee.ERR_CANCELED,e,n),this.name="CanceledError"}R.inherits(Zh,Ee,{__CANCEL__:!0});const fZ=null;function dZ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ee("Request failed with status code "+n.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const pZ=Vr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const u=[];u.push(n+"="+encodeURIComponent(r)),R.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),R.isString(s)&&u.push("path="+s),R.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function mZ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gZ(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function KF(t,e){return t&&!mZ(e)?gZ(t,e):e}const yZ=Vr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=R.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function vZ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wZ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),c=r[s];o||(o=l),n[i]=u,r[i]=l;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const d=c&&l-c;return d?Math.round(f*1e3/d):void 0}}function vx(t,e){let n=0;const r=wZ(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,u=r(a),l=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&l?(o-s)/u:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const bZ=typeof XMLHttpRequest<"u",EZ=bZ&&function(t){return new Promise(function(n,r){let i=t.data;const s=wi.from(t.headers).normalize(),o=t.responseType;let a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}R.isFormData(i)&&(Vr.isStandardBrowserEnv||Vr.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let l=new XMLHttpRequest;if(t.auth){const d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(d+":"+p))}const c=KF(t.baseURL,t.url);l.open(t.method.toUpperCase(),WF(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function h(){if(!l)return;const d=wi.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:d,config:t,request:l};dZ(function(g){n(g),u()},function(g){r(g),u()},m),l=null}if("onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(h)},l.onabort=function(){l&&(r(new Ee("Request aborted",Ee.ECONNABORTED,t,l)),l=null)},l.onerror=function(){r(new Ee("Network Error",Ee.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||QF;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new Ee(p,m.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,t,l)),l=null},Vr.isStandardBrowserEnv){const d=(t.withCredentials||yZ(c))&&t.xsrfCookieName&&pZ.read(t.xsrfCookieName);d&&s.set(t.xsrfHeaderName,d)}i===void 0&&s.setContentType(null),"setRequestHeader"in l&&R.forEach(s.toJSON(),function(p,m){l.setRequestHeader(m,p)}),R.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&o!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",vx(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",vx(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=d=>{l&&(r(!d||d.type?new Zh(null,t,l):d),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=vZ(c);if(f&&Vr.protocols.indexOf(f)===-1){r(new Ee("Unsupported protocol "+f+":",Ee.ERR_BAD_REQUEST,t));return}l.send(i||null)})},xd={http:fZ,xhr:EZ};R.forEach(xd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const SZ={getAdapter:t=>{t=R.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=R.isString(n)?xd[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Ee(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(R.hasOwnProp(xd,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!R.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:xd};function Ov(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zh(null,t)}function wx(t){return Ov(t),t.headers=wi.from(t.headers),t.data=xv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SZ.getAdapter(t.adapter||HS.adapter)(t).then(function(r){return Ov(t),r.data=xv.call(t,t.transformResponse,r),r.headers=wi.from(r.headers),r},function(r){return GF(r)||(Ov(t),r&&r.response&&(r.response.data=xv.call(t,t.transformResponse,r.response),r.response.headers=wi.from(r.response.headers))),Promise.reject(r)})}const bx=t=>t instanceof wi?t.toJSON():t;function $u(t,e){e=e||{};const n={};function r(l,c,h){return R.isPlainObject(l)&&R.isPlainObject(c)?R.merge.call({caseless:h},l,c):R.isPlainObject(c)?R.merge({},c):R.isArray(c)?c.slice():c}function i(l,c,h){if(R.isUndefined(c)){if(!R.isUndefined(l))return r(void 0,l,h)}else return r(l,c,h)}function s(l,c){if(!R.isUndefined(c))return r(void 0,c)}function o(l,c){if(R.isUndefined(c)){if(!R.isUndefined(l))return r(void 0,l)}else return r(void 0,c)}function a(l,c,h){if(h in e)return r(l,c);if(h in t)return r(void 0,l)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,c)=>i(bx(l),bx(c),!0)};return R.forEach(Object.keys(t).concat(Object.keys(e)),function(c){const h=u[c]||i,f=h(t[c],e[c],c);R.isUndefined(f)&&h!==a||(n[c]=f)}),n}const YF="1.2.4",GS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{GS[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ex={};GS.transitional=function(e,n,r){function i(s,o){return"[Axios v"+YF+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ee(i(o," has been removed"+(n?" in "+n:"")),Ee.ERR_DEPRECATED);return n&&!Ex[o]&&(Ex[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function _Z(t,e,n){if(typeof t!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new Ee("option "+s+" must be "+u,Ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ee("Unknown option "+s,Ee.ERR_BAD_OPTION)}}const h1={assertOptions:_Z,validators:GS},ji=h1.validators;class Yp{constructor(e){this.defaults=e,this.interceptors={request:new mx,response:new mx}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$u(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&h1.assertOptions(r,{silentJSONParsing:ji.transitional(ji.boolean),forcedJSONParsing:ji.transitional(ji.boolean),clarifyTimeoutError:ji.transitional(ji.boolean)},!1),i!==void 0&&h1.assertOptions(i,{encode:ji.function,serialize:ji.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&R.merge(s.common,s[n.method]),o&&R.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=wi.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(u=u&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let c,h=0,f;if(!u){const p=[wx.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,l),f=p.length,c=Promise.resolve(n);h<f;)c=c.then(p[h++],p[h++]);return c}f=a.length;let d=n;for(h=0;h<f;){const p=a[h++],m=a[h++];try{d=p(d)}catch(b){m.call(this,b);break}}try{c=wx.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}getUri(e){e=$u(this.defaults,e);const n=KF(e.baseURL,e.url);return WF(n,e.params,e.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(e){Yp.prototype[e]=function(n,r){return this.request($u(r||{},{method:e,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request($u(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Yp.prototype[e]=n(),Yp.prototype[e+"Form"]=n(!0)});const Od=Yp;class KS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Zh(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new KS(function(i){e=i}),cancel:e}}}const IZ=KS;function TZ(t){return function(n){return t.apply(null,n)}}function kZ(t){return R.isObject(t)&&t.isAxiosError===!0}const f1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(f1).forEach(([t,e])=>{f1[e]=t});const CZ=f1;function JF(t){const e=new Od(t),n=wF(Od.prototype.request,e);return R.extend(n,Od.prototype,e,{allOwnKeys:!0}),R.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return JF($u(t,i))},n}const Tt=JF(HS);Tt.Axios=Od;Tt.CanceledError=Zh;Tt.CancelToken=IZ;Tt.isCancel=GF;Tt.VERSION=YF;Tt.toFormData=Jg;Tt.AxiosError=Ee;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=TZ;Tt.isAxiosError=kZ;Tt.mergeConfig=$u;Tt.AxiosHeaders=wi;Tt.formToJSON=t=>HF(R.isHTMLForm(t)?new FormData(t):t);Tt.HttpStatusCode=CZ;Tt.default=Tt;const Sx=Tt;function xZ({image:t,handleImageRemove:e=n=>n}){return v("img",{src:t.url,alt:t.public_id,style:{height:"100px"},className:"img-thumbnail m-3",onClick:()=>e(t.public_id)},t.public_id)}function YS({values:t,loading:e,setLoading:n,setValues:r}){const{state:i}=S.useContext(ni),{images:s}=t;S.useEffect(()=>{},[]);const o=l=>new Promise(c=>{a1.imageFileResizer(l,300,300,"JPEG",100,0,h=>{c(h)},"base64")}),a=async l=>{n(!0);try{const c=l.target.files[0],h=await o(c);Sx.post("https://jcolaco.dev/uploadimages",{image:h},{headers:{authtoken:i.user.token}}).then(f=>{n(!1),console.log("CLOUDINARY UPLOAD",f),r({...t,images:[...s,{...f.data,label:(t==null?void 0:t.label)||"",description:(t==null?void 0:t.description)||""}]})}).catch(f=>{n(!1),console.log("CLOUDINARY UPLOAD FAILED",f)})}catch(c){console.log(c)}},u=l=>{n(!0),Sx.post("https://jcolaco.dev/removeimage",{public_id:l},{headers:{authtoken:i.user.token}}).then(c=>{n(!1);let h=s.filter(f=>f.public_id!==l);r({...t,images:h})}).catch(c=>{n(!1),console.log(c)})};return I("div",{id:"FileUpload",children:[I("section",{className:"uploadSection",children:[I("label",{className:"uploadButton",children:["Upload Image",v("input",{hidden:!0,type:"file",accept:"image/*",onChange:a,placeholder:"Image"})]})," Or click on it to delete"]}),v("section",{className:"images",children:s==null?void 0:s.map(l=>v(xZ,{className:"image",image:l,handleImageRemove:u},l.public_id))})]})}function OZ({handleSubmit:t=a=>a,handleChange:e=a=>a,username:n="",name:r="",email:i="",about:s="",loading:o=!1}){return I("form",{className:"UserProfileForm",onSubmit:t,children:[I("section",{children:[v("label",{htmlFor:"username",children:"Username"}),v("input",{type:"text",name:"username",value:n||"",onChange:e,placeholder:"Username",disabled:o})]}),I("section",{children:[v("label",{htmlFor:"name",children:"Name"}),v("input",{type:"text",name:"name",value:r||"",onChange:e,placeholder:"Name",disabled:o})]}),I("section",{children:[v("label",{htmlFor:"email",children:"Email"}),v("input",{type:"text",name:"email",value:i||"",onChange:e,placeholder:"Email",disabled:!0})]}),I("section",{children:[v("label",{htmlFor:"about",children:"About"}),v("textarea",{name:"about",value:s||"",onChange:e,placeholder:"About",disabled:o})]}),v("button",{type:"submit",disabled:!i||o,children:"Submit"})]})}function NZ({loading:t=!0,setLoading:e=s=>s,values:n={},setValues:r=s=>s,userUpdate:i=s=>s}){return I("div",{className:"Settings",children:[v(YS,{values:n,loading:t,setValues:r,setLoading:e}),n&&v(OZ,{...n,loading:t,handleSubmit:a=>{a.preventDefault(),e(!0),i({variables:{input:n}}),e(!1)},handleChange:a=>{r({...n,[a.target.name]:a.target.value})}}),v(PasswordForgot,{}),v(PasswordUpdate,{})]})}function XF({name:t="",imageUrl:e=""}){return v("div",{className:"Badge1",children:I("figure",{referrerPolicy:"no-referrer",className:`profilePic ${t!==""?"":"flipH"}`,children:[!e&&aJ(t).toUpperCase(),v("img",{referrerPolicy:"no-referrer",src:e,alt:""})]})})}function AZ({loading:t=!0,values:e={}}){var n;return t?v("h4",{className:"text-danger",children:"Loading..."}):I("div",{className:"Home",children:[I("section",{className:"welcome",children:[I("h4",{children:["Welcome ",e.name]}),v(XF,{name:e.name,imageUrl:(n=e==null?void 0:e.images[0])==null?void 0:n.url})]}),v("section",{className:"greeting",children:I("p",{children:["Your account has been created. We're still under construction, but stay tuned for updates and exciting new features coming soon.",v("br",{}),v("br",{}),"Thank you for joining us, and we can't wait for you to be part of our journey.",v("br",{}),"Best regards,"]})})]})}function RZ({usersLoading:t=!0,gridListStyle:e="list",usersData:n=[]}){var s;const r=S.useRef();S.useEffect(()=>{console.log(e),i()},[e]);function i(){console.log(r.current),r.current.classList.toggle("tableView"),r.current.classList.toggle("gridView")}return t?v("h4",{children:"Loading..."}):v("div",{id:"ProductList",children:I("div",{ref:r,className:"products-area-wrapper tableView",children:[I("div",{className:"products-header",children:[I("div",{className:"product-cell image",children:["Users",v("button",{className:"sort-button",children:Lr.sort})]}),I("div",{className:"product-cell",children:["Status",v("button",{className:"sort-button",children:Lr.sort})]}),I("div",{className:"product-cell status",children:["Name",v("button",{className:"sort-button",children:Lr.sort})]}),I("div",{className:"product-cell flex-2",children:["About",v("button",{className:"sort-button",children:Lr.sort})]})]}),(s=n==null?void 0:n.allUsers)==null?void 0:s.map(o=>{var a;return I("div",{className:"products-row",children:[I("div",{className:"product-cell image",children:[v(XF,{name:o.name,imageUrl:(a=o==null?void 0:o.images[0])==null?void 0:a.url}),I("span",{children:["@",o.username]})]}),I("div",{className:"product-cell status",children:[v("span",{className:"cell-label",children:"Status:"}),v("span",{className:"status active",children:"active"})]}),I("div",{className:"product-cell",children:[v("span",{className:"cell-label",children:"Name:"}),o.name]}),I("div",{className:"product-cell flex-2",children:[v("span",{className:"cell-label",children:"About:"}),o.about]})]},o.email)})]})})}function PZ({operation:t="Add",inputError:e="",loading:n=!1,setLoading:r=c=>c,handleFormDisplayToggle:i=c=>c,handleFamilySubmit:s=c=>c,handleFamilyChange:o=c=>c,setInputFamily:a=c=>c,inputFamily:u={label:"",family:"",images:[]},optionsFamily:l={label:"",family:"",images:[]}}){return I("form",{id:"FormFamily",className:"displayNone",onSubmit:s,children:[v("span",{"data-form-id":"FormFamily",className:"close",onClick:i,children:"X"}),I("h3",{children:[t," family"]}),l.label!=="null"&&I("section",{disabled:l.label||n,children:[v("label",{htmlFor:"label",children:"*Label"}),v("input",{type:"text",disabled:l.label||n,value:l.label?l.label:u.label,onChange:o,name:"label",placeholder:"label"})]}),l.family!=="null"&&I("section",{disabled:l.family||n,children:[v("label",{htmlFor:"family",children:"Family"}),v("input",{name:"family",id:"family",disabled:l.family||n,value:l.family?l.family:u.family,placeholder:"family",onChange:o})]}),v(YS,{values:u,setValues:a,loading:n,setLoading:r}),v("span",{className:"formError",children:e&&v("p",{children:`Please add ${e}`})}),I("button",{type:"submit",disabled:n,children:[t," family"]})]})}function DZ({options:t=[],name:e="SelectionBox",disabled:n=!1,inputArticle:r={},setInputArticle:i=s=>s}){const[s,o]=S.useState(""),a=S.useRef();S.useEffect(()=>(document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}),[]),S.useEffect(()=>{i({...r,[e]:s.value})},[s]),S.useEffect(()=>{!t.filter(f=>f.value===r[e])[0]&&o("")},[r]);function u(h){a.current&&!a.current.contains(h.target)&&a.current.classList.contains("focus")&&a.current.classList.remove("focus")}const l=()=>{var h;(h=a.current)==null||h.classList.toggle("focus")},c=h=>{o(h)};return I("div",{className:"SelectionBox",onClick:l,children:[v("span",{name:e,disabled:n,value:s==null?void 0:s.value,onChange:h=>h,children:s.name}),v("ul",{ref:a,children:t.map(h=>v("li",{value:h.value,onClick:()=>c(h),children:h.name},h.value))})]})}function LZ({operation:t="Add",loading:e=!1,setLoading:n=h=>h,handleFormDisplayToggle:r=h=>h,inputError:i="",setInputError:s=h=>h,handleArticleSubmit:o=h=>h,handleArticleChange:a=h=>h,setInputArticle:u=h=>h,inputArticle:l={label:"",type:"",family:"",code:"",url:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",price_purchase:"",price_sale:"",images:[],services:[],related_codes:[],related_families:[],related_articles:[]},optionsArticle:c={code:"",label:"",type:"",family:"",url:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",images:[],services:[],price_purchase:"",price_sale:"",related_codes:[],related_families:[],related_articles:[]}}){const h=[{name:"document_blank",value:"document_blank"},{name:"product",value:"product"},{name:"images",value:"images"}];function f(d){d==null||d.preventDefault();let p="";(l==null?void 0:l.type)==="document_blank"?l.url||(p="an url path to the document"):(l==null?void 0:l.type)==="product"&&l.images.length>0&&(p="an image"),s(p),p||o()}return I("form",{id:"FormArticle",className:"displayNone",onSubmit:f,children:[v("span",{"data-form-id":"FormArticle",className:"close",onClick:r,children:"X"}),I("h3",{children:[t," article"]}),I("div",{className:"group",children:[c.label!=="null"&&I("section",{disabled:c.label||e,children:[v("label",{htmlFor:"label",children:"*Label"}),v("input",{type:"text",name:"label",value:c.label?c.label:l.label,onChange:a,placeholder:"label",disabled:c.label||e})]}),c.type!=="null"&&I("section",{disabled:c.type||e,children:[v("label",{htmlFor:"standard-select",children:"*Type"}),v(DZ,{options:h,name:"type",inputArticle:l,setInputArticle:u,disabled:c.type||e})]}),c.family!=="null"&&I("section",{disabled:c.family||e,children:[v("label",{htmlFor:"family",children:"*Family"}),v("input",{type:"text",name:"family",value:c.family?c.family:l.family,onChange:a,placeholder:"family",disabled:c.family||e})]}),c.url!=="null"&&I("section",{disabled:c.url||e,children:[I("label",{htmlFor:"url",children:[(l==null?void 0:l.type)=="document_blank"&&"*","Url"]}),v("input",{type:"text",name:"url",value:c.url?c.url:l.url,onChange:a,placeholder:"url",disabled:c.url||e})]})]}),I("div",{className:"group",children:[c.code!=="null"&&I("section",{disabled:c.code||e,children:[v("label",{htmlFor:"code",children:"Code"}),v("input",{type:"text",name:"code",value:c.code?c.code:l.code,onChange:a,placeholder:"code",disabled:c.code||e})]}),c.about!=="null"&&I("section",{disabled:c.about||e,children:[v("label",{htmlFor:"about",children:"About"}),v("input",{type:"text",name:"about",value:c.about?c.about:l.about,onChange:a,placeholder:"about",disabled:c.about||e})]}),c.abbr!=="null"&&I("section",{disabled:c.abbr||e,children:[v("label",{htmlFor:"abbr",children:"Abbr"}),v("input",{type:"text",name:"abbr",value:c.abbr?c.abbr:l.abbr,onChange:a,placeholder:"abbr",disabled:c.abbr||e})]}),c.brand!=="null"&&I("section",{disabled:c.brand||e,children:[v("label",{htmlFor:"brand",children:"Brand"}),v("input",{type:"text",name:"brand",value:c.brand?c.brand:l.brand,onChange:a,placeholder:"brand",disabled:c.brand||e})]}),c.supplier!=="null"&&I("section",{disabled:c.supplier||e,children:[v("label",{htmlFor:"supplier",children:"Supplier"}),v("input",{type:"text",name:"supplier",value:c.supplier?c.supplier:l.supplier,onChange:a,placeholder:"supplier",disabled:c.supplier||e})]}),c.supplierRef!=="null"&&I("section",{disabled:c.supplierRef||e,children:[v("label",{htmlFor:"supplierRef",children:"SupplierRef"}),v("input",{type:"text",name:"supplierRef",value:c.supplierRef?c.supplierRef:l.supplierRef,onChange:a,placeholder:"supplierRef",disabled:c.supplierRef||e})]}),c.notes!=="null"&&I("section",{disabled:c.notes||e,children:[v("label",{htmlFor:"notes",children:"Notes"}),v("input",{type:"text",name:"notes",value:c.notes?c.notes:l.notes,onChange:a,placeholder:"notes",disabled:c.notes||e})]}),c.price_purchase!=="null"&&I("section",{disabled:c.price_purchase||e,children:[v("label",{htmlFor:"price_purchase",children:"Purchase price"}),v("input",{type:"text",name:"price_purchase",value:c.price_purchase?c.price_purchase:l.price_purchase,onChange:a,placeholder:"purchase price",disabled:c.price_purchase||e})]}),c.price_sale!=="null"&&I("section",{disabled:c.price_sale||e,children:[v("label",{htmlFor:"price_sale",children:"Sale price"}),v("input",{type:"text",name:"price_sale",value:c.price_sale?c.price_sale:l.price_sale,onChange:a,placeholder:"sale price",disabled:c.price_sale||e})]})]}),v(YS,{values:l,setValues:u,loading:e,setLoading:n}),v("span",{className:"formError",children:i&&v("p",{children:`Please add ${i}`})}),I("button",{type:"submit",disabled:e,children:[t," article"]})]})}const FZ="640f0fdfeeadf8b0f5d5cf64";function MZ({handleFamilyClick:t=i=>i,crumbs:e=[],baseUrl:n=`${re.path}`,startPath:r=""}){return I("div",{className:"FamilyBreadCrumbs",children:[(e==null?void 0:e.length)>0?v(ft,{className:"breadcrumb","data-id":FZ,onClick:t,to:`${n}${r}`,children:"Incio"}):v("div",{children:v("span",{children:"Incio"})}),e&&e.map((i,s)=>I("div",{children:[v("span",{children:">"}),s<(e==null?void 0:e.length)-1?v(ft,{"data-id":i._id,onClick:t,to:`${n}/${e==null?void 0:e.slice(0,s+1).map(o=>uJ(o.label)).join("/")}`,children:i.label},s):v("span",{children:i.label})]},s))]})}function $Z({headerHeight:t}){const e=S.useRef(),[n,r]=S.useState(!1),[i,s]=S.useState(""),[o,a]=S.useState([]),[u,l]=S.useState(""),[c,h]=S.useState("640f0fdfeeadf8b0f5d5cf64"),[f,d]=S.useState({label:"",family:"",images:[]}),[p,m]=S.useState({code:"",label:"",type:"",family:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",images:[],services:[],price_purchase:"",price_sale:"",related_codes:[],related_families:[],related_articles:[]}),[b,{data:g,loading:y,error:w,refetch:E,called:_}]=Rf(RJ,{variables:{familyId:c},onError:Q=>{console.error("error: ",Q)}}),[T]=mh(_J,{onCompleted:()=>console.log("Family created"),onError:Q=>console.error("Family create error: ",Q)}),[k]=mh(SJ,{onCompleted:()=>console.log("Article created"),onError:Q=>console.error("Article create error: ",Q)}),[x,{data:M,loading:C,error:ae}]=Rf(OJ,{onError:Q=>console.error("family from Family query error: ",Q),variables:{familyId:c}}),[me,{data:he,loading:G,error:fe}]=Rf(NJ,{onError:Q=>console.error("parents from Family query error: ",Q),variables:{familyId:c}}),[ie,{data:X,loading:P,error:Y}]=Rf(AJ,{onError:Q=>console.error("articles from Family query error: ",Q),variables:{familyId:c}});S.useEffect(()=>{let Q=Array.from(e.current.querySelectorAll(".familyName"));Q==null||Q.map(Ae=>Ae.style.top=`${t+2}px`);let Oe=Array.from(e.current.querySelectorAll(".familySubName"));Oe==null||Oe.map(Ae=>Ae.style.top=`${t+50}px`)},[t]),S.useEffect(()=>{X!=null&&X.articlesFromFamily&&X.articlesFromFamily&&a(oJ(X.articlesFromFamily))},[X]),S.useEffect(()=>{d({...f,family:g==null?void 0:g.singleFamily._id}),m({...p,family:g==null?void 0:g.singleFamily._id})},[g]),S.useEffect(()=>{E({familyId:c}),ie({familyId:c}),x({familyId:c}),me({familyId:c})},[c]);const B=Q=>{d({...f,[Q.target.name]:Q.target.value})},ue=Q=>{m({...p,[Q.target.name]:Q.target.value})},q=Q=>{var Ir;Q==null||Q.preventDefault(),r(!0);const Oe={...f,family:g?g.singleFamily._id:"640f0fdfeeadf8b0f5d5cf64"};let Ae="";Oe.label?Oe.family?!(Oe!=null&&Oe.images.length)>0&&(Ae="an image"):Ae="a family":Ae="a label",l(Ae),Ae||(T({variables:{input:Oe}}),(Ir=e.current.querySelector("#FormFamily"))==null||Ir.classList.add("displayNone")),r(!1)},Ie=()=>{d({label:"",family:"",images:[]}),m({code:"",label:"",type:"",family:"",about:"",abbr:"",brand:"",supplier:"",supplierRef:"",notes:"",images:[],services:[],price_purchase:"",price_sale:"",related_codes:[],related_families:[],related_articles:[]})},Te=Q=>{var Ir;Q==null||Q.preventDefault(),r(!0);const Oe={...p,family:g?g.singleFamily._id:"640f0fdfeeadf8b0f5d5cf64"};let Ae="";Oe.label?Oe.family?Oe.type?!(Oe!=null&&Oe.images.length)>0&&(Ae="an image"):Ae="a type":Ae="a family":Ae="a label",l(Ae),Ae||(console.log(Oe),k({variables:{input:Oe}}),(Ir=e.current.querySelector("#FormArticle"))==null||Ir.classList.add("displayNone")),r(!1)},xe=Q=>{Q==null||Q.preventDefault(),e.current.querySelector(`#${Q.currentTarget.dataset.formId}`).classList.toggle("displayNone"),Ie(),s(Q.currentTarget.dataset.operation||""),l("")},ge=Q=>{Q==null||Q.preventDefault(),h(Q.currentTarget.dataset.id)};return I("div",{ref:e,id:"Stock",children:[v("h2",{className:"familyName",children:v(MZ,{startPath:"/dashboard",handleFamilyClick:ge,crumbs:he==null?void 0:he.parentsFromFamily})}),I("button",{"data-form-id":"FormFamily","data-operation":"add",onClick:xe,children:[v("span",{}),v("p",{children:"Add Family"})]}),v("section",{className:"submitForm",children:v(PZ,{operation:i,inputError:u,loading:n,setLoading:r,handleFormDisplayToggle:xe,handleFamilySubmit:q,handleFamilyChange:B,setInputFamily:d,inputFamily:f,optionsFamily:{family:g?g.singleFamily.label:"Incio"}})}),I("section",{children:[v("h3",{className:"familySubName",children:"Familias de artigos: "}),(M==null?void 0:M.familiesFromFamily)&&M.familiesFromFamily.map(Q=>{var Oe;return I("article",{className:"family",children:[I("figure",{"data-id":Q._id,onClick:ge,children:[v("img",{src:(Q==null?void 0:Q.images)&&((Oe=Q==null?void 0:Q.images[0])==null?void 0:Oe.url),alt:Q.label}),v("figcaption",{children:Q.label})]}),I("footer",{className:"actionButtons",children:[v("button",{"data-operation":"update","data-form-id":"FormFamily",onClick:xe,className:"update",children:"Update"}),v("button",{"data-operation":"delete","data-form-id":"FormFamily",onClick:xe,className:"delete",children:"Delete"})]})]},Q._id)})]}),v("h3",{className:"familySubName",children:"Artigos"}),I("button",{"data-form-id":"FormArticle",onClick:xe,children:[v("span",{}),v("p",{children:"Add Article"})]}),v("section",{className:"submitForm",children:v(LZ,{operation:i,inputError:u,setInputError:l,loading:n,setLoading:r,handleFormDisplayToggle:xe,handleArticleSubmit:Te,handleArticleChange:ue,setInputArticle:m,inputArticle:p,optionsArticle:{family:g?g.singleFamily.label:"Incio"}})}),o==null?void 0:o.map((Q,Oe)=>I("div",{children:[v("h3",{children:Q[0].type==="document_blank"?"Catalogos":Q[0].type==="product"?"Produtos":Q[0].type}),v("section",{children:Q==null?void 0:Q.map((Ae,Ir)=>{var ii;return I("article",{className:"article","data-id":Ae._id,children:[v("img",{src:(Ae==null?void 0:Ae.images)&&((ii=Ae==null?void 0:Ae.images[0])==null?void 0:ii.url),alt:Ae.label}),v("p",{children:Ae.label})]},Ae._id)})})]},Oe))]})}function UZ(){var x;const t=S.useRef(),[e,n]=S.useState("list"),[r,i]=S.useState(0),[s,o]=S.useState(!0),a=dg(M=>M.headerHeight),{state:u}=S.useContext(ni),{user:l}=u,[c,h]=S.useState({username:"",name:"",email:"",about:"",images:[]}),[f,d]=S.useState(!1),{data:p,loading:m,error:b}=DC(CJ),{data:g,loading:y,error:w,refetch:E}=DC(xJ);S.useMemo(()=>{var M,C;E(),console.log(g),g&&h({...c,username:g.profile.username,name:g.profile.name,email:g.profile.email,about:(M=g.profile)==null?void 0:M.about,images:(C=g.profile)==null?void 0:C.images})},[g]);const[_]=mh(EJ,{update:({profileData:M})=>{console.log("USER UPDATE MUTATION IN PROFILE",M),Ue.success("Profile updated")}});S.useEffect(()=>{var M;(M=t.current)!=null&&M.querySelector(".sidebar-list")&&(t.current.querySelector(".sidebar-list").style.top=`${a}px`),console.log(u)},[a]);const T=[{type:"public",icon:Lr.home,label:"Office",element:v(AZ,{loading:f,values:c})},{type:"public",icon:Lr.pieChart,label:"Settings",element:v(NZ,{loading:f,setLoading:d,values:c,setValues:h,userUpdate:_})},{type:"public",icon:Lr.notifications,label:"Notifications",element:v(vh,{})},{type:"admin",icon:Lr.products,label:"Users",element:v(RZ,{usersLoading:m,usersData:p,gridListStyle:e})},{type:"admin",icon:Lr.inbox,label:"Stock",element:v($Z,{headerHeight:a})}],k=()=>l.email==="o.churrasco.online@gmail.com";return y?v("div",{children:"Loading..."}):v("div",{id:"Dashboard",children:I("div",{ref:t,className:"app-container",children:[v(DJ,{pageIndex:r,setPageIndex:i,accountPages:k()?T:T.filter(M=>M.type==="public")}),I("div",{className:"app-content",children:[v(LJ,{title:T[r].label,darkMode:s,setDarkMode:o}),((x=T[r])==null?void 0:x.label)==="Users"&&v(FJ,{gridListStyle:e,setGridListStyle:n}),T[r].element]})]})})}const VZ=[{type:"1",label:"da Casa"},{type:"2",label:"Douro"},{type:"3",label:"Alentejo"},{type:"4",label:"Do"},{type:"5",label:"Verdes"},{type:"6",label:"Terras do Sado"},{type:"7",label:"Ross"},{type:"8",label:"Espumantes"}],jZ=[{id:"1",family:"menu",type:"1",label:"Jarro 1L (Branco e tinto)",notes:"",price:"12.00"},{id:"2",family:"menu",type:"1",label:"Sangria 1L (Branca e tinta)",notes:"",price:"12.00"},{id:"3",family:"menu",type:"2",label:"Esteva 0,75 L",notes:"",price:"12.00"},{id:"4",family:"menu",type:"2",label:"Esteva 0,375 L",notes:"",price:"12.00"},{id:"5",family:"menu",type:"2",label:"Castelo D'Alba",notes:"",price:"12.00"},{id:"6",family:"menu",type:"2",label:"Quinda da Leda (Casa Ferreirinha)",notes:"",price:"12.00"},{id:"7",family:"menu",type:"2",label:"Duas Quintas (Ramos Pinto)",notes:"",price:"12.00"},{id:"8",family:"menu",type:"2",label:"Crasto",notes:"",price:"12.00"},{id:"9",family:"menu",type:"2",label:"Planalto",notes:"",price:"12.00"},{id:"10",family:"menu",type:"3",label:"Adega de Borba",notes:"",price:"12.00"},{id:"11",family:"menu",type:"3",label:"Defesa",notes:"",price:"12.00"},{id:"12",family:"menu",type:"3",label:"Esporo (Reserva)",notes:"",price:"12.00"},{id:"13",family:"menu",type:"3",label:"Monte dos Pelados",notes:"",price:"12.00"},{id:"14",family:"menu",type:"3",label:"Solar dos Lobos",notes:"",price:"12.00"},{id:"15",family:"menu",type:"3",label:"Monte Velho",notes:"",price:"12.00"},{id:"16",family:"menu",type:"3",label:"Dom Rafael (Herdade do Moucho)",notes:"",price:"12.00"},{id:"17",family:"menu",type:"4",label:"Duque de Viseu",notes:"",price:"12.00"},{id:"18",family:"menu",type:"4",label:"Gro Vasco Do",notes:"",price:"12.00"},{id:"19",family:"menu",type:"5",label:"Casal Garcia",notes:"",price:"12.00"},{id:"21",family:"menu",type:"5",label:"Gazela 0,75 L",notes:"",price:"12.00"},{id:"22",family:"menu",type:"5",label:"Gazela 0,375 L",notes:"",price:"12.00"},{id:"23",family:"menu",type:"5",label:"Muralhas",notes:"",price:"12.00"},{id:"24",family:"menu",type:"5",label:"Ponte Lima",notes:"",price:"12.00"},{id:"25",family:"menu",type:"5",label:"Quinta de Aveleda",notes:"",price:"12.00"},{id:"26",family:"menu",type:"5",label:"Quinta da Lixa",notes:"",price:"12.00"},{id:"27",family:"menu",type:"6",label:"D. Ermelinda",notes:"",price:"12.00"},{id:"28",family:"menu",type:"6",label:"JP",notes:"",price:"12.00"},{id:"29",family:"menu",type:"6",label:"Periquita",notes:"",price:"12.00"},{id:"30",family:"menu",type:"6",label:"Quinta de Camarate",notes:"",price:"12.00"},{id:"31",family:"menu",type:"6",label:"Terras do P",notes:"",price:"12.00"},{id:"32",family:"menu",type:"6",label:"NSE",notes:"",price:"12.00"},{id:"33",family:"menu",type:"7",label:"Casal Mendes",notes:"",price:"12.00"},{id:"34",family:"menu",type:"7",label:"Mateus Ros",notes:"",price:"12.00"},{id:"35",family:"menu",type:"7",label:"Periquita",notes:"",price:"12.00"},{id:"36",family:"menu",type:"8",label:"Asti",notes:"",price:"12.00"},{id:"37",family:"menu",type:"8",label:"Fita Azul",notes:"",price:"12.00"},{id:"38",family:"menu",type:"8",label:"Valmarone",notes:"",price:"12.00"}],BZ=[{type:"1",label:"Refrigerantes"},{type:"2",label:"Alcool"},{type:"3",label:""}],qZ=[{id:"101",family:"menu",type:"1",label:"Coca-Cola",notes:"",price:"12.00"},{id:"102",family:"menu",type:"1",label:"Coca-Cola zero",notes:"",price:"12.00"},{id:"103",family:"menu",type:"1",label:"Sprite",notes:"",price:"12.00"},{id:"104",family:"menu",type:"1",label:"Sprite zero",notes:"",price:"12.00"},{id:"105",family:"menu",type:"1",label:"Fanta laranja",notes:"",price:"12.00"},{id:"106",family:"menu",type:"1",label:"Fanta laranja zero",notes:"",price:"12.00"},{id:"107",family:"menu",type:"1",label:"gua Tnica",notes:"",price:"12.00"},{id:"108",family:"menu",type:"2",label:"fino de cerveja",notes:"",price:"12.00"},{id:"109",family:"menu",type:"2",label:"caneca de cerveja",notes:"",price:"12.00"},{id:"110",family:"menu",type:"2",label:"Copo de vinho",notes:"",price:"12.00"}],zZ=[{type:"1",label:"Doces"},{type:"2",label:"Frutas"},{type:"3",label:"da Casa"}],WZ=[{id:"201",family:"menu",type:"1",label:"Pudim Flan",notes:"",price:"12.00"},{id:"202",family:"menu",type:"1",label:"Mousse de Chocolate",notes:"",price:"12.00"},{id:"203",family:"menu",type:"3",label:"Tachinho da casa",notes:"",price:"12.00"},{id:"203",family:"menu",type:"1",label:"Torta de Laranja",notes:"",price:"12.00"},{id:"204",family:"menu",type:"1",label:"",notes:"",price:"12.00"},{id:"205",family:"menu",type:"1",label:"Toucinho do cu",notes:"",price:"12.00"},{id:"206",family:"menu",type:"1",label:"Trocha de ovos",notes:"",price:"12.00"},{id:"207",family:"menu",type:"2",label:"Ma assada",notes:"",price:"12.00"},{id:"208",family:"menu",type:"2",label:"Salada de frutas",notes:"",price:"12.00"},{id:"209",family:"menu",type:"3",label:"Pudim Flan (Mestre Chico)",notes:"",price:"12.00"},{id:"210",family:"menu",type:"1",label:"",notes:"",price:"12.00"}],QZ=[{type:"1",label:"Especialidade na brasa"},{type:"2",label:"Frutos do mar"},{type:"4",label:"Entradas e saladas"},{type:"3",label:"Carnes da cozinha"},{type:"5",label:"Guarnies extra"}],HZ=[{id:"301",family:"menu",type:"1",label:"Espetada de carnes",notes:"Espetada de carnes com legumes e arroz branco",price:"12.00"},{id:"302",family:"menu",type:"1",label:"Entrecte de vaca (costela)",notes:"Entrecte de vaca grelhado com batata frita e salada",price:"25.50"},{id:"303",family:"menu",type:"1",label:"Costeletas de borrego",notes:"Costeletas de borrego com molho de hortel, legumes e batata gratinada",price:"14.50"},{id:"304",family:"menu",type:"1",label:"Medalhes de porco c/ bacon",notes:"Medalhes de porco com bacon, cogumelos, pur de batata e legumes",price:"13.00"},{id:"305",family:"menu",type:"1",label:"Entrecosto Marinado",notes:"Entrecosto marinado com batata frita, arroz e salada",price:"9.50"},{id:"306",family:"menu",type:"1",label:"Lombo de Vaca",notes:"Lombo de vaca grelhado com molho de pimenta verde, batata frita e salada",price:"22.00"},{id:"307",family:"menu",type:"1",label:"Rump Steak (Vazia)",notes:"Rump steak grelhado com batata frita e legumes",price:"13.00"},{id:"308",family:"menu",type:"1",label:"Lombinho de Porco",notes:"Lombinho de porco grelhado com molho de cogumelos, arroz e legumes",price:"13.00"},{id:"309",family:"menu",type:"1",label:"Churrasco de Coelho",notes:"Churrasco de coelho com batata frita, arroz e salada",price:"13.00"},{id:"310",family:"menu",type:"1",label:"1/2 Frango no Espeto",notes:"Meio frango no espeto com batata frita e salada",price:"13.00"},{id:"311",family:"menu",type:"1",label:"Frango no Espeto",notes:"Frango inteiro no espeto com batata frita e salada",price:"13.00"},{id:"312",family:"menu",type:"2",label:"Polvo Lagareiro",notes:"Polvo grelhado com azeite, alho e batata a murro",price:"13.00"},{id:"313",family:"menu",type:"3",label:"Carne de Porco Alentejana",notes:"",price:"13.00"},{id:"314",family:"menu",type:"2",label:"Gambas Grelhadas ou Cozidas (Kg)",notes:"Deliciosas gambas grelhadas ou cozidas com ingredientes selecionados, apresentadas em pores de 1kg.",price:"13.00"},{id:"315",family:"menu",type:"2",label:"Camaro Tigre Grelhado (Kg)",notes:"Camaro Tigre Grelhado com temperos especiais, servido em pores de 1kg.",price:"13.00"},{id:"316",family:"menu",type:"2",label:"Lulas na Grelha",notes:"Lulas frescas grelhadas com um toque de alho e ervas, perfeitas para um jantar especial.",price:"13.00"},{id:"317",family:"menu",type:"2",label:"Salmo Grelhado",notes:"Salmo fresco grelhado com legumes crocantes e temperos especiais, servido com molho de limo.",price:"13.00"},{id:"318",family:"menu",type:"2",label:"Lulas e Gambas c/Bacon Plancha",notes:"Uma combinao deliciosa de lulas, gambas e bacon, perfeitamente grelhados e temperados, apresentados em pores generosas.",price:"13.00"},{id:"319",family:"menu",type:"2",label:"Bacalhau Moda de Viana",notes:"Bacalhau de alta qualidade cozido com batatas, cebolas e pimentos, temperado com azeite e servido com azeitonas e ovos cozidos.",price:"13.00"},{id:"320",family:"menu",type:"3",label:"O Nosso Bife Especial",notes:"Um bife suculento e saboroso, grelhado na perfeio e servido com batatas fritas e legumes frescos da poca.",price:"13.00"},{id:"321",family:"menu",type:"3",label:"Strogonoff de Vaca",notes:"Carne de vaca tenra e suculenta cozida em molho de creme de leite com cogumelos e servida com arroz e batata palha.",price:"13.00"},{id:"322",family:"menu",type:"3",label:"Caril de Frango Indiana",notes:"Frango macio cozido em molho de caril aromtico com legumes frescos, servido com arroz basmati.",price:"13.00"},{id:"323",family:"menu",type:"3",label:"Escalopes de Vaca ao Madeira",notes:"Deliciosos escalopes de vaca acompanhados com um molho de vinho Madeira e cogumelos frescos.",price:"13.00"},{id:"324",family:"menu",type:"4",label:"Salada Primavera",notes:"Uma deliciosa salada fresca com alface, tomate, cenoura, pepino e vinagrete.",price:"13.00"},{id:"325",family:"menu",type:"4",label:"Cocktail de Gambas",notes:"Camaro cozido, servido com um molho rosa e guarnecido com alface, tomate e limo.",price:"13.00"},{id:"326",family:"menu",type:"4",label:"Sopa de Gambas",notes:"Uma sopa rica e cremosa de gambas, com um toque de coentros.",price:"13.00"},{id:"327",family:"menu",type:"4",label:"Cogumelos Frescos Salt. c/Presunto",notes:"Cogumelos frescos salteados com alho e presunto, temperados com ervas aromticas.",price:"13.00"},{id:"328",family:"menu",type:"4",label:"Salada Especial",notes:"Uma salada com ingredientes frescos e variados, como alface, rcula, tomate seco, queijo feta, nozes e vinagrete balsmico.",price:"13.00"},{id:"329",family:"menu",type:"4",label:"Espargos frios c/ Mayonaise",notes:"Espargos frescos cozidos, servidos com maionese caseira e um toque de limo.",price:"13.00"},{id:"330",family:"menu",type:"4",label:"Ameijoas Bulho Pato",notes:"Ameijoas frescas cozidas em um molho de alho e coentros.",price:"13.00"},{id:"331",family:"menu",type:"4",label:"Gambas al Ajillo",notes:"Camaro salteado com alho e azeite, temperado com pimento e um toque de limo.",price:"13.00"},{id:"332",family:"menu",type:"4",label:"Salmo Fumado Aromatizado",notes:"Salmo fumado com um toque de ervas aromticas, servido com torradas de po integral.",price:"13.00"},{id:"333",family:"menu",type:"4",label:"Presunto Serrano",notes:"Delicioso presunto serrano fatiado, acompanhado com po e azeitonas.",price:"13.00"},{id:"334",family:"menu",type:"5",label:"Esparregado",notes:"Feito com espinafres, azeite e alho",price:"13.00"},{id:"335",family:"menu",type:"5",label:"Batatas Fritas",notes:"Batatas cortadas em palitos finos e fritas at ficarem douradas",price:"13.00"},{id:"336",family:"menu",type:"5",label:"Grelos Salteados",notes:"Grelos salteados em azeite e alho",price:"13.00"}],_x=[{type:"0",label:"Main dishes",types:QZ,articles:HZ},{type:"1",label:"Desserts",types:zZ,articles:WZ},{type:"2",label:"Beverages",types:BZ,articles:qZ},{type:"3",label:"Wines",types:VZ,articles:jZ}];function ZF(){const[t,e]=S.useState(null);S.useEffect(()=>{const o="ordersDB",u=indexedDB.open(o,1);u.onerror=function(l){console.log("Error opening database:",l.target.errorCode)},u.onsuccess=function(l){e(l.target.result)},u.onupgradeneeded=function(l){l.target.result.createObjectStore("orders",{keyPath:"id",autoIncrement:!0})}},[]);function n(o){t&&t.transaction("orders","readwrite").objectStore("orders").add(o)}function r(o){t&&t.transaction("orders","readwrite").objectStore("orders").put(o)}function i(o){t&&t.transaction("orders","readwrite").objectStore("orders").delete(o)}function s(o){if(t){const u=t.transaction("orders","readonly").objectStore("orders").getAll();u.onsuccess=function(l){o(l.target.result)}}}return[n,r,i,s]}function eM({handleOrderSubmit:t,handleDeleteOrder:e,menuOrders:n=[],dateStamp:r,opened:i=!1}){const[s,o]=S.useState("0"),[a,u]=S.useState(!1);S.useMemo(()=>{let p="0";n==null||n.map(m=>m==null?void 0:m.map(b=>p=f([p,d([b.price,b.qty.toString()])]))),o(p),u(!1)},[n]);const l=p=>{p.preventDefault(),p.currentTarget.parentElement.classList.toggle("open")};function c(p){var m="",b=new Date(p);return m+=b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate()+" "+b.getHours()+":"+b.getMinutes()+"h",m}function h(p){p.preventDefault(),u(!0),e()}function f(p){const m=/(\d+(?:[,.]\d+)?)/g;return p.flatMap(y=>y.match(m)).map(y=>parseFloat(y.replace(",","."))).reduce((y,w)=>y+w,0).toFixed(2)}function d(p){const m=/(\d+(?:[,.]\d+)?)/g;return p.flatMap(y=>y.match(m)).map(y=>parseFloat(y.replace(",","."))).reduce((y,w)=>y*w,1).toFixed(2)}return I("section",{className:`OrderInfo ${i?"open":""}`,children:[v("figure",{onClick:l}),r&&v("span",{className:"dateStamp",children:c(r)}),I("article",{children:[v("h3",{children:"Order info"}),I("div",{children:[n==null?void 0:n.map((p,m)=>(p==null?void 0:p.length)>0&&v("ul",{children:p==null?void 0:p.map((b,g)=>I("li",{className:"menuTab",children:[v("div",{className:"bold",children:`${b.qty}x`}),v("span",{children:b.label}),v("span",{children:b.price})]},g))},m)),I("ul",{children:[I("li",{className:"menuTab totalPrice",children:[v("span",{children:"Total:"}),I("span",{children:[s,""]}),typeof t=="function"&&v("button",{disabled:parseInt(s)<=0,className:"rectangleButton",onClick:t,children:"Save Order"})]}),typeof e=="function"&&v("li",{className:"menuTab",children:v("button",{disabled:a,onClick:h,className:"rectangleButton deleteButton",children:"Delete"})})]})]})]})]})}function GZ(){var c,h;const[t]=ZF(),[e,n]=S.useState("0"),[r,i]=S.useState([]),[s,o]=S.useState(_x),a=f=>{f.preventDefault();const d={...s[parseInt(e)],articles:[s[parseInt(e)].articles.map(p=>p.id===f.currentTarget.dataset.id?f.currentTarget.dataset.action==="add"?{...p,qty:p!=null&&p.qty?p.qty+1:1}:{...p,qty:p!=null&&p.qty?p.qty-1:0}:p)][0]};o(s==null?void 0:s.map(p=>p.type===d.type?d:p))};S.useEffect(()=>{i(s==null?void 0:s.map(f=>f==null?void 0:f.articles.map(d=>d!=null&&d.qty&&(d==null?void 0:d.qty)!==0?d:null).filter(d=>d!==null)))},[s]);const u=f=>{f.preventDefault(),sJ(),n(f.currentTarget.dataset.selection)},l=f=>{f.preventDefault();const d=r.filter(p=>p.length>0&&p);d.length>0&&(t({orders:d,dateStamp:Date.now()}),i([]),o(_x))};return I("div",{className:"Menu",children:[(r==null?void 0:r.length)>0&&v(eM,{handleOrderSubmit:l,menuOrders:r}),v("h2",{children:"Menu"}),v("section",{className:"menuSelect",children:v("ul",{children:s==null?void 0:s.map((f,d)=>v("li",{className:`${e===f.type?"active":""}`,"data-selection":f.type,onClick:u,children:f.label},d))})}),v("main",{children:(h=(c=s[parseInt(e)])==null?void 0:c.types)==null?void 0:h.map((f,d)=>{var p;return I("section",{children:[v("h3",{children:f.label}),(p=s[parseInt(e)].articles)==null?void 0:p.map((m,b)=>m.type===f.type&&I("article",{className:`${(m==null?void 0:m.qty)&&(m==null?void 0:m.qty)!=0&&"active"}`,children:[I("div",{className:"menuTab",children:[(m==null?void 0:m.qty)>0&&v("button",{"data-action":"sub","data-id":m.id,onClick:a,children:"-"}),v("div",{className:"bold",children:m!=null&&m.qty?`${m.qty}x`:""}),v("span",{children:m.label}),v("span",{children:m.price}),v("button",{"data-action":"add","data-id":m.id,onClick:a,children:"+"})]}),v("span",{children:m.notes})]},b))]},d)})})]})}function KZ(){const[t,e]=S.useState(!1),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState("reservation"),[u,l]=S.useState(""),[c,h]=S.useState(""),[f,d]=S.useState(""),[p,m]=S.useState(""),b=S.useRef(),g=S.useRef();function y(){let C="";return u.trim()===""?C="a mensagem":gF(n.trim())?o.trim()===""?C="o assunto":i.trim()===""?C="os lugares":c.trim()===""?C="o nome":US(f.trim())?C="":C="o email":C="o telefone",m(C),C===""}function w(){h(""),d(""),r(""),s(""),l("")}const E=C=>{C.preventDefault(),y()&&(e(!0),setTimeout(()=>{w(),e(!1)},"20000"))};function _(C){h(C.target.value),p==="o nome"&&C.target.value&&m("")}function T(C){C.target.value.length<10&&(r(C.target.value),p==="o telefone"&&C.target.value&&m(""))}function k(C){C.target.value.length<3&&(s(C.target.value),p==="os lugares"&&C.target.value&&m(""))}function x(C){l(C.target.value),p==="a mensagem"&&C.target.value&&m("")}function M(C){d(C.target.value),p==="o email"&&C.target.value&&m("")}return v("div",{className:"ReservationFormVintage",children:I("div",{id:"container",children:[v("h1",{children:" Book a reservation "}),v("div",{className:"underline"}),v("div",{className:"icon_wrapper",children:I("svg",{className:"icon",viewBox:"0 0 145.192 145.192",children:[v("path",{d:"M126.82,32.694c-2.804,0-5.08,2.273-5.08,5.075v2.721c-1.462,0-2.646,1.185-2.646,2.647v1.995    c0,1.585,1.286,2.873,2.874,2.873h20.577c1.462,0,2.646-1.185,2.646-2.647v-3.041c0-1.009-0.816-1.825-1.823-1.825v-2.722    c0-2.802-2.276-5.075-5.079-5.075h-1.985v-3.829c0-3.816-3.095-6.912-6.913-6.912h-0.589h-20.45c0-2.67-2.164-4.835-4.833-4.835    H56.843c-2.67,0-4.835,2.165-4.835,4.835H34.356v-3.384h-9.563v3.384v1.178h-7.061v1.416c-2.67,0.27-10.17,1.424-13.882,5.972    c-1.773,2.17-2.44,4.791-1.983,7.793c0.463,3.043,1.271,6.346,2.128,9.841c2.354,9.616,5.024,20.515,0.549,28.077    C2.647,79.44-3.125,90.589,2.201,99.547c4.123,6.935,13.701,10.44,28.5,10.44c1.186,0,2.405-0.023,3.658-0.068v9.028h-0.296    c-2.516,0-4.558,2.039-4.558,4.558v4.566h100.04v-4.564c0-2.519-2.039-4.558-4.558-4.558h-0.297V84.631h0.297    c2.519,0,4.558-2.037,4.558-4.556v-0.009c0-2.516-2.039-4.556-4.556-4.556l-36.786-0.009V61.973c0-2.193-1.777-3.971-3.972-3.971    v-4.711h0.456c1.629,0,2.952-1.32,2.952-2.949h14.227V34.459h1.658c2.672,0,4.834-2.165,4.834-4.834h20.45v3.069H126.82z     M34.06,75.511c-2.518,0-4.558,2.04-4.558,4.556v0.009c0,2.519,2.042,4.556,4.558,4.556h0.296v24.12l-0.042-1.168    c-15.994,0.574-26.122-2.523-30.106-9.229C-0.464,90.5,4.822,80.347,6.55,77.423c4.964-8.382,2.173-19.774-0.29-29.825    c-0.843-3.442-1.639-6.696-2.088-9.638c-0.354-2.35,0.129-4.3,1.484-5.958c3.029-3.714,9.509-4.805,12.076-5.1v1.233h7.061v1.49    v2.684c-2.403,1.114-4.153,2.997-4.676,5.237H18.15c-0.584,0-1.056,0.474-1.056,1.056v0.83c0,0.584,0.475,1.056,1.056,1.056h1.984    c0.561,2.18,2.304,3.999,4.658,5.092v0.029c0,0-2.282,20.823,16.479,22.099v1.102c0,1.177,0.955,2.133,2.133,2.133h3.297    c1.178,0,2.133-0.956,2.133-2.133V50.135c0-1.177-0.955-2.132-2.133-2.132h-3.297c-1.178,0-2.133,0.955-2.133,2.132    c-1.575-0.235-5.532-1.17-6.635-4.547c2.36-1.092,4.109-2.913,4.669-5.097h1.308c0.722,0,1.309-0.584,1.309-1.308v-0.578    c0-0.584-0.475-1.056-1.056-1.056h-1.539c-0.542-2.332-2.416-4.271-4.968-5.363v-2.559h17.651c0,2.67,2.166,4.835,4.836,4.835 h2.392v15.88h13.639c0,1.629,1.321,2.949,2.951,2.949h0.899v4.711c-2.194,0-3.972,1.778-3.972,3.971v13.529L34.06,75.511z     M95.188,101.78c0,8.655-7.012,15.665-15.664,15.665c-8.653,0-15.667-7.01-15.667-15.665c0-8.647,7.014-15.664,15.667-15.664    C88.177,86.116,95.188,93.132,95.188,101.78z M97.189,45.669h-9.556c0-0.896-0.726-1.62-1.619-1.62H74.494    c-0.896,0-1.621,0.727-1.621,1.62h-8.967v-11.21h33.283V45.669z"}),v("path",{d:"M70.865,101.78c0,4.774,3.886,8.657,8.66,8.657c4.774,0,8.657-3.883,8.657-8.657c0-4.773-3.883-8.656-8.657-8.656    C74.751,93.124,70.865,97.006,70.865,101.78z"})]})}),t&&v("section",{className:"feedback",children:I("p",{children:["Thank you for choosing to dine with us! ",v("span",{children:c}),".",v("br",{}),v("br",{}),"We have received your request and will do our best to accommodate your desired date and time. We will contact you shortly to confirm your booking. If you have any questions or concerns, please feel free to contact us at any time.",v("br",{})," We look forward to welcoming you and hope to see you soon!"]})}),!t&&I("form",{ref:b,id:"contact_form",children:[I("div",{className:"name",children:[v("label",{htmlFor:"name"}),v("input",{type:"text",placeholder:"My name is",name:"name",id:"name_input",onBlur:C=>h(C.target.value.trim()),onChange:_,value:c})]}),I("div",{className:"email",children:[v("label",{htmlFor:"email"}),v("input",{type:"email",placeholder:"My e-mail is",name:"email",id:"email_input",onBlur:C=>d(C.target.value.trim()),onChange:M,value:f})]}),I("div",{className:"telephone",children:[v("label",{htmlFor:"name"}),v("input",{type:"number",placeholder:"My telephone is",name:"telephone",id:"telephone_input",onBlur:C=>r(C.target.value.trim()),onChange:T,value:n})]}),v("div",{className:"seats",children:v("input",{type:"number",placeholder:"seats...",name:"seats",id:"seats_input",onBlur:C=>s(C.target.value.trim()),onChange:k,value:i})}),I("div",{className:"subject",children:[v("label",{htmlFor:"subject"}),v("select",{value:o,onChange:C=>a(C.target.value),name:"subject",id:"subject_input",children:v("option",{value:"reservation",children:"I'd like to make a reservation"})})]}),I("div",{className:"message",children:[v("label",{htmlFor:"message"}),v("textarea",{name:"message",placeholder:"I'd like to...",id:"message_input",cols:"30",rows:"5",onBlur:C=>l(C.target.value.trim()),onChange:x,value:u})]}),I("footer",{children:[v("span",{className:"errorInput",ref:g,children:p!==""?`Escreva ${p}`:""}),v("button",{type:"submit",onClick:E,id:"sendLetter",children:"Enviar"})]})]})]})})}function YZ(){return I("div",{className:"Reservation backgroundFixed",children:[v("h2",{children:"Reservation"}),v(KZ,{})]})}function JZ(){const[t,e,n,r]=ZF(),[i,s]=S.useState([]);S.useEffect(()=>{let u=null;const l=()=>{r(c=>{s(c.sort(o)),u=setTimeout(l,1e4)})};return(i==null?void 0:i.length)===0&&l(),()=>clearTimeout(u)},[r,i]);const o=(u,l)=>l.dateStamp<u.dateStamp?-1:l.dateStamp>u.dateStamp?1:0,a=u=>{n(u,()=>{r(l=>{s(l.sort(o))})})};return I("div",{className:"Orders backgroundFixed",children:[v("h2",{children:"Orders"}),v("section",{className:"orders",children:i==null?void 0:i.map((u,l)=>v(eM,{handleDeleteOrder:()=>a(u.id),dateStamp:u.dateStamp,menuOrders:u.orders,opened:l===0},l))})]})}function XZ(){return I("div",{className:"Community backgroundFixed chickenChicks",children:[v("h2",{children:"Community"}),I("section",{className:"messageInit",children:[v("figure",{}),I("p",{children:["O Churrasco, our restaurant located in the heart of Lisbon, has been making waves in the local food scene since its opening. But don't just take our word for it - we're honored to be featured in several well-respected publications and websites, including TimeOut and various food evaluation sites. Customers have praised our mouth-watering dishes, cozy atmosphere, and top-notch service.",v("br",{})," We invite you to read what they say about us and come experience it for yourself!"]})]}),I("section",{className:"figures",children:[I("div",{className:"avals",children:[v("figure",{className:"avaliations"}),v("figure",{className:"moreAval"})]}),v("figure",{className:"restaurantGuru",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://pt.restaurantguru.com/O-Cantinho-Lisbon-2",children:"https://pt.restaurantguru.com"})})}),v("figure",{className:"timeOut",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.timeout.pt/lisboa/pt/restaurantes/o-churrasco",children:"https://www.timeout.pt"})})}),v("figure",{className:"backstreets",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://culinarybackstreets.com/cities-category/lisbon/2021/o-churrasco-2/",children:"https://culinarybackstreets.com"})})}),v("figure",{className:"comercioComHistoria",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.comerciocomhistoria.gov.pt/listings/restaurante-o-churrasco-3685/",children:"https://www.comerciocomhistoria.gov.pt"})})}),v("figure",{className:"VNG",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.virgiliogomes.com/index.php/restaurantes/127-o-churrasco",children:"http://www.virgiliogomes.com"})})}),v("figure",{className:"tripAdvisor",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.tripadvisor.co/Restaurant_Review-g189158-d1884238-Reviews-Restaurante_O_Churrasco-Lisbon_Lisbon_District_Central_Portugal.html",children:"https://www.tripadvisor.co"})})}),v("figure",{className:"foursquare",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://pt.foursquare.com/v/o-churrasco/4d53e752f9f9b60cfa4728e6?tasteId=53dc4ee5498ea1993c79b17d",children:"https://pt.foursquare.com"})})}),v("figure",{className:"yelp",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.yelp.com/biz/restaurante-o-churrasco-lisboa-2",children:"https://www.yelp.com"})})}),v("figure",{className:"lifecooler",children:v("figcaption",{children:v("a",{target:"_blank",rel:"noopener noreferrer",href:"https://lifecooler.com/artigo/comer/restaurante-o-churrasco/330995",children:"https://lifecooler.com"})})})]})]})}const re={id:"App",path:"/o-churrasco",label:"app",data:{name:"O Churrasco",email:"geral@o-churrasco.pt",phone:"21 342 30 59",mobile:"21 342 30 59",address:"R. das Portas de Santo Anto 85",pCode:"1150-266 Lisboa",country:"Portugal",web:"https://jcolaco.dev/o-churrasco/"},routesData:[{path:"/home/",type:"",title:"Home",element:v(iJ,{})},{path:"/menu/",type:"",title:"Menu",element:v(GZ,{})},{path:"/orders/",type:"",title:"Orders",element:v(JZ,{})},{path:"/reservation/",type:"",title:"reservation",element:v(YZ,{})},{path:"/contacts/",type:"",title:"Contacts",element:v(cJ,{})},{path:"/about-us/",type:"",title:"About us",element:v(bJ,{})},{path:"/community/",type:"",title:"Community",element:v(XZ,{})},{path:"/dashboard/",type:"private",element:v(UZ,{}),title:"Dashboard"},{path:"/login/",type:"public",element:v(kJ,{}),title:"Login"}]};function ZZ(){return re.routesData[0],re.routesData[1],S.useContext(ni),Ws(),I("footer",{className:"appFooter",children:[v(yF,{}),v("section",{children:v("div",{className:"articles",children:I("article",{children:[v("h3",{children:"my Table"}),v(ft,{to:`${re.path}/menu`,children:"Menu"}),v(ft,{to:`${re.path}/reservation`,children:"Reservation"}),v(ft,{to:`${re.path}/orders`,children:"Orders"})]})})}),I("section",{className:"logoSection",children:[v("div",{className:"articles",children:I("article",{children:[v("h3",{children:"The Restaurant"}),v(ft,{to:`${re.path}/home`,children:"Entrance"}),v(ft,{to:`${re.path}/about-us`,children:"About us"}),v(ft,{to:`${re.path}/contacts`,children:"Contacts"}),v(ft,{to:`${re.path}/community`,children:"Community"})]})}),v(ft,{to:`${re.path}`,children:v($S,{white:!0,flames:!0})})]})]})}const eee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAC+CAYAAACLdLWdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAA75SURBVHhe7Z3fbxTXFcdndte/do1tYi+2CRBsID9ICNBUSdM2jUJDHtw3q/8C6kOIEqkKUSr1GdW8JII88RdUilCVSm6bpqpUNQklVZKmFBowC7UhgfgHYO/a3l8zvWf2Lrv2zNo7P3Z3Zs73I13dc68H47W/c+bcO+feqwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIA7VFkDZryRTO4R1XipZXDundnZa9IOPRA+A9aLPPncMxMLl68oxcUl2WNwWpR3uYgfwg8p1WLf8siuiaX/TZO5GSeE8E9JO9REZA1ChBT966JMUKlT9KwIjccXf+wRUY2VWgaTwntdl7YJcf1eUa2PcaekvQZx7T5R/bzUMnhfXHtV2r6h7OXb+gcm8vNzpU57sPH4oRA+iV6Nx1P68rLsEY+y7oSipTOj68VfFnz71t7f5O7eL3UK4kPblOXb3+1bL34p+l+K8gujQ9De26Pk7i8+aiV++lm69+9Lrebyip4tKF3i2vTFS6afw2vE/1v28q8ZHc5AqBMwxqpFTwjRU1X9BChDXn6N6AkheqqqnwBlyNM/ED0hRE9V9RPgAT1PPZ1KX7qqFKZuKMWZmyR6RY93p+iGkJd4jg3R0wCWCnsQ43tMUZNGFepymiqrm9A1dYqexH5ClHepdO4cpT7WQPgeo+vNix5tiJ6mKU+Jco3K6kyKbgLWQPgeE22LSauxbCb6rl27qDK8PImdGqAChO8xkfZ2aTUcGo/U8vSnV6an95a9vOwDVUD4HqPrurQqyJ5/lyr3kLePdHXSHL0VrN7AOgXCbwIy6j9QqtxRDnG0ldVSRxWdO4zwBqKvAwjfY4q5rLQaRs0QZ/XmNM3DQ/R1AOF7TD6Xl5b3SG+/s9QyQSHOuZIJNgPC9xhNs5jI9w5Lbx/rT1KFEMcGEL7HaBaD20ZTmJ9FiGOTUAh/+5GfnpFmy1Ejzf2VRrf0UIUQxyahEH4xX5BW64lEGvPmtjSF2WWawiwuLcLbOyAUwi9ozQ8vaqI27Fc6rq2sSBO4JRzCzzZuJsU2jRM+8JBQ/JW0ojT8gBqatT2hJhTC133kZZup+1hyiCoMbB0QEo/vn1BHjUSl5S1b9h8wDWzju/cqGNg6IxzCL/hI+FHvhU8zOpnpG7JVQS2nvwHbhCPU8dHS4UisIfn441p6zR44Bvc/+5j9ghKnhEL4kSa/NNqIaFubtICfCYXwlRakCdTCTzchqE04Qh0fzWdGGxPqAI8JhfAbNZPihAbF+MBjQiF8P8XVcx9NHpcm8DEh8fh4WwrsEQ7hI00A2CQUwldUW3H1uVhvnzQBV9gNbt+ZnZ2K72rYNpYgIIRjcBu19zE0X6VzglYQklBH1vWCnHn2hEIBCx//xeYUYuN2Qug/8rJv1v+C2rB0femLX+3rHDJy2Q06ktuoeksUq9z290X5lUWhfhO6jqdJEGD5V6IB7urt23TSCYn9reyscRLKBPUbF1Qh+q6KctKi+O4oIFA/bN2TEO6UKCR2S8E7pZj30fpfUBM8lz0Gwg8GEL7HRNuRpBYEwiL8Sa0zIc0Kgy8fbeoMyxvJ5EjmmkXU1G8MnicNG/iCUAhfxOjX+w48L1sVvrtwwRCjbDaDscI3N6VZof/w942fUTaBDwhNqLP42UemuXx90TjSsyGnDdphHqnKvgMxvkfQk6Vt9z68vAoIoRd+fN+eM00Kd8byN8xT+4knn6IK8b3PCJPwSVwnS2aF5avGfkvHGil++t6xh0csvX3mPxePI773H6ERvhTXrVLLxNuiNET88nseK9wyazv2sHFqD7y9DwlbqGPp9SUkfk8HumXRi0Lf20Th1gy8vU8JlfClyM6qie5SxzrUrQ95Fu9vJnoB3YDw9j4ldINbEr+eSVtOH+p3F5TIwEBKiPZVNzfAZqLvHKXDCZWz8Pb+JXTCl9QMebS5OapoIGor5qdr5Q3zqtK/LSW6LEUf6etVVlPXRiF6fxPa7Qk288qElhxSIrO3q58O5dDENBboemz/mZWvL8nWhlBc/560PUF8ljdFZXWEP51/dUradeP19wsiYfX4D+J9UY6rXZ1G33qE6Kki728UPdGd0hMJ8uYP+sqlTtEjrg8IoRU+QeIn76uvrI4OPb1f9tZGzaRFychW/XQ/9gRV9ORAXB8QQi38MiTG219dGhVmralON5xMf32ZYvr3IPrgwEL4hBTlWaWzq9ThDXQjwcsHEDbCJ0igDz1thCVecQuiDyashE8sXPjcNMevPZSkivprlUaESKCFsBO+Fckf/4ieBhSjWxZxSa0cIBBQIHzB/Ae/I68OGMFO+KOvvEjz8oA57ISv4yEHBOxUUHC2782kHjfv4gCCC0Ph56RVP2KAe10dHJYtEAbYCd/pTmfRdut8HxBM2Alfc7hDeGdvr7RAGGAn/JXMqrTs4dPza3dSivH68uuXXtRFbayGAdbw8/gOQ522jg5p+YrXRKG8+jVl6eIlJdrTMwXx14bf4DZrf3BLLPz1w0C95CouLlI1bjSACVbCFx5wJH/njmyFm0hp+tXqhBcg4Obxx5RsVpqB4lw0sUWa9dF38CBNwxq7aQEz7EKd9Wil/HxfLxckARczS3uFecKinBbFxMKnn9DXQA3YC7+wbbvxgko2fQuJX5RT64v40kzpCmAH9sKPRnGCCUfYC1+NhnaHFbAB7IUfaWuXln0GXkCKc1CB8KNRadmnkMMJh0EFwneRipAP5tQoELAXfqy9TVr2wZm2wYW98KMucnAcLmppOGpXnCq8td0AhDqq81kdv3r8+MhevLXdBAg/6vxX4DTT00v6Dx0y7Xrc3uXpbnGhBDF+m4sXWLN3ytuRtwRKO77738uyVSHa7nymigvshT//4R8dpxurWWNRSysPkB7XVs0zS3PI09kU9sIHPIHw62dSL82WgBDASviDL7/iOMXgHdpiZLtxbi0IAayEn19x96Y1EnP+sgv4C17Cz65Iyxmqi6lP4C9Y/SULuYK0nBFr9+VOC8ABrIRfdJlN6Sa9AfgLXh7fZTZlEIQf7TF2fEOeziawEr5WcBfq+HRTqTV0jYwiT6cO2AifUgv0776VLWdEfbaN4MAz3zPl6XQkkKdTD5w8/pjqclZn9g8f+GY3NcrTuXflqmxVmP8E6Qr1wCrUCRnjhaUlaQK7QPiAJRC+SwaP/AQ7LQQQCN8leYe7L4PWwlr4Wof7fTNzEH4g4S38Aff7ZhZyEH4QYS181cVmUmUg/GDCWvhenGulFYrSAkGCtfCjLvbNLOM2DcJLYlsHqEKeTh3A47tE//Z2S3Za6Dt42JSuEN89gjydOmHu8d2vqFJLGZ9N3WmB0hUWp8zpCkFIovMLEH4wGdcyaWlWmD//d+Tp1Alv4be7j/FBMOEtfA+mM0EwYSP8waNjppyaWAc8PlfYCN/q9JK5P//ebn79pExzAAGHkfDdv2Gl9IZicli2QJBhI/xi3ps3rH5bfgicwUb4uq5Lyx2YCQoHfDx+wZtDHNyckgj8Ax/he3Q0Z9TNQRIeQG9tY719pnQFtStBFfJ06oTP4NajLEofzP2PF+7fk2aFzt3YT8cObITvVfqwX/NhcO6VPfgMbj2K8Vsd6tTi/ucXkKdjAz4ev+iNx7c6EDr5kvMDJ0BrYCF8ypePzN2SLXfELObx81h+GDi4ePyxSM44odA13/5p0pTmkF/15nuD5sEm1GkkOYsjN4G/gfA9oJD1ZuAMmgeE7wF+WnAO6gPC9wD9zkzTFpz3Pfm46a0tsA9b4XuxfWCZyEqGqoYvODcWmaduyBZwA1vhFweGXW8f2ALGtRXzDFJkaz9VyNOxAVvhq5HwfPTuPY8hT8cmbIXvxWZSfmHxnzj+xy58hR/FSirO8A11VGkAlrAQ/rajPzMlkWElFW9YCD9vNRMSg/A5w0P4OfOb1TDN6gD7sPjrFyyyJyF83vAQftYibRijW9awEH7RIonMxcZQk3pHpzSbS/LZZ015OpGeHqrw1tYmLISvWyw7VB0Kn9IcIsM7ZKu5ZDMr0qrQuesRvLV1ABPha9Kq4CbQUaPN/7VRglr6hjm1qLPb2E8H2ISH8GVdjRpxLv0W7Z9peQrKwvnzSFdwAAvhK7rZ4wvlS8M+0Y7AHiFksPX5H7LP6efh8TVzjO9mNtPFw8IXaHnsCsFE+OZgR3Ozbbg3Gy+3jGIeSyVZCN9qyr7oYkvBoL8CsJre5QYL4Vt5aNVFWnIhwKECzQ6tplKyxRcWwrc6zMFNnBvwXRXG9ZVlafKFhfA7Eua57lzGWCDuCBWnogQeFsLv6tsirQpu4tzCqsX0KAgULIR/79O/mfa71L6ZdrQXDv2bwgy2+Ag6PAa3FkSWl6hyshfOWCRrzpkJOpF4nCo2yW5she8lesIIpTzZnKpVaMvLJzglu0H4NqAwp2PkCdP6XTWzdDyAm1OxhovwJzt27JRmBb17y5l643x53bHs9culjuZDYcjpklkhkohPiJ9tj2xuCF3XltyOvTcFLIRP3jh7c8Y0wFXTS0rH40+kNhI/fU2UV4V5TJS3jc4q2oYGqWp4mCPDkJlSq4KWWVbio6NT4md8k4Qtu9dA/fT1WP/QVH72G9m7BrqhWC1mCfjL9/oRf/iR9h07U7mbJu0o+sCgos7dKd8Yk3Sj0PXCHus9ePjM/X99UfqKNRTmvCfthkIC7kgmp7Kzs7LHBAnY9AEjPX0T2qL5iNAqKL4/JW0WsBE+IYRDnnvDg9rU4YeVngOHlXsXPlXUe/OytyYnRTlLN0qp2XjIc4vKy3CFbpZ35ROFDaw2l/lBIjEnKnpf/4LRYYUIf7LXrijq6qZTlk0XPSE+wx1RkcN6zuhwB0vRE6yEf355+Z4QDmVoXe0YHh4rps0rmjaDFpqrxQKFRb9ttugJ8Rnuis9wRZg3o4nEUT3v+BgitqInWIU61cgY3nLAWov+Q4eU+S+/HG2F4K2gmF9Ur4vymtFRB927dynpG9O0XPEcV9ETbIVPSPEbb2/VRPcZff2a1kS30v3ok0r6i3+sGfhK2xdI8Y+LQvO1G90A5YEva8GXYS38aqpvgip8J/RaVN0AtYDgAQAAAAAAAAAAAAAAAAAAAAAA+AZF+T+sTua4OLj6FAAAAABJRU5ErkJggg==",tee="/assets2/chicken-4c891be7.png",nee="/assets2/wine-b0fdaaf1.png",ree="/assets2/service-9b00c31b.png",iee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAC+CAYAAACLdLWdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAA7wSURBVHhe7d1dcxvVGQfws5JsWbblxInfnTi2EygTMqEtL+ElhcSlSeu2kzu+QW4CF8ANU1rKRSnTTmcMFzE3fAKgU+rp1EPTTtM3psnA0AGGDkOxHew4cWIHJ05sWba02/OsjmVJu5tI8p7do93/b0bsWWGQovy1fs7ZPWcZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAHNLGV4tn29kG+OZHbM429Pj8/KdoAtnhu+vlmOLdnGue5uSDarpAd/Of4ZiS3xzU2Mbay/LzYw5cAimwEvq69Y3R9/mruSS66rYVlbywNuBl+qcF/5Uc/NhbOnxN7xbREAzNSq/QlwBcg5DYCH2vfMZqZ/zr3pNXTPCdviPaWRcVWioOLi0t8czy3VyKToX/Sv9Mfbmr637mVlUV6AsJFhP4kf/xKX0mZzzkY5xn5QLS3LCK2fqJy6Bn+AVB/AEKkIPQvmk94SIXgE4Q/ZPwMPVEl+ITCXzgCBMFGoza2oV9PJFmqdbfYk8PT4BvtXbShDu1r1CjFe+8jOOoHHx3tmwcHRsVuqVfrUjcHEoszT4t9KTwNfnzPXsZ75hT60/xhCX/2BvWFcdQPgeFbk1OiWeRV/niThi31gw87fTFc4Wnw1z583xzDF8OXpyPbd9BukVh7G476AUZH+0hLi12o86GnnzEm/5t7VhJPg1933/35k1kUfv361xsns/Iy8wu0wVE/uIb1JfM3e6lZCr1oD0dv2f6Ma6QGv/Pw4c2ztlwmvSJaeWP8YVvvQ/DQkVxranI62o/nmt6QGnw9a56k2qQbopEjSp6Z3N4m/uGg3AmmYWN5WTRz9GQLbcwSx3zCI1KDH4kUXxGhT1+gb/0dAy0+HJQ7IRC5uUSXIngaeiI5+HWilaOtrtKmNNAod0LA7NQ2JqSO1FRCavANQxctZ07lDgTOsM21OJ7X9hukBp8X+aJRuZ0PPlTUMYZAKhzJ8ZTU4MdiolGF6198XlZ/AKAaUoOv6yWjOs7GtGRSNHNwFhdkkhv87J1rfEJ1fnL/vWIPgqj78KPKdGyJ3Bq/ggleS+fPWc7iQnAsXVNrnpEywYdgy6yvi5YapAY/W3rmFkIru7YmWmqQe8QvvkIBQqy+qUm01CA1+IaBUgdykl3mJCRlSA1+JlP+CayWB7+NE1YBduXsWakzqiolNfhaBQf89LJ5HQ+AJ6TWIq8cf9JY+OhjsZf3/Ou56Yd5dIZWa26ZMKyTDyw/eyd0MRTfFC4/B3JUtKwf/3s5xTelY/m2i0RV8rPVkhr8X/7gmDH/4X/EXp5d8IuXGtxUUfDN0Dc2TbGV4mu+QYqKgmgX5siuPqZfnLYsDehF8KWWOtEtXKwT7zQ7Q3TJciWGEXpljbOGhGjm8NDTxpffznKHM8so8vm3e1Dr22c52qevzNHRHmtqKshINNKmosuJzaP6akqZDq7U4GfLu1bnhDH9pWhCLdBSK67Nmsomt42aJarHpAbfMG5/BouO9nxjXTIr3kD/rLTMIXQUepolt+f2QDXjrLFZNHOiN2/Q5qTX4Zfauf3F8ePGtY8+Ent5+Q4r/8O60qktJT5EpUd2tM7uUePKZbGXYzQlmbZ8U6nxbgdV36iB/93YdVxJvvPq8DO1M6rz8tCTxo1P7Ycz+R9uMNo3OJGdti3jtxT8WmD3lxs/cD/79dn3pP6d+M0p+EbPINMuTZojPF4EX26N71DiU+jr9/Q5hZ4CX02ZU/OSrcWTcQKKylGaa1uEh54Z3X1TPBuelDyej+pEdvVTafPM2lfmUFaReG8vbU7zb3YoR3MW/vm3WihztoSO6HzzJn9Yw395mmV3dk2xgXvtSiFXSQ2+ZnN5pn7RLA2ptrdIz85iCDMENsLfNLg390SB6LU5xqY+E3vySA1+JFrRnYZCW+KEEYV/eXJioK6jQzzjLanBj0bv3E+ra2+jDU07DG2JE1YU/vWrVwcSfXJvAmHH81KnxGvr8wt7+QfwGkIfThT+1PTMAG9aan6Z5HZumeOZWyprcJQHE4Wfb2w7vLJIDb6hOwZ/Bkd5KLQR/rb7DuaekExq8LMZ2+CjEwu2KPwLH39iO6TbO3TU1SFOP4JPR3sc6cHJeP1u6zkst5cnkVvqYJUFqBAd9ddmLliO+pkyV+Url9wjPtbVAbdUMoG7DH51bgEqE6noZOgdSQ3+VqYeAhSKxupFyx2Sa3wU+eCOq2f/4uoFfFKDr6HUAUXJDX6gp1RALZMazZ88dMhITVmG7MueXUUTVvim2ruijKl8vsCLWUZuE5NEqp3SWfZ0RS8+G6nBf+GBh4z0V1NiL++2wS8Me2L3rpHUzEVqVizSsp3pS9cLbzah1BehFoJfGnSjsXlUW7kl9ioT7dnFspcubtTpt/0S2H027UeOsJ++845reZUWfAqw1pCYMFYtt3i0BL8w7LHW1pHMopS7Z9Br0m1FlfgCqBz8jcA3DPSPrk6VdZCuiF4fZ5G1tOOXwO6z2fmdw+yl373rWl5l1vgnbEKfR2Hnj+foocXjE/wpmpIoK/TEXNGhrq1tQrwu7qhYgn8m/fxxyog30K9pKaEnPPS0oWCPRto7aJ7tKfFwnm+bNv8b10jt3NrZduTxEf4HHIx3deTDbrj8h7qd9YUF2ow0D+zBF0CgwPHHKdbUZAZeS3u3crU+f5U25pdA2z3gONnc7ZFxz4N//dwHTGtunkjPmX/gimgNDazhrrtY8qB56SrV78+3PvIoa/7WN/n/s7IVCm5NfUUbc+J7mMNPQWs5sN8MPFuubN1RIx5n0YF+Vv+Nu1hi/36WOHCAxfbtM5+vhjEzxTLxxqm1bW2lJSCL1rt7Aktmje+0WFRZGnb3s9WZC6V3QnSsz0V4i0aAYt29I5nLs2Lvtqj+93RSDH+/vtb4FHi+GdaSzaPGzTt3WGPdu1jmcr5zusG2k7rx/87tFWjrGGULlR/wSPfRI+yFt2ujc1tx8Jv23s2WJ77YCPuWO6GFX4b44L6R9KTzGp0tdw+ypS8maRqkJ+H3M/gimCf540XzCQex3r0sMztR1khMOQq/EA333Du6+nlFqynUxnBmucFP7OpjqYvTroXdScGXgGY22y5vkujrZanpWU/C73Pw7V47L9q7j2Vnv6TAbznsTgq/BNHOntHslUvUvJ2aCf5gpLllQrfe5cQU7+xk6StXKPCeDi+KL8Az/GEbfs6Tssev4FPg6nu6p9YuFa/bWYDmvb4pK/B28l+CROMoS63knrRy9bOR1rml4ERbd4q9YrG2HRR6X1ZXEK93mj+cTqLRF6KorxAUImAn7UIvZj3RUd7T0BN6Pf54g4d+wKg3V8q26B0acvwNVQ2pozpOQ1CZha99XTGtjPDvFr8ZgoZKC9u6nmY9UfgohOIpz9Fra2urpR1oU2bd3RtESws+BSe7MCf2NhkNVa9976o7hD+wR30HVN5UdIcTicZjveZvnyKV3Dq2HDKP+LZnbrc/cGgjdL4T74MuYwgtI1eOel7eODGP+h3WldWyRg3NubVz419/Lx2b99tYwz0HRDPYdtx3j6VO1havUYmjROjz6m2mGRruRtXz4cxYVw/LzF1SK/w7u0YYrdJbrOzLp6vBPx/PR3UcXpPKnLLO8nnF6Oob1eaKl5Fvffgx9vIffh/ME1iKCUvwa8KOw0+wn7/7W9fy6nmpA/7peuJwTYaeaLE60XIHgh8i2VXvroJ1W13c3RU7EPwQqU8U32qzlmQy7i5O5nmNH2nrZPqCeamCEiKtbSP6onmNfqnA1fi/eeopY/bsWbFXRKUOLt0IzXKSbefQEHvprbdqunMrNVCV8ut9+hF8u9fUk9tZ5OZ18zab4ilf8ffYH+0bmMpOF8/VbjtylP3snbfRuQV3xPbsNU8aiV3f0XuJd/eIvU2xOnRuwUWRlibRUtvcn8/YXsNTLQQ/5GJr7q4774aYTSo7Hq+hG0OA+iIKLncXiVjf09V/nMURH1wUUS8CXqyyjeCHnL6u3s07DHmDjXkIftgpuKK1FzcUQfBDzoujq4oQ/JCz60j6zYt3hOCHnYKdWy/eE4Lvk87jw2pcIqypFwEvbiGF4PtFkduDqXiDPiOL4AeW4fLk6aqp8j48huCHnKbgmVsMZ0I4efBdRPB9osqRVsVbEWM4M8B03d2VwaqlqTicaXNQ6Dl2HFdnBoGeVSP4teLSmT/h6swg0HUFawxFeFF+Ifh+UaTUiShY6nhxSEDwfaKF9OKwsuDMbYAp8slHojYLtPrNg5NqCL5PVDneK3j+ypOhXgTfJ6pcKaDimVsEP8B0RWY+GSEdXULwfeLF9SjlUS/4dgeF7mPfxwmsINCzagRfxTO3doXO5TPv4QRWEOiKFPlKFjqo8YNLlYWclOzcim2hrqHvodQJAlUCF4mpN45vN/VQc/l3E4LvE1UuUps/80dXa2c32I00uV2SIfg+0V2+YXGQ2B3x3R4EQ/B9osr1+O3HfqjGag9FrGWg21ezIvg+cftXd/XU69zafTpuv0sE3y+GIoFTcO6hXRno9rtE8P2iyCevyqUThbI2Kzi7XRoi+D5Rcq6rIuxCrrm84hs+fb+ocnGYKiVXAS1qXd0NNX5A6ArW1sqwKb8idjfG2gIE3ycRRRZrvfbXcfVOYEWsZ5M1l9f4RPB9oil4qYAq7KZDur2MP4LvE03Fua6K0Ji11MFlyQERs+nAQY7mwV1aEHyfqHhVpDI8OLcgM/hjWkNCNMEiosYRv+fYMfWu1an1WwF5cUuXWrW+khItf106c0a5UR09nRYteWQG/wRLr4omlMqkvP9ser6r4NHdhp6Rf9Np1Pg+Sd1YEK1N7Y88IDWY16/Oidam1kOHlPsy2E1Oa3vsEVffJ4LP+yKNu/tEMyfR2UGbMXNHkmRLUrQ2xZPbREuOlU8/sZQ1i+fPK1fqpD//zPKeFt7/t6vvU9q40bPt7YN8cyK3V2Ts9fn5SdFWgs17lf4e+Wv2881wbi9vnL/uBdF2nR+vWY1aeZ8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISx/wMUWXfZ2d1xgQAAAABJRU5ErkJggg==",see="/assets2/cheff-942531dc.png";function oee(){return I("section",{className:"QualityBadges",children:[I("article",{children:[v("figure",{style:{backgroundImage:`url(${eee})`}}),v("h4",{children:"Excellent cuisine"}),v("p",{children:"Our menu features exquisite cuisine crafted with the finest ingredients, ensuring a dining experience that is second to none"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${tee})`}}),v("h4",{children:"Delicious grilled chicken"}),v("p",{children:" Our succulent, charcoal-grilled chicken is a true culinary masterpiece, and has become synonymous with excellence"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${nee})`}}),v("h4",{children:"Refined wine selection"}),v("p",{children:"Experience our carefully curated wine list, featuring the very best vintages from around the world"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${ree})`}}),v("h4",{children:"Impeccable service"}),v("p",{children:"Let our friendly and knowledgeable staff provide you with an unforgettable dining experience, characterized by attentive and personalized service"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${iee})`}}),v("h4",{children:"Enchanting terrace space"}),v("p",{children:"Relax and unwind in our charming outdoor seating area, a serene and picturesque oasis"})]}),I("article",{children:[v("figure",{style:{backgroundImage:`url(${see})`}}),v("h4",{children:"Exceptional quality"}),v("p",{children:"Discover our commitment to uncompromising quality, reflected in every dish we prepare and every ingredient we use"})]})]})}function Es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d1(t,e)}function ey(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function ef(t,e){if(e&&(wr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Es(t)}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ti(t)}function aee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uee(t){return yJ(t)||aee(t)||vJ(t)||wJ()}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lee={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},cee=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sr(this,t),this.init(e,n)}return _r(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||lee,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,Tx(Tx({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),jr=new cee,js=function(){function t(){Sr(this,t),this.observers={}}return _r(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(u){u.apply(u,[n].concat(i))})}}}]),t}();function Rl(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function kx(t){return t==null?"":""+t}function hee(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function JS(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function Cx(t,e,n){var r=JS(t,e,Object),i=r.obj,s=r.k;i[s]=n}function fee(t,e,n,r){var i=JS(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],r&&(s[o]=s[o].concat(n)),r||s[o].push(n)}function Jp(t,e){var n=JS(t,e),r=n.obj,i=n.k;if(r)return r[i]}function xx(t,e,n){var r=Jp(t,n);return r!==void 0?r:Jp(e,n)}function tM(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):tM(t[r],e[r],n):t[r]=e[r]);return t}function _a(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var dee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function pee(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return dee[e]}):t}var ty=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,mee=[" ",",","?","!",";"];function gee(t,e,n){e=e||"",n=n||"";var r=mee.filter(function(a){return e.indexOf(a)<0&&n.indexOf(a)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function Ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ox(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yee(t){var e=vee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function vee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var o=2,a=r.slice(s,s+o).join(n),u=i[a];u===void 0&&r.length>s+o;)o++,a=r.slice(s,s+o).join(n),u=i[a];if(u===void 0)return;if(u===null)return null;if(e.endsWith(a)){if(typeof u=="string")return u;if(a&&typeof u[a]=="string")return u[a]}var l=r.slice(s+o).join(n);return l?nM(u,l,n):void 0}i=i[r[s]]}return i}}var wee=function(t){ey(n,t);var e=yee(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Sr(this,n),i=e.call(this),ty&&js.call(Es(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return _r(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,s];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(c=i.split("."));var h=Jp(this.data,c);return h||!l||typeof o!="string"?h:nM(this.data&&this.data[i]&&this.data[i][s],o,u)}},{key:"addResource",value:function(i,s,o,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=this.options.keySeparator;l===void 0&&(l=".");var c=[i,s];o&&(c=c.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(c=i.split("."),a=s,s=c[1]),this.addNamespaces(s),Cx(this.data,c,a),u.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(i,s,u,o[u],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,s];i.indexOf(".")>-1&&(c=i.split("."),a=o,o=s,s=c[1]),this.addNamespaces(s);var h=Jp(this.data,c)||{};a?tM(h,o,u):h=Ff(Ff({},h),o),Cx(this.data,c,h),l.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ff(Ff({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(a){return s[a]&&Object.keys(s[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(js),rM={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var o=this;return e.forEach(function(a){o.processors[a]&&(n=o.processors[a].process(n,r,i,s))}),n}};function Nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bee(t){var e=Eee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function Eee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ax={},Rx=function(t){ey(n,t);var e=bee(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Sr(this,n),i=e.call(this),ty&&js.call(Es(i)),hee(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Es(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=jr.create("translator"),i}return _r(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!gee(i,o,a);if(l&&!c){var h=i.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:i,namespaces:u};var f=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(f[0])>-1)&&(u=f.shift()),i=f.join(a)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,s,o){var a=this;if(wr(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],s),h=c.key,f=c.namespaces,d=f[f.length-1],p=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){var b=s.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(d).concat(b).concat(h),usedKey:h,exactUsedKey:h,usedLng:p,usedNS:d}:"".concat(d).concat(b).concat(h)}return u?{res:h,usedKey:h,exactUsedKey:h,usedLng:p,usedNS:d}:h}var g=this.resolve(i,s),y=g&&g.res,w=g&&g.usedKey||h,E=g&&g.exactUsedKey||h,_=Object.prototype.toString.apply(y),T=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,M=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(x&&y&&M&&T.indexOf(_)<0&&!(typeof k=="string"&&_==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,y,an(an({},s),{},{ns:f})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return u?(g.res=C,g):C}if(l){var ae=_==="[object Array]",me=ae?[]:{},he=ae?E:w;for(var G in y)if(Object.prototype.hasOwnProperty.call(y,G)){var fe="".concat(he).concat(l).concat(G);me[G]=this.translate(fe,an(an({},s),{joinArrays:!1,ns:f})),me[G]===fe&&(me[G]=y[G])}y=me}}else if(x&&typeof k=="string"&&_==="[object Array]")y=y.join(k),y&&(y=this.extendTranslation(y,i,s,o));else{var ie=!1,X=!1,P=s.count!==void 0&&typeof s.count!="string",Y=n.hasDefaultValue(s),B=P?this.pluralResolver.getSuffix(p,s.count,s):"",ue=s["defaultValue".concat(B)]||s.defaultValue;!this.isValidLookup(y)&&Y&&(ie=!0,y=ue),this.isValidLookup(y)||(X=!0,y=h);var q=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ie=q&&X?void 0:y,Te=Y&&ue!==y&&this.options.updateMissing;if(X||ie||Te){if(this.logger.log(Te?"updateKey":"missingKey",p,d,h,Te?ue:y),l){var xe=this.resolve(h,an(an({},s),{},{keySeparator:!1}));xe&&xe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ge=[],Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(var Oe=0;Oe<Q.length;Oe++)ge.push(Q[Oe]);else this.options.saveMissingTo==="all"?ge=this.languageUtils.toResolveHierarchy(s.lng||this.language):ge.push(s.lng||this.language);var Ae=function(ii,ny,XS){var ZS=Y&&XS!==y?XS:Ie;a.options.missingKeyHandler?a.options.missingKeyHandler(ii,d,ny,ZS,Te,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(ii,d,ny,ZS,Te,s),a.emit("missingKey",ii,d,ny,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?ge.forEach(function(Ir){a.pluralResolver.getSuffixes(Ir,s).forEach(function(ii){Ae([Ir],h+ii,s["defaultValue".concat(ii)]||ue)})}):Ae(ge,h,ue))}y=this.extendTranslation(y,i,s,g,o),X&&y===h&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(h)),(X||ie)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(h):h,ie?y:void 0):y=this.options.parseMissingKeyHandler(y))}return u?(g.res=y,g):y}},{key:"extendTranslation",value:function(i,s,o,a,u){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,an(an({},this.options.interpolation.defaultVariables),o),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(an(an({},o),{interpolation:an(an({},this.options.interpolation),o.interpolation)}));var c=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(c){var f=i.match(this.interpolator.nestingRegexp);h=f&&f.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=an(an({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),c){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;h<m&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,w=new Array(y),E=0;E<y;E++)w[E]=arguments[E];return u&&u[0]===w[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(w[0]," in key: ").concat(s[0])),null):l.translate.apply(l,w.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var b=o.postProcess||this.options.postProcess,g=typeof b=="string"?[b]:b;return i!=null&&g&&g.length&&o.applyPostProcessor!==!1&&(i=rM.handle(g,i,s,this.options&&this.options.postProcessPassResolved?an({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,u,l,c,h;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!s.isValidLookup(a)){var d=s.extractFromKey(f,o),p=d.key;u=p;var m=d.namespaces;s.options.fallbackNS&&(m=m.concat(s.options.fallbackNS));var b=o.count!==void 0&&typeof o.count!="string",g=b&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),y=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",w=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);m.forEach(function(E){s.isValidLookup(a)||(h=E,!Ax["".concat(w[0],"-").concat(E)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(h)&&(Ax["".concat(w[0],"-").concat(E)]=!0,s.logger.warn('key "'.concat(u,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(h,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(_){if(!s.isValidLookup(a)){c=_;var T=[p];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(T,p,_,E,o);else{var k;b&&(k=s.pluralResolver.getSuffix(_,o.count,o));var x="".concat(s.options.pluralSeparator,"zero");if(b&&(T.push(p+k),g&&T.push(p+x)),y){var M="".concat(p).concat(s.options.contextSeparator).concat(o.context);T.push(M),b&&(T.push(M+k),g&&T.push(M+x))}}for(var C;C=T.pop();)s.isValidLookup(a)||(l=C,a=s.getResource(_,E,C,o))}}))})}}),{res:a,usedKey:u,exactUsedKey:l,usedLng:c,usedNS:h}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),n}(js);function Nv(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Px=function(){function t(e){Sr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jr.create("languageUtils")}return _r(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Nv(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Nv(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Nv(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var o=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var o=r.getLanguagePartFromCode(s);if(r.isSupportedCode(o))return i=o;i=r.options.supportedLngs.find(function(a){if(a.indexOf(o)===0)return a})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],a=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(n))):typeof n=="string"&&a(this.formatLanguageCode(n)),s.forEach(function(u){o.indexOf(u)<0&&a(i.formatLanguageCode(u))}),o}}]),t}(),See=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_ee={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},Iee=["v1","v2","v3"],Dx={zero:0,one:1,two:2,few:3,many:4,other:5};function Tee(){var t={};return See.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:_ee[e.fc]}})}),t}var kee=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sr(this,t),this.languageUtils=e,this.options=n,this.logger=jr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Tee()}return _r(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,a){return Dx[o]-Dx[a]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):s.numbers.map(function(o){return r.getSuffix(n,o,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!Iee.includes(this.options.compatibilityJSON)}}]),t}();function Lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Cee=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Sr(this,t),this.logger=jr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return _r(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:pee,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?_a(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?_a(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?_a(r.nestingPrefix):r.nestingPrefixEscaped||_a("$t("),this.nestingSuffix=r.nestingSuffix?_a(r.nestingSuffix):r.nestingSuffixEscaped||_a(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var o=this,a,u,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(b){return b.replace(/\$/g,"$$$$")}var f=function(g){if(g.indexOf(o.formatSeparator)<0){var y=xx(r,c,g);return o.alwaysFormat?o.format(y,void 0,i,hr(hr(hr({},s),r),{},{interpolationkey:g})):y}var w=g.split(o.formatSeparator),E=w.shift().trim(),_=w.join(o.formatSeparator).trim();return o.format(xx(r,c,E),_,i,hr(hr(hr({},s),r),{},{interpolationkey:E}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,p=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(g){return h(g)}},{regex:this.regexp,safeValue:function(g){return o.escapeValue?h(o.escape(g)):h(g)}}];return m.forEach(function(b){for(l=0;a=b.regex.exec(n);){var g=a[1].trim();if(u=f(g),u===void 0)if(typeof d=="function"){var y=d(n,a,s);u=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,g))u="";else if(p){u=a[0];continue}else o.logger.warn("missed to pass in variable ".concat(g," for interpolating ").concat(n)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=kx(u));var w=b.safeValue(u);if(n=n.replace(a[0],w),p?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,u;function l(d,p){var m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;var b=d.split(new RegExp("".concat(m,"[ ]*{"))),g="{".concat(b[1]);d=b[0],g=this.interpolate(g,u);var y=g.match(/'/g),w=g.match(/"/g);(y&&y.length%2===0&&!w||w.length%2!==0)&&(g=g.replace(/'/g,'"'));try{u=JSON.parse(g),p&&(u=hr(hr({},p),u))}catch(E){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),E),"".concat(d).concat(m).concat(g)}return delete u.defaultValue,d}for(;o=this.nestingRegexp.exec(n);){var c=[];u=hr({},s),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var h=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=f.shift(),c=f,h=!0}if(a=r(l.call(this,o[1].trim(),u),u),a&&o[0]===n&&typeof a!="string")return a;typeof a!="string"&&(a=kx(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),a=""),h&&(a=c.reduce(function(d,p){return i.format(d,p,s.lng,hr(hr({},s),{},{interpolationkey:o[1].trim()}))},a.trim())),n=n.replace(o[0],a),this.regexp.lastIndex=0}return n}}]),t}();function Fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(o){var a=o.split(":"),u=uee(a),l=u[0],c=u.slice(1),h=c.join(":").trim().replace(/^'+|'+$/g,"");n[l.trim()]||(n[l.trim()]=h),h==="false"&&(n[l.trim()]=!1),h==="true"&&(n[l.trim()]=!0),isNaN(h)||(n[l.trim()]=parseInt(h,10))}})}}return{formatName:e,formatOptions:n}}function Ia(t){var e={};return function(r,i,s){var o=i+JSON.stringify(s),a=e[o];return a||(a=t(i,s),e[o]=a),a(r)}}var Oee=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Sr(this,t),this.logger=jr.create("formatter"),this.options=e,this.formats={number:Ia(function(n,r){var i=new Intl.NumberFormat(n,si({},r));return function(s){return i.format(s)}}),currency:Ia(function(n,r){var i=new Intl.NumberFormat(n,si(si({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Ia(function(n,r){var i=new Intl.DateTimeFormat(n,si({},r));return function(s){return i.format(s)}}),relativetime:Ia(function(n,r){var i=new Intl.RelativeTimeFormat(n,si({},r));return function(s){return i.format(s,r.range||"day")}}),list:Ia(function(n,r){var i=new Intl.ListFormat(n,si({},r));return function(s){return i.format(s)}})},this.init(e)}return _r(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Ia(r)}},{key:"format",value:function(n,r,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.split(this.formatSeparator),u=a.reduce(function(l,c){var h=xee(c),f=h.formatName,d=h.formatOptions;if(s.formats[f]){var p=l;try{var m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},b=m.locale||m.lng||o.locale||o.lng||i;p=s.formats[f](l,b,si(si(si({},d),o),m))}catch(g){s.logger.warn(g)}return p}else s.logger.warn("there was no format function for ".concat(f));return l},n);return u}}]),t}();function Mx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nee(t){var e=Aee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function Aee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ree(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var Pee=function(t){ey(n,t);var e=Nee(n);function n(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Sr(this,n),o=e.call(this),ty&&js.call(Es(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=jr.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return _r(n,[{key:"queueLoad",value:function(i,s,o,a){var u=this,l={},c={},h={},f={};return i.forEach(function(d){var p=!0;s.forEach(function(m){var b="".concat(d,"|").concat(m);!o.reload&&u.store.hasResourceBundle(d,m)?u.state[b]=2:u.state[b]<0||(u.state[b]===1?c[b]===void 0&&(c[b]=!0):(u.state[b]=1,p=!1,c[b]===void 0&&(c[b]=!0),l[b]===void 0&&(l[b]=!0),f[m]===void 0&&(f[m]=!0)))}),p||(h[d]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),u=a[0],l=a[1];s&&this.emit("failedLoading",u,l,s),o&&this.store.addResourceBundle(u,l,o),this.state[i]=s?-1:2;var c={};this.queue.forEach(function(h){fee(h.loaded,[u],l),Ree(h,i),s&&h.errors.push(s),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(function(f){c[f]||(c[f]={});var d=h.loaded[f];d.length&&d.forEach(function(p){c[f][p]===void 0&&(c[f][p]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(h){return!h.done})}},{key:"read",value:function(i,s,o){var a=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:u,wait:l,callback:c});return}this.readingCalls++;var h=function(m,b){if(a.readingCalls--,a.waitingReads.length>0){var g=a.waitingReads.shift();a.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(m&&b&&u<a.maxRetries){setTimeout(function(){a.read.call(a,i,s,o,u+1,l*2,c)},l);return}c(m,b)},f=this.backend[o].bind(this.backend);if(f.length===2){try{var d=f(i,s);d&&typeof d.then=="function"?d.then(function(p){return h(null,p)}).catch(h):h(null,d)}catch(p){h(p)}return}return f(i,s,h)}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var l=this.queueLoad(i,s,a,u);if(!l.toLoad.length)return l.pending.length||u(),null;l.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),u=a[0],l=a[1];this.read(u,l,"read",void 0,void 0,function(c,h){c&&s.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(u," failed"),c),!c&&h&&s.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(u),h),s.loaded(i,c,h)})}},{key:"saveMissing",value:function(i,s,o,a,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var h=$x($x({},l),{},{isUpdate:u}),f=this.backend.create.bind(this.backend);if(f.length<6)try{var d;f.length===5?d=f(i,s,o,a,h):d=f(i,s,o,a),d&&typeof d.then=="function"?d.then(function(p){return c(null,p)}).catch(c):c(null,d)}catch(p){c(p)}else f(i,s,o,a,c,h)}!i||!i[0]||this.store.addResource(i[0],s,o,a)}}}]),n}(js);function Ux(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(wr(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),wr(e[2])==="object"||wr(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Vx(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function jx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t){var e=Lee();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ef(this,i)}}function Lee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mf(){}function Fee(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var Xp=function(t){ey(n,t);var e=Dee(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Sr(this,n),r=e.call(this),ty&&js.call(Es(r)),r.options=Vx(i),r.services={},r.logger=jr,r.modules={external:[]},Fee(Es(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),ef(r,Es(r));setTimeout(function(){r.init(i,s)},0)}return r}return _r(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var a=Ux();this.options=kr(kr(kr({},a),this.options),Vx(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=kr(kr({},a.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function u(g){return g?typeof g=="function"?new g:g:null}if(!this.options.isClone){this.modules.logger?jr.init(u(this.modules.logger),this.options):jr.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=Oee);var c=new Px(this.options);this.store=new wee(this.options.resources,this.options);var h=this.services;h.logger=jr,h.resourceStore=this.store,h.languageUtils=c,h.pluralResolver=new kee(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=u(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Cee(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Pee(u(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var y=arguments.length,w=new Array(y>1?y-1:0),E=1;E<y;E++)w[E-1]=arguments[E];i.emit.apply(i,[g].concat(w))}),this.modules.languageDetector&&(h.languageDetector=u(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=u(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Rx(this.services,this.options),this.translator.on("*",function(g){for(var y=arguments.length,w=new Array(y>1?y-1:0),E=1;E<y;E++)w[E-1]=arguments[E];i.emit.apply(i,[g].concat(w))}),this.modules.external.forEach(function(g){g.init&&g.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Mf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(g){i[g]=function(){var y;return(y=i.store)[g].apply(y,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(g){i[g]=function(){var y;return(y=i.store)[g].apply(y,arguments),i}});var m=Rl(),b=function(){var y=function(E,_){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(_),o(E,_)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?b():setTimeout(b,0),m}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mf,a=o,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return a();var l=[],c=function(d){if(d){var p=s.services.languageUtils.toResolveHierarchy(d);p.forEach(function(m){l.indexOf(m)<0&&l.push(m)})}};if(u)c(u);else{var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.forEach(function(f){return c(f)})}this.options.preload&&this.options.preload.forEach(function(f){return c(f)}),this.services.backendConnector.load(l,this.options.ns,function(f){!f&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),a(f)})}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=Rl();return i||(i=this.languages),s||(s=this.options.ns),o||(o=Mf),this.services.backendConnector.reload(i,s,function(u){a.resolve(),o(u)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&rM.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=Rl();this.emit("languageChanging",i);var u=function(f){o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.resolvedLanguage=void 0,o.setResolvedLanguage(f)},l=function(f,d){d?(u(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(f,function(){return o.t.apply(o,arguments)})},c=function(f){!i&&!f&&o.services.languageDetector&&(f=[]);var d=typeof f=="string"?f:o.services.languageUtils.getBestMatchFromCodes(f);d&&(o.language||u(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){l(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),a}},{key:"getFixedT",value:function(i,s,o){var a=this,u=function l(c,h){var f;if(wr(h)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),m=2;m<d;m++)p[m-2]=arguments[m];f=a.options.overloadTranslationOptionHandler([c,h].concat(p))}else f=kr({},h);f.lng=f.lng||l.lng,f.lngs=f.lngs||l.lngs,f.ns=f.ns||l.ns,f.keyPrefix=f.keyPrefix||o||l.keyPrefix;var b=a.options.keySeparator||".",g;return f.keyPrefix&&Array.isArray(c)?g=c.map(function(y){return"".concat(f.keyPrefix).concat(b).concat(y)}):g=f.keyPrefix?"".concat(f.keyPrefix).concat(b).concat(c):c,a.t(g,f)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=s,u.keyPrefix=o,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var c=function(d,p){var m=s.services.backendConnector.state["".concat(d,"|").concat(p)];return m===-1||m===2};if(o.precheck){var h=o.precheck(this,c);if(h!==void 0)return h}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(a,i)&&(!u||c(l,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=Rl();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=Rl();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],u=i.filter(function(l){return a.indexOf(l)<0});return u.length?(this.options.preload=a.concat(u),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Px(Ux());return s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mf,a=kr(kr(kr({},this.options),s),{isClone:!0}),u=new n(a);(s.debug!==void 0||s.prefix!==void 0)&&(u.logger=u.logger.clone(s));var l=["store","services","language"];return l.forEach(function(c){u[c]=i[c]}),u.services=kr({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new Rx(u.services,u.options),u.translator.on("*",function(c){for(var h=arguments.length,f=new Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];u.emit.apply(u,[c].concat(f))}),u.init(a,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(js);ri(Xp,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Xp(t,e)});var on=Xp.createInstance();on.createInstance=Xp.createInstance;on.createInstance;on.dir;on.init;on.loadResources;on.reloadResources;on.use;on.changeLanguage;on.getFixedT;on.t;on.exists;on.setDefaultNamespace;on.hasLoadedNamespace;on.loadNamespaces;on.loadLanguages;const Mee="Hello",$ee="products",Uee={greeting:Mee,products:$ee},Vee={label:"portuguese",code:"PT"},jee="products",Bee="categorias",qee="catalogos",zee="destaques",Wee="Bem-vindo ",Qee="A empresa",Hee={submit:"enviar",subscribe:"subscrever",send:"enviar"},Gee={label:"contactos",title:"contacte-nos",name:"nome",email:"email",subject:"assunto",telephone:"telefone",company:"empresa",message:"mensagem"},Kee={support:{title:"Suporte Especializado",message:"Comerciais experientes para ajudar"},price:{title:"O melhor preo",message:"Garantia do melhor preo"},budget:{title:"Oramentos Grtis",message:"Consulte-nos sem compromisso"},deliver:{title:"Entregas em todo o pas",message:"Dispomos de viaturas prprias"},assembly:{title:"Montagem",message:"Equipas especializadas"},quality:{title:"Garantia de Qualidade",message:"2 anos de garantia"}},Yee={title:"SUBSCREVA A NOSSA NEWSLETTER",message:""},Jee={title:"sobre ns",messageWithTags:"<p>A <strong><em>Ergoface Mobilirio de Escritrio, Lda</em></strong>  uma empresa em Portugal que se dedica  venda de mobilirio de escritrio e prestao de servios para empresas. O seu principal objetivo  fornecer solues que promovam o bem-estar e a produtividade dos seus clientes.</p><p>A <strong><em>Ergoface</em></strong> destaca-se pela sua preocupao com a ergonomia, ou seja, a adaptao do mobilirio e equipamento de escritrio s necessidades e caractersticas individuais de cada pessoa. A empresa oferece uma vasta gama de produtos, desde cadeiras ergonmicas a secretrias ajustveis em altura, que permitem a correo da postura e reduo do desconforto fsico, prevenindo assim leses e doenas profissionais.</p><p>Mas a <strong><em>Ergoface</em></strong> no se limita a vender mobilirio de qualidade, a empresa est empenhada em melhorar a qualidade de vida dos trabalhadores, promovendo a felicidade no trabalho e o aumento da produtividade.</p><p>Em resumo, a <strong><em>Ergoface Mobilirio de Escritrio, Lda</em></strong>  uma empresa que se preocupa com o bem-estar e a sade dos seus clientes, oferecendo solues personalizadas e inovadoras em mobilirio de escritrio com ergonomia e segurana no trabalho. Com a <strong><em>Ergoface</em></strong>, os clientes podem contar com um ambiente de trabalho mais confortvel, saudvel e feliz.</p></div>"},Xee={title:"Questes frequentes",options:{a:{title:"O que  a Ergoface mobilirio de escritrio, lda?",message:"A Ergoface mobilirio de escritrio, lda  uma empresa que vende mobilirio de escritrio e presta servios para negcios em Portugal. A empresa oferece uma vasta gama de produtos, incluindo cadeiras, mesas, armrios, estantes, entre outros itens."},b:{title:"A Ergoface mobilirio de escritrio, lda oferece servios de instalao?",message:"Sim, a Ergoface mobilirio de escritrio, lda oferece servios de instalao para os seus produtos, garantindo assim que tudo fica devidamente montado e funcional."},c:{title:"A Ergoface mobilirio de escritrio, lda oferece garantia nos seus produtos?",message:"Sim, a Ergoface mobilirio de escritrio, lda oferece garantia nos seus produtos, que varia consoante o tipo de produto e as suas caractersticas."},d:{title:"A Ergoface mobilirio de escritrio, lda faz entregas em todo o pas?",message:"Sim, a Ergoface mobilirio de escritrio, lda faz entregas em todo o pas, garantindo assim que os seus clientes tm acesso aos seus produtos e servios em qualquer parte de Portugal."},e:{title:"A Ergoface mobilirio de escritrio, lda oferece servios personalizados?",message:"Sim, a Ergoface mobilirio de escritrio, lda oferece servios personalizados, adaptando-se assim s necessidades especficas dos seus clientes."},f:{title:"A Ergoface mobilirio de escritrio, lda tem loja fsica onde os clientes podem visitar?",message:"Sim, a Ergoface mobilirio de escritrio, lda tem loja fsica onde os clientes podem visitar, experimentar os produtos e receber aconselhamento especializado."},g:{title:"Qual  o processo de encomenda na Ergoface mobilirio de escritrio, lda?",message:"O processo de encomenda na Ergoface mobilirio de escritrio, lda  simples. Os clientes podem encomendar atravs do website da empresa, loja fsica ou atravs de um representante comercial. Aps a encomenda, a Ergoface mobilirio de escritrio, lda far a entrega e, se necessrio, a instalao do produto."}}},Zee={lang:Vee,products:jee,categories:Bee,catalogs:qee,highlights:zee,greeting:Wee,theCompany:Qee,actions:Hee,contacts:Gee,badges:Kee,newsletter:Yee,aboutUs:Jee,faq:Xee};function ete(){return I("section",{className:"TopNotes",children:[I("article",{children:[I("p",{children:["Bem-vindo ao ",v("strong",{children:"Churrasco"})]}),I("a",{href:`tel:+351${Hp(re.data.mobile)}`,children:[v("figure",{className:"mobile"}),re.data.mobile]})]}),I("article",{children:[I("a",{href:`tel:+351${Hp(re.data.phone)}`,children:[v("figure",{className:"phone"}),re.data.phone]}),I("a",{href:`mailto:${re.data.email}?subject = webMail&body = Message`,children:[v("figure",{className:"email"}),re.data.email]})]})]})}function tte({setOpen:t=n=>n,open:e=!1}){return I("div",{className:"MenuHamburger",children:[v("input",{onChange:r=>r,checked:e,type:"checkbox",id:"hi"}),I("label",{onClick:r=>{r.preventDefault(),t(!e)},className:"menu",htmlFor:"hi",children:[v("div",{className:"bar"}),v("div",{className:"bar"}),v("div",{className:"bar"})]})]})}function nte(){const t=qu(),[e,n]=S.useState(!1),[r,i]=S.useState(!1);return S.useEffect(()=>{const s=()=>{i(window.innerWidth>1100),n(window.innerWidth>1100)};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),S.useEffect(()=>{n(!1)},[t]),I("nav",{id:"SideNav",children:[I("div",{children:[v(ft,{className:"logo",to:`${re.path}/home`,children:v($S,{flames:!1})}),I("ul",{className:e?"open":"",children:[v("li",{children:v(ft,{to:`${re.path}/home`,className:t.pathname===`${re.path}/home`?"active":"",children:"Entrance"})}),v("li",{children:v(ft,{to:`${re.path}/menu`,className:t.pathname===`${re.path}/menu`?"active":"",children:"Menu"})}),v("li",{children:v(ft,{to:`${re.path}/reservation`,className:t.pathname===`${re.path}/reservation`?"active":"",children:"Reservation"})}),v("li",{children:v(ft,{to:`${re.path}/orders`,className:t.pathname===`${re.path}/orders`?"active":"",children:"Orders"})}),v("li",{children:v(ft,{to:`${re.path}/contacts`,className:t.pathname===`${re.path}/contacts`?"active":"",children:"Contacts"})}),v("li",{children:v(ft,{to:`${re.path}/about-us`,className:t.pathname===`${re.path}/about-us`?"active":"",children:"About us"})}),v("li",{children:v(ft,{to:`${re.path}/community`,className:t.pathname===`${re.path}/community`?"active":"",children:"Community"})})]})]}),v(tte,{open:e,setOpen:n})]})}on.use(gJ).init({lng:"en",resources:{en:{translation:Uee},pt:{translation:Zee}}});const Ta=[re],rte=()=>{const t=Ws(),e=zW();dg(d=>d.theme);const[n,r]=S.useState(Ta[0]),[i,s]=S.useState(Ta[0].navLinks),[o,a]=S.useState(`/${location.pathname.split("/")[1]||""}`),[u,l]=S.useState(`/${location.pathname.split("/")[2]||""}`),c=S.useRef(),h=S.useRef();S.useEffect(()=>{Ta.map(d=>{d.path.toLowerCase()===o.toLowerCase()&&r(d)})},[]),S.useEffect(()=>{const d=`/${location.pathname.split("/")[1]||""}`,p=`/${location.pathname.split("/")[2]||""}`;a(d),l(p),s(f(n,p)),Ta.map(m=>{if(m.path.toLowerCase()===d.toLowerCase()){r(m),s(f(m,p));return}})},[t]),S.useEffect(()=>{s(f(n,u)),e(MQ((n==null?void 0:n.path)||"/"))},[n]);function f(d,p){var b,g;return((g=(b=d==null?void 0:d.routesData)==null?void 0:b.filter(y=>y.path===p)[0])==null?void 0:g.navLinks)||[]}return v(vh,{children:I(jY,{children:[v(zY,{}),v(o1,{}),v(WY,{}),v("div",{id:"top",ref:c}),v(ete,{}),I("div",{id:"appContainer",ref:h,className:"font_Merienda",children:[v(nte,{}),v("main",{className:"appRoutes",children:I(A4,{children:[Ta.map(d=>nJ(d)),v(Hi,{path:"*",element:v(MS,{path:`${Ta[0].path}`})})]})})]}),v(oee,{}),v(ZZ,{})]})})};Av.createRoot(document.getElementById("root")).render(v(Ce.StrictMode,{children:v(F4,{basename:"/",children:v(Z7,{children:v(jW,{store:qQ,children:v(HQ,{reCaptchaKey:"6LcjmG0kAAAAAPpCH_do6eLkv8QwAiTVOhcI4WlA",children:v(rte,{})})})})})}))});export default ite();
//# sourceMappingURL=index-1bdbd1f2.js.map
